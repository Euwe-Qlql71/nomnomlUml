{"version":3,"sources":["lib/codemirror/lib/codemirror.js","addon/search/searchcursor.js","addon/edit/matchbrackets.js","codemirror/codemirror-compressed.js","../../../AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["global","factory","exports","module","define","amd","CodeMirror","userAgent","navigator","platform","gecko","test","ie_upto10","ie_11up","exec","edge","ie","ie_version","document","documentMode","webkit","qtwebkit","chrome","presto","safari","vendor","mac_geMountainLion","phantom","ios","android","mobile","mac","chromeOS","windows","presto_version","match","Number","flipCtrlCmd","captureRightClick","classTest","cls","RegExp","rmClass","node","current","className","after","slice","index","length","removeChildren","e","count","childNodes","removeChild","firstChild","removeChildrenAndAdd","parent","appendChild","elt","tag","content","style","createElement","cssText","createTextNode","i","eltP","setAttribute","range","createRange","start","end","endNode","r","setEnd","setStart","body","createTextRange","moveToElementText","parentNode","collapse","moveEnd","moveStart","contains","child","nodeType","host","activeElt","activeElement","shadowRoot","addClass","joinClasses","a","b","as","split","selectInput","select","selectionStart","selectionEnd","value","_e","bind","f","args","Array","prototype","call","arguments","apply","copyObj","obj","target","overwrite","prop","hasOwnProperty","countColumn","string","tabSize","startIndex","startValue","search","n","nextTab","indexOf","Delayed","id","set","ms","clearTimeout","setTimeout","array","scrollerGap","Pass","toString","sel_dontScroll","scroll","sel_mouse","origin","sel_move","findColumn","goal","pos","col","skipped","Math","min","spaceStrs","spaceStr","push","lst","arr","map","out","insertSorted","score","priority","splice","nothing","createObj","base","props","inst","Object","create","nonASCIISingleCaseWordChar","isWordCharBasic","ch","toUpperCase","toLowerCase","isWordChar","helper","source","isEmpty","extendingChars","isExtendingChar","charCodeAt","skipExtendingChars","str","dir","charAt","findFirst","pred","from","to","midF","mid","ceil","floor","iterateBidiSections","order","found","part","max","level","bidiOther","getBidiPartAt","sticky","cur","bidiOrdering","lowTypes","arabicTypes","charType","code","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","direction","outerType","len","types","i$1","prev","type","i$2","type$1","i$3","prev$1","type$2","i$4","type$3","replace","j","i$5","cur$1","type$4","i$6","end$1","before","replace$1","j$1","m","i$7","at","j$2","nstart","unshift","reverse","getOrder","line","text","noHandlers","on","emitter","addEventListener","attachEvent","map$$1","_handlers","concat","getHandlers","off","removeEventListener","detachEvent","signal","handlers","signalDOMEvent","cm","override","preventDefault","defaultPrevented","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","returnValue","e_stopPropagation","stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","which","button","ctrlKey","dragAndDrop","div","zwspSupported","zeroWidthElement","measure","offsetHeight","offsetWidth","badBidiRects","hasBadBidiRects","txt","r0","getBoundingClientRect","r1","left","right","splitLinesAuto","result","l","nl","rt","hasSelection","window","getSelection","te","range$$1","ownerDocument","selection","parentElement","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","hasBadZoomedRects","normal","fromRange","abs","modes","mimeModes","defineMode","name","mode","dependencies","defineMIME","mime","spec","resolveMode","getMode","options","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","copyState","state","nstate","val","innerMode","info","startState","a1","a2","StringStream","lineOracle","lastColumnPos","lastColumnValue","lineStart","eol","sol","peek","undefined","next","eat","ok","eatWhile","eatSpace","this$1","skipToEnd","skipTo","backUp","column","indentation","pattern","consume","caseInsensitive","cased","substr","hideFirstChars","inner","lookAhead","oracle","baseToken","getLine","doc","first","size","Error","chunk","lines","children","sz","chunkSize","getBetween","iter","getLines","updateLineHeight","height","diff","lineNo","no","lineAtHeight","h","outer","lh","isLine","lineNumberFor","String","lineNumberFormatter","firstLineNumber","Pos","cmp","equalCursorPos","copyPos","x","maxPos","minPos","clipLine","clipPos","last","clipToLen","linelen","clipPosArray","SavedContext","Context","maxLookAhead","baseTokens","baseTokenPos","nextLine","fromSaved","saved","save","copy","highlightLine","context","forceToEnd","st","modeGen","lineClasses","runMode","loop","o","overlay","overlays","i_end","opaque","styles","classes","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","styleClasses","highlightFrontier","modeFrontier","precise","display","findStartLine","processLine","viewFrom","viewTo","startAt","stream","callBlankLine","readToken","blankLine","token","Token","takeToken","asArray","tokens","extractLineClasses","output","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","indented","retreatFrontier","sawReadOnlySpans","sawCollapsedSpans","seeReadOnlySpans","seeCollapsedSpans","MarkedSpan","marker","getMarkedSpanFor","spans","span","removeMarkedSpan","addMarkedSpan","markedSpans","attachLine","markedSpansBefore","old","startCh","isInsert","nw","startsBefore","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","stretchSpansOverChange","change","full","oldFirst","oldLast","sameLine","offset","span$1","found$1","clearEmptySpans","newMarkers","gap","gapMarkers","clearWhenEmpty","removeReadOnlyRanges","markers","mark","readOnly","parts","mk","find","p","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","lineNo$$1","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","findMaxLine","d","maxLine","maxLineLength","maxLineChanged","Line","estimateHeight","updateLine","estHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","cache","buildLineContent","lineView","builder","pre","trailingSpace","splitSpaces","getOption","rest","addToken","buildToken","buildTokenBadBidi","allowFrontierUpdate","externalMeasured","insertLineContent","maps","caches","lastChild","querySelector","defaultSpecialCharPlaceholder","title","startStyle","endStyle","css","attributes","displayText","special","specialChars","mustWrap","createDocumentFragment","lastIndex","txt$1","tabWidth","specialCharPlaceholder","fullStyle","attr","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","input","needsContentAttribute","setUneditable","allText","nextChange","spanStyle","spanEndStyle","spanStartStyle","Infinity","foundBookmarks","endStyles","upto","tokenText","LineView","hidden","buildViewArray","nextPos","view","operationGroup","pushOperation","op","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","group","callbacks","cursorActivityCalled","finishOperation","endCb","orphanDelayedCallbacks","signalLater","list","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","zIndex","updateLineBackground","background","wrap","insertBefore","getLineContent","ext","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","lineNumbers","wrap$1","gutterWrap","lineNumber","gutterLeft","lineNumInnerWidth","k","gutterSpecs","gutterWidth","alignable","nextSibling","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","width","wrapperWidth","coverGutter","paddingLeft","position","marginLeft","widgetHeight","parentStyle","gutters","wrapper","clientWidth","eventInWidget","getAttribute","sizer","mover","paddingTop","lineSpace","offsetTop","paddingVert","paddingH","cachedPaddingH","getComputedStyle","currentStyle","data","parseInt","paddingRight","isNaN","scrollGap","nativeBarWidth","displayWidth","scroller","barWidth","displayHeight","clientHeight","barHeight","ensureLineHeights","rect","wrapping","lineWrapping","curWidth","heights","rects","getClientRects","bottom","top","mapFromLineView","updateExternalMeasurement","lineMeasure","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","key","measureCharInner","bogus","rtop","rbottom","nullRect","nodeAndOffsetInLineMap","mStart","mEnd","coverStart","coverEnd","getUsefulRect","place","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","cachedCharWidth","cachedTextHeight","lineNumChars","pageScrollX","pageXOffset","documentElement","scrollLeft","pageScrollY","marginTop","pageYOffset","scrollTop","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","viewOffset","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","get","getBidi","partPos","invert","other","estimateCoords","PosWithInfo","outside","xRel","coordsChar","y","coordsCharInner","rangeEnd","wrappedLineExtent","begin","wrappedLineExtentChar","targetTop","boxIsAfter","box","widgetHeight$$1","ltr","coordsBidiPartWrapped","coordsBidiPart","chAround","boxAround","baseX","atLeft","atStart","_lineNo","ref","closestDist","endX","dist","measureText","textHeight","anchor","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","space","clientX","clientY","colDiff","round","regChange","lendiff","updateLineNumbers","viewChanged","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","sel","ranges","primIndex","empty","showCursorWhenSelecting","drawSelectionCursor","head","drawSelectionRange","cursor","cursorHeight","otherCursor","cmpCoords","fragment","padding","leftSide","rightSide","sizerWidth","docLTR","add","drawForLine","fromArg","toArg","lineLen","wrapX","side","extent","fromPos","toPos","openStart","openEnd","openLeft","openRight","topLeft","topRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","cursorDiv","visibility","cursorBlinkRate","setInterval","ensureFocus","focus","onFocus","delayBlurEvent","delayingBlurEvent","onBlur","selForContextMenu","reset","receivedFocus","shift","updateHeightsInViewport","prevBottom","lineDiv","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","maybeScrollWindow","doScroll","innerHeight","scrollNode","scrollIntoView","scrollPosIntoView","margin","limit","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","updateScrollTop","setScrollLeft","snapMargin","screentop","docBottom","atTop","atBottom","newTop","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","getCursor","scrollToPos","cursorScrollMargin","scrollToCoords","scrollToRange","scrollToCoordsRange","sPos","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollHeight","scrollbars","isScroller","scrollWidth","alignHorizontally","measureForScrollbars","gutterW","docH","viewHeight","viewWidth","barLeft","docHeight","NativeScrollbars","vert","horiz","tabIndex","checkedZeroWidth","minHeight","minWidth","update","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","pointerEvents","bar","delay","maybeDisable","elt$$1","elementFromPoint","clear","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","paddingBottom","heightForcer","borderBottom","scrollbarFiller","coverGutterNextToScrollbar","gutterFiller","scrollbarModel","initScrollbars","scrollbarStyle","axis","nextOpId","startOperation","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","wheelStartX","wheelStartY","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","operation","methodOp","docMethodOp","time","highlight","highlightWorker","Date","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","force","visible","editorIsHidden","wrapperHeight","oldDisplayWidth","events","scrollbarsClipped","marginBottom","borderRightWidth","selectionSnapshot","hasFocus","active","anchorNode","extend","anchorOffset","focusNode","focusOffset","restoreSelection","snapshot","removeAllRanges","addRange","renderedView","maybeUpdateLineNumberWidth","viewportMargin","different","lastWrapHeight","lastWrapWidth","toUpdate","selSnapshot","patchDisplay","selectionDiv","reportedViewFrom","reportedViewTo","updateNumbersFrom","container","rm","currentWheelTarget","updateNumber","updateGutterSpace","alignWidgets","comp","align","innerW","lineGutter","lineNumWidth","getGutters","sawLineNumbers","renderGutters","specs","gElt","updateGutters","Display","draggable","wheelDX","wheelDY","activeTouch","init","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","onScrollWheel","canScrollX","canScrollY","pixels","movedX","movedY","sample","Selection","equals","here","there","deepCopy","Range","somethingSelected","normalizeSelection","mayTouch","selectionsMayTouch","prim","sort","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","estimateHeight$$1","spansFor","linesFor","firstLine","lastText","lastSpans","nlines","insert","remove","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","directionChanged","History","startGen","done","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","pop","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","history","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","addSelectionToHistory","clearRedo","dest","existing","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","event","newChanges","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","newSel","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","preventCursorLeft","selectLeft","preventCursorRight","selectRight","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","cancel","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","filter","returned","v","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","replaceRange","assign","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","copied","changeLine","handle","changeType","LeafChunk","removeInner","insertInner","iterN","BranchChunk","oldHeight","remaining","leaf","maybeSpill","me","spilled","sibling","myIndex","used","LineWidget","opt","adjustScrollWhenAboveVisible","oldH","addLineWidget","insertAt","aboveVisible","nextMarkerId","TextMarker","withOp","visual","dHeight","markText","markTextShared","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","SharedTextMarker","cloneNode","isParent","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","constructor","getValue","join","lineSeparator","setValue","getRange","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","listSelections","setCursor","extendSelectionsBy","setSelections","addSelection","getSelections","replaceSelection","dup","replaceSelections","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","link","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","lastDrop","onDrop","clearDragCursor","files","dataTransfer","isReadOnly","FileReader","File","read","loadFile","file","allowDropFileTypes","reader","onload","readAsText","draggingText","text$1","getData","selected","onDragStart","setData","effectAllowed","setDragImage","img","src","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","globalsRegistered","ensureGlobalHandlers","registerGlobalHandlers","resizeTimer","onResize","setSize","keyNames","fromCharCode","keyMap","basic","pcDefault","emacsy","macDefault","normalizeKeyName","alt","ctrl","cmd","mod","normalizeKeyMap","keymap","keyname","keys","lookupKey","getKeyMap","fallthrough","isModifierKey","keyCode","addModifierNames","noShift","altKey","metaKey","shiftKey","keyName","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","moveInStorageOrder","prep","moveVisually","bidi","mv","getWrappedLineExtent","searchInVisualLine","getRes","res","nextCh","commands","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","leftPos","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","lineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","execCommand","transposeChars","newlineAndIndent","sels","indentLine","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","lookupKeyForEditor","keyMaps","extraKeys","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","handleKeyBinding","motion","handleCharBinding","lastStoppedKey","onKeyDown","handled","showCrossHair","up","onKeyUp","onKeyPress","charCode","DOUBLECLICK_DELAY","PastClick","compare","lastClick","lastDoubleClick","clickRepeat","now","onMouseDown","supportsTouch","clickInGutter","repeat","selectingText","handleMappedButton","leftButtonDown","onContextMenu","configureMouse","option","unit","addNew","moveOnDrag","behavior","contained","dragDrop","leftButtonStartDrag","leftButtonSelect","moved","dragEnd","mouseMove","dragStart","e2","rangeForUnit","findWordAt","ourRange","ourIndex","startSel","lastPos","extendTo","startCol","posCol","oldRange","ranges$1","bidiSimplify","editorSize","counter","curCount","move","buttons","anchorLine","boundary","headIndex","usePart","gutterEvent","prevent","mX","mY","touches","lineBox","g","contextMenuInGutter","themeChanged","theme","Init","defaults","optionHandlers","defineOptions","deflt","notOnInit","defineOption","newBreaks","refresh","getInputField","spellcheck","autocorrect","autocapitalize","detach","attach","wrappingChanged","integer","blur","readOnlyChanged","dragDropChanged","resetPosition","getField","wasOn","funcs","dragFunctions","toggle","enter","over","leave","drop","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","registerEventHandlers","finishInit","initHooks","textRendering","word","touchFinished","prevTouch","finishTouch","isMouseLikeTouchEvent","touch","radiusX","radiusY","farAway","pageX","pageY","inp","defineInitHook","how","aggressive","indent","curSpace","curSpaceString","indentUnit","indentString","indentWithTabs","pos$1","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","recent","paste","textLines","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","getModeAt","electricInput","copyableRanges","lineRange","disableBrowserMagic","field","hiddenTextarea","border","addEditorMethods","helpers","setOption","getDoc","addKeyMap","removeKeyMap","addOverlay","modeSpec","removeOverlay","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelper","getHelpers","help","_global","getStateAfter","defaultTextHeight","defaultCharWidth","getViewport","addWidget","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","findPosH","amount","hitSide","rtlMoveVisually","findPosV","goalColumn","goals","headPos","startChar","check","scrollTo","getScrollInfo","interpret","swapDoc","phrase","phraseText","phrases","getWrapperElement","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","predicate","origDir","findNextLine","moveOnce","boundToLine","sawType","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","updateFromDOM","readFromDOMSoon","forceCompositionEnd","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","showMultipleSelections","curAnchor","domToPos","curFocus","bad","posToDOM","rangeCount","getRangeAt","rng","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","pollSelection","poll","pollInterval","isInGutter","pollContent","fromIndex","fromNode","toIndex","toNode","previousSibling","newText","domTextBetween","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","contentEditable","scan","badPos","closing","extraLinebreak","recognizeMarker","close","addText","walk","cmText","markerID","isBlock","nodeName","textContent","nodeValue","lineNode","locateNodeInLineView","textNode","topNode","curNode","dist$1","TextareaInput","prevInput","pollingFast","createField","textarea","fastPoll","prepareCopyCut","dispatchEvent","Event","_display","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldCSS","oldWrapperCSS","wrapperBox","offsetParent","oldScrollY","scrollY","rehide","detectingSelectAll","prepareSelectAllHack","extval","mouseup","disabled","fromTextArea","tabindex","placeholder","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","addLegacyProps","cmpPos","dontDelegate","method","defineExtension","func","defineDocExtension","version","require","regexpFlags","regexp","flags","ignoreCase","multiline","ensureFlags","maybeMultiline","searchRegexpForward","searchRegexpForwardMultiline","inside","startLine","lastMatchIn","cutOff","newMatch","searchRegexpBackward","searchRegexpBackwardMultiline","doFold","noFold","normalize","adjustPos","orig","folded","foldFunc","searchStringForward","query","caseFold","fold","cutFrom","endString","searchStringBackward","lastIndexOf","topString","SearchCursor","atOccurrence","matches","findNext","findPrevious","getSearchCursor","ie_lt8","matching","bracketRegex","config","findMatchingBracket","afterCursor","re","strict","scanForBracket","forward","maxScanLen","maxScanLineLength","maxScanLines","stack","matchBrackets","autoclear","maxHighlightLen","maxHighlightLineLength","marks","doMatchBrackets","currentlyHighlighted","oldConfig","eh","xe","I","c","$f","E","C","M","Vg","od","yh","Uc","cg","fh","Wd","Xd","ye","Ae","R","Ee","Wc","mh","Qg","frontier","hc","hd","z","uh","H","B","Ec","N","A","Qc","Rc","uf","gg","D","Q","oh","F","G","nf","of","dg","ah","J","mc","oc","K","Gg","checkedOverlay","L","Fd","Ed","O","$","P","lc","ig","jg","T","S","U","pc","ab","V","W","jd","nd","u","sf","tf","md","rh","bb","X","qc","cc","Z","Y","_","cb","kb","gb","ib","hb","jb","db","eb","fb","Of","lb","mb","nb","Kg","qb","ob","rb","pb","sb","tb","ub","wb","Fh","vb","bh","$g","ee","xb","qe","se","yb","zb","Ab","inaccurateSelection","Bb","Cb","Db","vc","sc","kg","Vh","zc","Eb","Fb","Gb","hg","qh","Hb","eg","Ib","Jb","Kb","Lb","Mb","Nb","Ob","Pb","Qb","Rb","Sb","Yb","Tb","Ub","Vb","Wb","Ig","Xb","Zb","rg","Og","$b","ac","Ng","_b","Sg","bc","dc","ec","fc","Kc","Jc","Lh","q","nc","qf","gc","ic","Ge","kc","If","Kf","bd","jc","Wg","He","ph","rc","tc","fd","uc","xc","wc","kd","Ac","nh","yc","Bc","s","t","Jh","Cc","Dc","Fc","Gc","Hc","yf","Ic","Mh","Nh","Uh","Lc","Mc","Nc","Oc","Oh","Ph","Xh","Pc","Tc","Sc","Vc","Xc","Yc","Zc","$c","_c","ad","isCursor","le","cd","dd","ed","rf","gd","ld","td","Mg","sd","Ad","rd","Ag","Yd","Jd","simple","Dg","Dd","Cd","Td","Rd","Ud","pd","Hg","qd","Eg","Fg","wd","lastMiddleDown","Vd","vd","ud","Ah","xd","yd","Xg","Tg","zd","Cg","Bd","$d","ke","Id","Hd","Gd","Kd","Ie","Rg","Ld","Le","Nd","Me","Md","Od","Ne","Pd","Qd","Hh","Sd","Zd","_d","ae","be","ce","de","ff","fe","pg","cf","bg","zg","ge","sg","mg","ef","he","je","Wf","Vf","oe","ne","pe","Zg","ue","ve","Yh","ih","we","ze","Ke","Oe","Je","Se","Ue","Re","pf","Ye","Qe","Te","Ve","We","Xe","Ze","$e","af","bf","df","vg","gf","hf","jf","kf","lf","mf","vf","xf","zf","wf","Bf","Cf","Df","Ef","Ff","Gf","Pe","Hf","Jf","Nf","Mf","Lf","Qf","Eh","Sf","Uf","vh","Ch","Pf","Rf","Tf","Af","Xf","Yf","fg","Zh","lg","tg","ng","og","qg","ug","wg","xg","yg","Jg","Lg","Pg","Yg","dh","hh","jh","kh","sh","wh","xh","zh","Bh","Dh","Ih","Qh","Rh","Sh","Th","Wh","overlayHack","_g","fakedLastChar","Gh","substring","startData","applyComposition","contenteditable","Fe","Ug","Be","Ce","De","Left","Right","Up","Down","End","Home","PageUp","PageDown","Delete","Backspace","Tab","Enter","Insert","Esc","Kh","Zf","_f","ag","Bg","gh","sublime","sublimeFindFullWord","F9","F2","sublimeBookmarks","sublimeBookmark","sublimeMark","sublimeKilled","F3","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","onmessage","JSON","parse","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","parcelRequire","every","generated","js","console","hmrApply","hmrAcceptRun","reload","onclose","log","removeErrorOverlay","error","message","createErrorOverlay","getElementById","stackTrace","innerText","innerHTML","getParents","modules","parents","dep","isArray","Function","deps","cached","some"],"mappings":"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","file":"codemirror-compressed.a880349b.js","sourceRoot":"..","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// This is CodeMirror (https://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n  // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = !edge && /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n\n  var ios = !edge && /AppleWebKit/.test(userAgent) && /Mobile\\/\\w+/.test(userAgent);\n  var android = /Android/.test(userAgent);\n  // This is woefully incomplete. Suggestions for alternative methods welcome.\n  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n  if (presto_version) { presto_version = Number(presto_version[1]); }\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n  var rmClass = function(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count)\n      { e.removeChild(e.firstChild); }\n    return e\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e)\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) { e.className = className; }\n    if (style) { e.style.cssText = style; }\n    if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n    else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n    return e\n  }\n  // wrapper for elt, which removes the elt from the accessibility tree\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e\n  }\n\n  var range;\n  if (document.createRange) { range = function(node, start, end, endNode) {\n    var r = document.createRange();\n    r.setEnd(endNode || node, end);\n    r.setStart(node, start);\n    return r\n  }; }\n  else { range = function(node, start, end) {\n    var r = document.body.createTextRange();\n    try { r.moveToElementText(node.parentNode); }\n    catch(e) { return r }\n    r.collapse(true);\n    r.moveEnd(\"character\", end);\n    r.moveStart(\"character\", start);\n    return r\n  }; }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      { child = child.parentNode; }\n    if (parent.contains)\n      { return parent.contains(child) }\n    do {\n      if (child.nodeType == 11) { child = child.host; }\n      if (child == parent) { return true }\n    } while (child = child.parentNode)\n  }\n\n  function activeElt() {\n    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n    try {\n      activeElement = document.activeElement;\n    } catch(e) {\n      activeElement = document.body || null;\n    }\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n      { activeElement = activeElement.shadowRoot.activeElement; }\n    return activeElement\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n    if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n  }\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n    for (var i = 0; i < as.length; i++)\n      { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n    return b\n  }\n\n  var selectInput = function(node) { node.select(); };\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\n  else if (ie) // Suppress mysterious IE10 errors\n    { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function(){return f.apply(null, args)}\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) { target = {}; }\n    for (var prop in obj)\n      { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n        { target[prop] = obj[prop]; } }\n    return target\n  }\n\n  // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n      if (end == -1) { end = string.length; }\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n      if (nextTab < 0 || nextTab >= end)\n        { return n + (end - i) }\n      n += nextTab - i;\n      n += tabSize - (n % tabSize);\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function() {this.id = null;};\n  Delayed.prototype.set = function (ms, f) {\n    clearTimeout(this.id);\n    this.id = setTimeout(f, ms);\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i)\n      { if (array[i] == elt) { return i } }\n    return -1\n  }\n\n  // Number of pixels added to scroller and sizer to hide scrollbar\n  var scrollerGap = 30;\n\n  // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n  var Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\n  // Reused option objects for setSelection & friends\n  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n  // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n      if (nextTab == -1) { nextTab = string.length; }\n      var skipped = nextTab - pos;\n      if (nextTab == string.length || col + skipped >= goal)\n        { return pos + Math.min(skipped, goal - col) }\n      col += nextTab - pos;\n      col += tabSize - (col % tabSize);\n      pos = nextTab + 1;\n      if (col >= goal) { return pos }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n  function spaceStr(n) {\n    while (spaceStrs.length <= n)\n      { spaceStrs.push(lst(spaceStrs) + \" \"); }\n    return spaceStrs[n]\n  }\n\n  function lst(arr) { return arr[arr.length-1] }\n\n  function map(array, f) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n    return out\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0, priority = score(value);\n    while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n    if (props) { copyObj(props, inst); }\n    return inst\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n  function isWordCharBasic(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" &&\n      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n  }\n  function isWordChar(ch, helper) {\n    if (!helper) { return isWordCharBasic(ch) }\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n    return helper.test(ch)\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n    return true\n  }\n\n  // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n  // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n    return pos\n  }\n\n  // Returns the value from the range [`from`; `to`] that satisfies\n  // `pred` and is closest to `from`. Assumes that at least `to`\n  // satisfies `pred`. Supports `from` being greater than `to`.\n  function findFirst(pred, from, to) {\n    // At any point we are certain `to` satisfies `pred`, don't know\n    // whether `from` does.\n    var dir = from > to ? -1 : 1;\n    for (;;) {\n      if (from == to) { return from }\n      var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n      if (mid == from) { return pred(mid) ? from : to }\n      if (pred(mid)) { to = mid; }\n      else { from = mid + dir; }\n    }\n  }\n\n  // BIDI HELPERS\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) { return f(from, to, \"ltr\", 0) }\n    var found = false;\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n    if (!found) { f(from, to, \"ltr\"); }\n  }\n\n  var bidiOther = null;\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n      if (cur.from < ch && cur.to > ch) { return i }\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n    }\n    return found != null ? found : bidiOther\n  }\n\n  // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n  var bidiOrdering = (function() {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n    // Character types for codepoints 0x600 to 0x6f9\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n    function charType(code) {\n      if (code <= 0xf7) { return lowTypes.charAt(code) }\n      else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n      else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n      else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n      else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n      else if (code == 0x200c) { return \"b\" }\n      else { return \"L\" }\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from; this.to = to;\n    }\n\n    return function(str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n      var len = str.length, types = [];\n      for (var i = 0; i < len; ++i)\n        { types.push(charType(str.charCodeAt(i))); }\n\n      // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n        if (type == \"m\") { types[i$1] = prev; }\n        else { prev = type; }\n      }\n\n      // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n        if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n        else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n      }\n\n      // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n        else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n                 (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n        prev$1 = type$2;\n      }\n\n      // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n        if (type$3 == \",\") { types[i$4] = \"N\"; }\n        else if (type$3 == \"%\") {\n          var end = (void 0);\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n          var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n          for (var j = i$4; j < end; ++j) { types[j] = replace; }\n          i$4 = end - 1;\n        }\n      }\n\n      // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n        if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n        else if (isStrong.test(type$4)) { cur$1 = type$4; }\n      }\n\n      // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = (void 0);\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n          var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n          i$6 = end$1 - 1;\n        }\n      }\n\n      // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n      var order = [], m;\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7, at = order.length;\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); }\n              var nstart = j$2;\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              pos = j$2;\n            } else { ++j$2; }\n          }\n          if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n        }\n      }\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order\n    }\n  })();\n\n  // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n  function getOrder(line, direction) {\n    var order = line.order;\n    if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n    return order\n  }\n\n  // EVENT HANDLING\n\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n  var noHandlers = [];\n\n  var on = function(emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map$$1 = emitter._handlers || (emitter._handlers = {});\n      map$$1[type] = (map$$1[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map$$1 = emitter._handlers, arr = map$$1 && map$$1[type];\n      if (arr) {\n        var index = indexOf(arr, f);\n        if (index > -1)\n          { map$$1[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n      }\n    }\n  }\n\n  function signal(emitter, type /*, values...*/) {\n    var handlers = getHandlers(emitter, type);\n    if (!handlers.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2);\n    for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n  }\n\n  // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\")\n      { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n    if (!arr) { return }\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n    for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n      { set.push(arr[i]); } }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0\n  }\n\n  // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n  function eventMixin(ctor) {\n    ctor.prototype.on = function(type, f) {on(this, type, f);};\n    ctor.prototype.off = function(type, f) {off(this, type, f);};\n  }\n\n  // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) { e.preventDefault(); }\n    else { e.returnValue = false; }\n  }\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) { e.stopPropagation(); }\n    else { e.cancelBubble = true; }\n  }\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n  }\n  function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\n  function e_target(e) {return e.target || e.srcElement}\n  function e_button(e) {\n    var b = e.which;\n    if (b == null) {\n      if (e.button & 1) { b = 1; }\n      else if (e.button & 2) { b = 3; }\n      else if (e.button & 4) { b = 2; }\n    }\n    if (mac && e.ctrlKey && b == 1) { b = 3; }\n    return b\n  }\n\n  // Detect drag-and-drop\n  var dragAndDrop = function() {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) { return false }\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div\n  }();\n\n  var zwspSupported;\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n      if (measure.firstChild.offsetHeight != 0)\n        { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n    }\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node\n  }\n\n  // Feature-detect IE's crummy client rect reporting for bidi text\n  var badBidiRects;\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) { return badBidiRects }\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n    if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n    return badBidiRects = (r1.right - r0.right < 3)\n  }\n\n  // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n    var pos = 0, result = [], l = string.length;\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n      if (nl == -1) { nl = string.length; }\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n    return result\n  } : function (string) { return string.split(/\\r\\n?|\\n/); };\n\n  var hasSelection = window.getSelection ? function (te) {\n    try { return te.selectionStart != te.selectionEnd }\n    catch(e) { return false }\n  } : function (te) {\n    var range$$1;\n    try {range$$1 = te.ownerDocument.selection.createRange();}\n    catch(e) {}\n    if (!range$$1 || range$$1.parentElement() != te) { return false }\n    return range$$1.compareEndPoints(\"StartToEnd\", range$$1) != 0\n  };\n\n  var hasCopyEvent = (function () {\n    var e = elt(\"div\");\n    if (\"oncopy\" in e) { return true }\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\"\n  })();\n\n  var badZoomedRects = null;\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) { return badZoomedRects }\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n  }\n\n  // Known modes, by name and by MIME\n  var modes = {}, mimeModes = {};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  function defineMode(name, mode) {\n    if (arguments.length > 2)\n      { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  }\n\n  // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n      if (typeof found == \"string\") { found = {name: found}; }\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return resolveMode(\"application/xml\")\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n      return resolveMode(\"application/json\")\n    }\n    if (typeof spec == \"string\") { return {name: spec} }\n    else { return spec || {name: \"null\"} }\n  }\n\n  // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n    if (!mfactory) { return getMode(options, \"text/plain\") }\n    var modeObj = mfactory(options, spec);\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) { continue }\n        if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n        modeObj[prop] = exts[prop];\n      }\n    }\n    modeObj.name = spec.name;\n    if (spec.helperType) { modeObj.helperType = spec.helperType; }\n    if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n      { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n    return modeObj\n  }\n\n  // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n  var modeExtensions = {};\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) { return state }\n    if (mode.copyState) { return mode.copyState(state) }\n    var nstate = {};\n    for (var n in state) {\n      var val = state[n];\n      if (val instanceof Array) { val = val.concat([]); }\n      nstate[n] = val;\n    }\n    return nstate\n  }\n\n  // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n  function innerMode(mode, state) {\n    var info;\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n      if (!info || info.mode == mode) { break }\n      state = info.state;\n      mode = info.mode;\n    }\n    return info || {mode: mode, state: state}\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true\n  }\n\n  // STRING STREAM\n\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n  var StringStream = function(string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {return this.pos >= this.string.length};\n  StringStream.prototype.sol = function () {return this.pos == this.lineStart};\n  StringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length)\n      { return this.string.charAt(this.pos++) }\n  };\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n    if (typeof match == \"string\") { ok = ch == match; }\n    else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n    if (ok) {++this.pos; return ch}\n  };\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n    while (this.eat(match)){}\n    return this.pos > start\n  };\n  StringStream.prototype.eatSpace = function () {\n      var this$1 = this;\n\n    var start = this.pos;\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this$1.pos; }\n    return this.pos > start\n  };\n  StringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n    if (found > -1) {this.pos = found; return true}\n  };\n  StringStream.prototype.backUp = function (n) {this.pos -= n;};\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) -\n      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n      var substr = this.string.substr(this.pos, pattern.length);\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) { this.pos += pattern.length; }\n        return true\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n      if (match && match.index > 0) { return null }\n      if (match && consume !== false) { this.pos += match[0].length; }\n      return match\n    }\n  };\n  StringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n    try { return inner() }\n    finally { this.lineStart -= n; }\n  };\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n)\n  };\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos)\n  };\n\n  // Find the line object corresponding to the given line number.\n  function getLine(doc, n) {\n    n -= doc.first;\n    if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n    var chunk = doc;\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i], sz = child.chunkSize();\n        if (n < sz) { chunk = child; break }\n        n -= sz;\n      }\n    }\n    return chunk.lines[n]\n  }\n\n  // Get the part of a document between two positions, as an array of\n  // strings.\n  function getBetween(doc, start, end) {\n    var out = [], n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n      if (n == end.line) { text = text.slice(0, end.ch); }\n      if (n == start.line) { text = text.slice(start.ch); }\n      out.push(text);\n      ++n;\n    });\n    return out\n  }\n  // Get the lines between from and to, as array of strings.\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) { out.push(line.text); }); // iter aborts when callback returns truthy value\n    return out\n  }\n\n  // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n    if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n  }\n\n  // Given a line object, find its line number by walking up through\n  // its parent links.\n  function lineNo(line) {\n    if (line.parent == null) { return null }\n    var cur = line.parent, no = indexOf(cur.lines, line);\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) { break }\n        no += chunk.children[i].chunkSize();\n      }\n    }\n    return no + cur.first\n  }\n\n  // Find the line at the given vertical position, using the height\n  // information in the document tree.\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1], ch = child.height;\n        if (h < ch) { chunk = child; continue outer }\n        h -= ch;\n        n += child.chunkSize();\n      }\n      return n\n    } while (!chunk.lines)\n    var i = 0;\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i], lh = line.height;\n      if (h < lh) { break }\n      h -= lh;\n    }\n    return n + i\n  }\n\n  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber))\n  }\n\n  // A Pos instance represents a position within the text.\n  function Pos(line, ch, sticky) {\n    if ( sticky === void 0 ) sticky = null;\n\n    if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  }\n\n  // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\n  function equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\n  function copyPos(x) {return Pos(x.line, x.ch)}\n  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\n  function minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n  // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) { return Pos(doc.first, 0) }\n    var last = doc.first + doc.size - 1;\n    if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n    return clipToLen(pos, getLine(doc, pos.line).text.length)\n  }\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n    if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n    else if (ch < 0) { return Pos(pos.line, 0) }\n    else { return pos }\n  }\n  function clipPosArray(doc, array) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n    return out\n  }\n\n  var SavedContext = function(state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function(doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n    if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n    return line\n  };\n\n  Context.prototype.baseToken = function (n) {\n      var this$1 = this;\n\n    if (!this.baseTokens) { return null }\n    while (this.baseTokens[this.baseTokenPos] <= n)\n      { this$1.baseTokenPos += 2; }\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {type: type && type.replace(/( |^)overlay .*/, \"\"),\n            size: this.baseTokens[this.baseTokenPos] - n}\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n    if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext)\n      { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n    else\n      { return new Context(doc, copyState(doc.mode, saved), line) }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n  };\n\n\n  // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n  function highlightLine(cm, line, context, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen], lineClasses = {};\n    // Compute the base array of styles\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n            lineClasses, forceToEnd);\n    var state = context.state;\n\n    // Run overlays, adjust style array.\n    var loop = function ( o ) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o], i = 1, at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i;\n        // Ensure there's a token end at the current position, and that i points at it\n        while (at < end) {\n          var i_end = st[i];\n          if (i_end > end)\n            { st.splice(i, 1, end, st[i+1], i_end); }\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n        if (!style) { return }\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start+1];\n            st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n      if (resetState) { context.state = resetState; }\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n      if (result.classes) { line.styleClasses = result.classes; }\n      else if (line.styleClasses) { line.styleClasses = null; }\n      if (updateFrontier === cm.doc.highlightFrontier)\n        { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n    }\n    return line.styles\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc, display = cm.display;\n    if (!doc.mode.startState) { return new Context(doc, true, n) }\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n    if (precise) { doc.modeFrontier = context.line; }\n    return context\n  }\n\n  // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n    if (text == \"\") { callBlankLine(mode, context.state); }\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) { return mode.blankLine(state) }\n    if (!mode.innerMode) { return }\n    var inner = innerMode(mode, state);\n    if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) { inner[0] = innerMode(mode, state).mode; }\n      var style = mode.token(stream, state);\n      if (stream.pos > stream.start) { return style }\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n  }\n\n  var Token = function(stream, type, state) {\n    this.start = stream.start; this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  };\n\n  // Utility for getTokenAt and getLineTokens\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc, mode = doc.mode, style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n    if (asArray) { tokens = []; }\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n      if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n    }\n    return asArray ? tokens : new Token(stream, style, context.state)\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) { for (;;) {\n      var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n      if (!lineClass) { break }\n      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n      if (output[prop] == null)\n        { output[prop] = lineClass[2]; }\n      else if (!(new RegExp(\"(?:^|\\s)\" + lineClass[2] + \"(?:$|\\s)\")).test(output[prop]))\n        { output[prop] += \" \" + lineClass[2]; }\n    } }\n    return type\n  }\n\n  // Run the given mode's parser over a line, calling f for each token.\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n    if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n    var curStart = 0, curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context), style;\n    var inner = cm.options.addModeClass && [null];\n    if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n        if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n      if (inner) {\n        var mName = inner[0].name;\n        if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n      }\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n        curStyle = style;\n      }\n      stream.start = stream.pos;\n    }\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444\n      // characters, and returns inaccurate measurements in nodes\n      // starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  }\n\n  // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n  function findStartLine(cm, n, precise) {\n    var minindent, minline, doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) { return doc.first }\n      var line = getLine(doc, search - 1), after = line.stateAfter;\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n        { return search }\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n    return minline\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n    if (doc.highlightFrontier < n - 10) { return }\n    var start = doc.first;\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter;\n      // change is on 3\n      // state on line 1 looked ahead 2 -- so saw 3\n      // test 1 + 2 < 3 should cover this\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break\n      }\n    }\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  }\n\n  // Optimize some code when these features are not used.\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  }\n\n  // TEXTMARKER SPANS\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from; this.to = to;\n  }\n\n  // Search an array of spans for a span matching the given marker.\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.marker == marker) { return span }\n    } }\n  }\n  // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n  function removeMarkedSpan(spans, span) {\n    var r;\n    for (var i = 0; i < spans.length; ++i)\n      { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n    return r\n  }\n  // Add a span to a line.\n  function addMarkedSpan(line, span) {\n    line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n    span.marker.attachLine(line);\n  }\n\n  // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n      }\n    } }\n    return nw\n  }\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                              span.to == null ? null : span.to - endCh));\n      }\n    } }\n    return nw\n  }\n\n  // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) { return null }\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n    if (!oldFirst && !oldLast) { return null }\n\n    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n    // Get the spans that 'stick out' on both sides\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n    // Next, merge those two ends\n    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n          if (!found) { span.to = startCh; }\n          else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n        }\n      }\n    }\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n        if (span$1.to != null) { span$1.to += offset; }\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n          if (!found$1) {\n            span$1.from = offset;\n            if (sameLine) { (first || (first = [])).push(span$1); }\n          }\n        } else {\n          span$1.from += offset;\n          if (sameLine) { (first || (first = [])).push(span$1); }\n        }\n      }\n    }\n    // Make sure we didn't create any zero-length spans\n    if (first) { first = clearEmptySpans(first); }\n    if (last && last != first) { last = clearEmptySpans(last); }\n\n    var newMarkers = [first];\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2, gapMarkers;\n      if (gap > 0 && first)\n        { for (var i$2 = 0; i$2 < first.length; ++i$2)\n          { if (first[i$2].to == null)\n            { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n      for (var i$3 = 0; i$3 < gap; ++i$3)\n        { newMarkers.push(gapMarkers); }\n      newMarkers.push(last);\n    }\n    return newMarkers\n  }\n\n  // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n        { spans.splice(i--, 1); }\n    }\n    if (!spans.length) { return null }\n    return spans\n  }\n\n  // Used to 'clip' out readOnly ranges when making a change.\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n        var mark = line.markedSpans[i].marker;\n        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n          { (markers || (markers = [])).push(mark); }\n      } }\n    });\n    if (!markers) { return null }\n    var parts = [{from: from, to: to}];\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i], m = mk.find(0);\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n          { newParts.push({from: p.from, to: m.from}); }\n        if (dto > 0 || !mk.inclusiveRight && !dto)\n          { newParts.push({from: m.to, to: p.to}); }\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n    return parts\n  }\n\n  // Connect or disconnect spans from a line.\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.detachLine(line); }\n    line.markedSpans = null;\n  }\n  function attachMarkedSpans(line, spans) {\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.attachLine(line); }\n    line.markedSpans = spans;\n  }\n\n  // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\n  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n  // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n    if (lenDiff != 0) { return lenDiff }\n    var aPos = a.find(), bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n    if (fromCmp) { return -fromCmp }\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n    if (toCmp) { return toCmp }\n    return b.id - a.id\n  }\n\n  // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n        { found = sp.marker; }\n    } }\n    return found\n  }\n  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\n  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }\n    } }\n    return found\n  }\n\n  // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n  function conflictingCollapsedRange(doc, lineNo$$1, from, to, marker) {\n    var line = getLine(doc, lineNo$$1);\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      var found = sp.marker.find(0);\n      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n        { return true }\n    } }\n  }\n\n  // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n  function visualLine(line) {\n    var merged;\n    while (merged = collapsedSpanAtStart(line))\n      { line = merged.find(-1, true).line; }\n    return line\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return line\n  }\n\n  // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n  function visualLineContinued(line) {\n    var merged, lines;\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line\n      ;(lines || (lines = [])).push(line);\n    }\n    return lines\n  }\n\n  // Get the line number of the start of the visual line that the\n  // given line number is part of.\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN), vis = visualLine(line);\n    if (line == vis) { return lineN }\n    return lineNo(vis)\n  }\n\n  // Get the line number of the start of the next visual line after\n  // the given line.\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) { return lineN }\n    var line = getLine(doc, lineN), merged;\n    if (!lineIsHidden(doc, line)) { return lineN }\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return lineNo(line) + 1\n  }\n\n  // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      if (sp.from == null) { return true }\n      if (sp.marker.widgetNode) { continue }\n      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n        { return true }\n    } }\n  }\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n    }\n    if (span.marker.inclusiveRight && span.to == line.text.length)\n      { return true }\n    for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n          (sp.to == null || sp.to != span.from) &&\n          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n          lineIsHiddenInner(doc, line, sp)) { return true }\n    }\n  }\n\n  // Find the height above the given line.\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n\n    var h = 0, chunk = lineObj.parent;\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n      if (line == lineObj) { break }\n      else { h += line.height; }\n    }\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n        if (cur == chunk) { break }\n        else { h += cur.height; }\n      }\n    }\n    return h\n  }\n\n  // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n  function lineLength(line) {\n    if (line.height == 0) { return 0 }\n    var len = line.text.length, merged, cur = line;\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n    cur = line;\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n    return len\n  }\n\n  // Find the longest line in the document.\n  function findMaxLine(cm) {\n    var d = cm.display, doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  }\n\n  // LINE DATA STRUCTURE\n\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n  var Line = function(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () { return lineNo(this) };\n  eventMixin(Line);\n\n  // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n    if (line.stateAfter) { line.stateAfter = null; }\n    if (line.styles) { line.styles = null; }\n    if (line.order != null) { line.order = null; }\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n  }\n\n  // Detach a line from the document tree and its markers.\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  }\n\n  // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) { return null }\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] ||\n      (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n  }\n\n  // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                   col: 0, pos: 0, cm: cm,\n                   trailingSpace: false,\n                   splitSpaces: cm.getOption(\"lineWrapping\")};\n    lineView.measure = {};\n\n    // Iterate over the logical lines that make up this visual line.\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);\n      builder.pos = 0;\n      builder.addToken = buildToken;\n      // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n        { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass)\n          { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n        if (line.styleClasses.textClass)\n          { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n      }\n\n      // Ensure at least a single node is present, for measuring.\n      if (builder.map.length == 0)\n        { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n      // Store the map and a cache object for the current logical line\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n  (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n        ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    }\n\n    // See issue #2901\n    if (webkit) {\n      var last = builder.content.lastChild;\n      if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n        { builder.content.className = \"cm-tab-wrap-hack\"; }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n    if (builder.pre.className)\n      { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n    return builder\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token\n  }\n\n  // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) { return }\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars, mustWrap = false;\n    var content;\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n      if (ie && ie_version < 9) { mustWrap = true; }\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n          else { content.appendChild(txt); }\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n        if (!m) { break }\n        pos += skipped + 1;\n        var txt$1 = (void 0);\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n          else { content.appendChild(txt$1); }\n          builder.col += 1;\n        }\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n    if (style || startStyle || endStyle || mustWrap || css) {\n      var fullStyle = style || \"\";\n      if (startStyle) { fullStyle += startStyle; }\n      if (endStyle) { fullStyle += endStyle; }\n      var token = elt(\"span\", [content], fullStyle, css);\n      if (attributes) {\n        for (var attr in attributes) { if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\")\n          { token.setAttribute(attr, attributes[attr]); } }\n      }\n      return builder.content.appendChild(token)\n    }\n    builder.content.appendChild(content);\n  }\n\n  // Change some spaces to NBSP to prevent the browser from collapsing\n  // trailing spaces at the end of a line when rendering text (issue #1362).\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) { return text }\n    var spaceBefore = trailingBefore, result = \"\";\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n        { ch = \"\\u00a0\"; }\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n    return result\n  }\n\n  // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos, end = start + text.length;\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        var part = (void 0);\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n          if (part.to > start && part.from <= start) { break }\n        }\n        if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, css, attributes) }\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    }\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n    if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget)\n        { widget = builder.content.appendChild(document.createElement(\"span\")); }\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n    builder.pos += size;\n    builder.trailingSpace = false;\n  }\n\n  // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans, allText = line.text, at = 0;\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n        { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n      return\n    }\n\n    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, collapsed, attributes;\n    for (;;) {\n      if (nextChange == pos) { // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null; nextChange = Infinity;\n        var foundBookmarks = [], endStyles = (void 0);\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j], m = sp.marker;\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n            if (m.className) { spanStyle += \" \" + m.className; }\n            if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n            if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n            if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n            // support for the old title property\n            // https://github.com/codemirror/CodeMirror/pull/5673\n            if (m.title) { (attributes || (attributes = {})).title = m.title; }\n            if (m.attributes) {\n              for (var attr in m.attributes)\n                { (attributes || (attributes = {}))[attr] = m.attributes[attr]; }\n            }\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n              { collapsed = sp; }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n        if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n          { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n        if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n          { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                             collapsed.marker, collapsed.from == null);\n          if (collapsed.to == null) { return }\n          if (collapsed.to == pos) { collapsed = false; }\n        }\n      }\n      if (pos >= len) { break }\n\n      var upto = Math.min(len, nextChange);\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n          pos = end;\n          spanStartStyle = \"\";\n        }\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  }\n\n\n  // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line;\n    // Continuing lines, if any\n    this.rest = visualLineContinued(line);\n    // Number of logical lines in this visual line\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  }\n\n  // Create a range of LineView objects for the given lines.\n  function buildViewArray(cm, from, to) {\n    var array = [], nextPos;\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n    return array\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks, i = 0;\n    do {\n      for (; i < callbacks.length; i++)\n        { callbacks[i].call(null); }\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n        if (op.cursorActivityHandlers)\n          { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n            { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n      }\n    } while (i < callbacks.length)\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n    if (!group) { return }\n\n    try { fireCallbacksForOps(group); }\n    finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null;\n\n  // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n  function signalLater(emitter, type /*, values...*/) {\n    var arr = getHandlers(emitter, type);\n    if (!arr.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2), list;\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n    var loop = function ( i ) {\n      list.push(function () { return arr[i].apply(null, args); });\n    };\n\n    for (var i = 0; i < arr.length; ++i)\n      loop( i );\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n    for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n  }\n\n  // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n      if (type == \"text\") { updateLineText(cm, lineView); }\n      else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n      else if (type == \"class\") { updateLineClasses(cm, lineView); }\n      else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n    }\n    lineView.changes = null;\n  }\n\n  // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n      if (lineView.text.parentNode)\n        { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n      lineView.node.appendChild(lineView.text);\n      if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n    }\n    return lineView.node\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n    if (cls) { cls += \" CodeMirror-linebackground\"; }\n    if (lineView.background) {\n      if (cls) { lineView.background.className = cls; }\n      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  }\n\n  // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built\n    }\n    return buildLineContent(cm, lineView)\n  }\n\n  // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n    if (lineView.text == lineView.node) { lineView.node = built.pre; }\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n    if (lineView.line.wrapClass)\n      { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n    else if (lineView.node != lineView.text)\n      { lineView.node.className = \"\"; }\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                      (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n    var markers = lineView.line.gutterMarkers;\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n      if (lineView.line.gutterClass)\n        { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n        { lineView.lineNumber = gutterWrap.appendChild(\n          elt(\"div\", lineNumberFor(cm.options, lineN),\n              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n              (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n      if (markers) { for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n        var id = cm.display.gutterSpecs[k].className, found = markers.hasOwnProperty(id) && markers[id];\n        if (found)\n          { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                     (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n      } }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) { lineView.alignable = null; }\n    for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n      next = node.nextSibling;\n      if (node.className == \"CodeMirror-linewidget\")\n        { lineView.node.removeChild(node); }\n    }\n    insertLineWidgets(cm, lineView, dims);\n  }\n\n  // Build a line's DOM representation from scratch\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n    if (built.bgClass) { lineView.bgClass = built.bgClass; }\n    if (built.textClass) { lineView.textClass = built.textClass; }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node\n  }\n\n  // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) { return }\n    var wrap = ensureLineWrapped(lineView);\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\");\n      if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n      if (allowAbove && widget.above)\n        { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n      else\n        { wrap.appendChild(node); }\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n  (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n      node.style.width = width + \"px\";\n    }\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n      if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) { return widget.height }\n    var cm = widget.doc.cm;\n    if (!cm) { return 0 }\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n      if (widget.coverGutter)\n        { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n      if (widget.noHScroll)\n        { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n    return widget.height = widget.node.parentNode.offsetHeight\n  }\n\n  // Return true when the given mouse event happened in a widget\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n          (n.parentNode == display.sizer && n != display.mover))\n        { return true }\n    }\n  }\n\n  // POSITION MEASUREMENT\n\n  function paddingTop(display) {return display.lineSpace.offsetTop}\n  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\n  function paddingH(display) {\n    if (display.cachedPaddingH) { return display.cachedPaddingH }\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\", \"CodeMirror-line-like\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n    if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n    return data\n  }\n\n  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n  }\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n  }\n\n  // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i], next = rects[i + 1];\n          if (Math.abs(cur.bottom - next.bottom) > 2)\n            { heights.push((cur.bottom + next.top) / 2 - rect.top); }\n        }\n      }\n      heights.push(rect.bottom - rect.top);\n    }\n  }\n\n  // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line)\n      { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n    for (var i = 0; i < lineView.rest.length; i++)\n      { if (lineView.rest[i] == line)\n        { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n    for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n      { if (lineNo(lineView.rest[i$1]) > lineN)\n        { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n  }\n\n  // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view\n  }\n\n  // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n  }\n\n  // Find a line view that corresponds to the given line number.\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n      { return cm.display.view[findViewIndex(cm, lineN)] }\n    var ext = cm.display.externalMeasured;\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n      { return ext }\n  }\n\n  // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n    if (!view)\n      { view = updateExternalMeasurement(cm, line); }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line, view: view, rect: null,\n      map: info.map, cache: info.cache, before: info.before,\n      hasHeights: false\n    }\n  }\n\n  // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) { ch = -1; }\n    var key = ch + (bias || \"\"), found;\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect)\n        { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n      found = measureCharInner(cm, prepared, ch, bias);\n      if (!found.bogus) { prepared.cache[key] = found; }\n    }\n    return {left: found.left, right: found.right,\n            top: varHeight ? found.rtop : found.top,\n            bottom: varHeight ? found.rbottom : found.bottom}\n  }\n\n  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n  function nodeAndOffsetInLineMap(map$$1, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd;\n    // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n    for (var i = 0; i < map$$1.length; i += 3) {\n      mStart = map$$1[i];\n      mEnd = map$$1[i + 1];\n      if (ch < mStart) {\n        start = 0; end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map$$1.length - 3 || ch == mEnd && map$$1[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n        if (ch >= mEnd) { collapse = \"right\"; }\n      }\n      if (start != null) {\n        node = map$$1[i + 2];\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n          { collapse = bias; }\n        if (bias == \"left\" && start == 0)\n          { while (i && map$$1[i - 2] == map$$1[i - 3] && map$$1[i - 1].insertLeft) {\n            node = map$$1[(i -= 3) + 2];\n            collapse = \"left\";\n          } }\n        if (bias == \"right\" && start == mEnd - mStart)\n          { while (i < map$$1.length - 3 && map$$1[i + 3] == map$$1[i + 4] && !map$$1[i + 5].insertLeft) {\n            node = map$$1[(i += 3) + 2];\n            collapse = \"right\";\n          } }\n        break\n      }\n    }\n    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n    if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n      if ((rect = rects[i]).left != rect.right) { break }\n    } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n      if ((rect = rects[i$1]).left != rect.right) { break }\n    } }\n    return rect\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n    var rect;\n    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n          { rect = node.parentNode.getBoundingClientRect(); }\n        else\n          { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n        if (rect.left || rect.right || start == 0) { break }\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n      if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n    } else { // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) { collapse = bias = \"right\"; }\n      var rects;\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n        { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n      else\n        { rect = node.getBoundingClientRect(); }\n    }\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n      if (rSpan)\n        { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n      else\n        { rect = nullRect; }\n    }\n\n    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n    for (; i < heights.length - 1; i++)\n      { if (mid < heights[i]) { break } }\n    var top = i ? heights[i - 1] : 0, bot = heights[i];\n    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                  top: top, bottom: bot};\n    if (!rect.left && !rect.right) { result.bogus = true; }\n    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n    return result\n  }\n\n  // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null ||\n        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n      { return rect }\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {left: rect.left * scaleX, right: rect.right * scaleX,\n            top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n      if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n        { lineView.measure.caches[i] = {}; } }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n    for (var i = 0; i < cm.display.view.length; i++)\n      { clearLineMeasurementCacheFor(cm.display.view[i]); }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n    if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    // which causes page_Offset and bounding client rects to use\n    // different reference viewports and invalidate our calculations.\n    if (chrome && android) { return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) }\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n  }\n  function pageScrollY() {\n    if (chrome && android) { return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) }\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop\n  }\n\n  function widgetTopHeight(lineObj) {\n    var height = 0;\n    if (lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above)\n      { height += widgetHeight(lineObj.widgets[i]); } } }\n    return height\n  }\n\n  // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n  // or \"page\".\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height; rect.bottom += height;\n    }\n    if (context == \"line\") { return rect }\n    if (!context) { context = \"local\"; }\n    var yOff = heightAtLine(lineObj);\n    if (context == \"local\") { yOff += paddingTop(cm.display); }\n    else { yOff -= cm.display.viewOffset; }\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff; rect.right += xOff;\n    }\n    rect.top += yOff; rect.bottom += yOff;\n    return rect\n  }\n\n  // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") { return coords }\n    var left = coords.left, top = coords.top;\n    // First move into \"page\" coordinate system\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n  }\n\n  // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  // and after `char - 1` in writing order of `char - 1`\n  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  // and before `char` in writing order of `char`\n  // Examples (upper-case letters are RTL, lower-case are LTR):\n  //     Pos(0, 1, ...)\n  //     before   after\n  // ab     a|b     a|b\n  // aB     a|B     aB|\n  // Ab     |Ab     A|b\n  // AB     B|A     B|A\n  // Every position after the last character on a line is considered to stick\n  // to the last character on the line.\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n      if (right) { m.left = m.right; } else { m.right = m.left; }\n      return intoCoordSystem(cm, lineObj, m, context)\n    }\n    var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n    if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos], right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert)\n    }\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n    if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n    return val\n  }\n\n  // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = clipPos(cm.doc, pos);\n    if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {left: left, right: left, top: top, bottom: top + lineObj.height}\n  }\n\n  // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n    if (outside) { pos.outside = outside; }\n    return pos\n  }\n\n  // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n    if (y < 0) { return PosWithInfo(doc.first, 0, null, -1, -1) }\n    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n    if (lineN > last)\n      { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1) }\n    if (x < 0) { x = 0; }\n\n    var lineObj = getLine(doc, lineN);\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));\n      if (!collapsed) { return found }\n      var rangeEnd = collapsed.find(1);\n      if (rangeEnd.line == lineN) { return rangeEnd }\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n    end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n    return {begin: begin, end: end}\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n  }\n\n  // Returns true if the given side of a box is after the given\n  // coordinates, in top-to-bottom, left-to-right order.\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo$$1, x, y) {\n    // Move y into line-local coordinate space\n    y -= heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    // When directly calling `measureCharPrepared`, we have to adjust\n    // for the widgets at this line.\n    var widgetHeight$$1 = widgetTopHeight(lineObj);\n    var begin = 0, end = lineObj.text.length, ltr = true;\n\n    var order = getOrder(lineObj, cm.doc.direction);\n    // If the line isn't plain left-to-right text, first figure out\n    // which bidi section the coordinates fall into.\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                   (cm, lineObj, lineNo$$1, preparedMeasure, order, x, y);\n      ltr = part.level != 1;\n      // The awkward -1 offsets are needed because findFirst (called\n      // on these below) will treat its first bound as inclusive,\n      // second as exclusive, but we want to actually address the\n      // characters in the part's range\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    }\n\n    // A binary search to find the first character whose bounding box\n    // starts after the coordinates. If we run across any whose box wrap\n    // the coordinates, store that.\n    var chAround = null, boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight$$1; box.bottom += widgetHeight$$1;\n      if (!boxIsAfter(box, x, y, false)) { return false }\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n      return true\n    }, begin, end);\n\n    var baseX, sticky, outside = false;\n    // If a box around the coordinates was found, use that\n    if (boxAround) {\n      // Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      // (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) { ch++; }\n      // To determine which side to associate with, get the box to the\n      // left of the character and compare it's vertical position to the\n      // coordinates\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n        (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight$$1 <= y) == ltr ?\n        \"after\" : \"before\";\n      // Now get accurate coordinates for this place, in order to get a\n      // base X position\n      var coords = cursorCoords(cm, Pos(lineNo$$1, ch, sticky), \"line\", lineObj, preparedMeasure);\n      baseX = coords.left;\n      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo$$1, ch, sticky, outside, x - baseX)\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo$$1, preparedMeasure, order, x, y) {\n    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    // situation, we can take this ordering to correspond to the visual\n    // ordering. This finds the first part whose end is after the given\n    // coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i], ltr = part.level != 1;\n      return boxIsAfter(cursorCoords(cm, Pos(lineNo$$1, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                     \"line\", lineObj, preparedMeasure), x, y, true)\n    }, 0, order.length - 1);\n    var part = order[index];\n    // If this isn't the first part, the part's start is also after\n    // the coordinates, and the coordinates aren't on the same line as\n    // that start, move one part back.\n    if (index > 0) {\n      var ltr = part.level != 1;\n      var start = cursorCoords(cm, Pos(lineNo$$1, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                               \"line\", lineObj, preparedMeasure);\n      if (boxIsAfter(start, x, y, true) && start.top > y)\n        { part = order[index - 1]; }\n    }\n    return part\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    // In a wrapped line, rtl text on wrapping boundaries can do things\n    // that don't correspond to the ordering in our `order` array at\n    // all, so a binary search doesn't work, and we want to return a\n    // part that only spans one line so that the binary search in\n    // coordsCharInner is safe. As such, we first find the extent of the\n    // wrapped line, and then do a flat search in which we discard any\n    // spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n    if (/\\s/.test(lineObj.text.charAt(end - 1))) { end--; }\n    var part = null, closestDist = null;\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n      if (p.from >= end || p.to <= begin) { continue }\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n      // Weigh against spans ending before this, so that they are only\n      // picked if nothing ends after\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n    if (!part) { part = order[order.length - 1]; }\n    // Clip the part to the wrapped line.\n    if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n    if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n    return part\n  }\n\n  var measureText;\n  // Compute the default text height.\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n    if (measureText == null) {\n      measureText = elt(\"pre\", null, \"CodeMirror-line-like\");\n      // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n    if (height > 3) { display.cachedTextHeight = height; }\n    removeChildren(display.measure);\n    return height || 1\n  }\n\n  // Compute the default character width.\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor], \"CodeMirror-line-like\");\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n    if (width > 2) { display.cachedCharWidth = width; }\n    return width || 10\n  }\n\n  // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n  function getDimensions(cm) {\n    var d = cm.display, left = {}, width = {};\n    var gutterLeft = d.gutters.clientLeft;\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      var id = cm.display.gutterSpecs[i].className;\n      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[id] = n.clientWidth;\n    }\n    return {fixedPos: compensateForHScroll(d),\n            gutterTotalWidth: d.gutters.offsetWidth,\n            gutterLeft: left,\n            gutterWidth: width,\n            wrapperWidth: d.wrapper.clientWidth}\n  }\n\n  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n  }\n\n  // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) { return 0 }\n\n      var widgetsHeight = 0;\n      if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n        if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n      } }\n\n      if (wrapping)\n        { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n      else\n        { return widgetsHeight + th }\n    }\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc, est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n      if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n    });\n  }\n\n  // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n    var x, y, space = display.lineSpace.getBoundingClientRect();\n    // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n    catch (e) { return null }\n    var coords = coordsChar(cm, x, y), line;\n    if (forRect && coords.xRel == 1 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n    return coords\n  }\n\n  // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) { return null }\n    n -= cm.display.viewFrom;\n    if (n < 0) { return null }\n    var view = cm.display.view;\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n      if (n < 0) { return i }\n    }\n  }\n\n  // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) { from = cm.doc.first; }\n    if (to == null) { to = cm.doc.first + cm.doc.size; }\n    if (!lendiff) { lendiff = 0; }\n\n    var display = cm.display;\n    if (lendiff && to < display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n      { display.updateLineNumbers = from; }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) { // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n        { resetView(cm); }\n    } else if (to <= display.viewFrom) { // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) { // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) { // Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else { // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index)\n          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n          .concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n    if (ext) {\n      if (to < ext.lineN)\n        { ext.lineN += lendiff; }\n      else if (from < ext.lineN + ext.size)\n        { display.externalMeasured = null; }\n    }\n  }\n\n  // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display, ext = cm.display.externalMeasured;\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n      { display.externalMeasured = null; }\n\n    if (line < display.viewFrom || line >= display.viewTo) { return }\n    var lineView = display.view[findViewIndex(cm, line)];\n    if (lineView.node == null) { return }\n    var arr = lineView.changes || (lineView.changes = []);\n    if (indexOf(arr, type) == -1) { arr.push(type); }\n  }\n\n  // Clear the view.\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n      { return {index: index, lineN: newN} }\n    var n = cm.display.viewFrom;\n    for (var i = 0; i < index; i++)\n      { n += view[i].size; }\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) { return null }\n        diff = (n + view[index].size) - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n      oldN += diff; newN += diff;\n    }\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n    return {index: index, lineN: newN}\n  }\n\n  // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n  function adjustView(cm, from, to) {\n    var display = cm.display, view = display.view;\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from)\n        { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n      else if (display.viewFrom < from)\n        { display.view = display.view.slice(findViewIndex(cm, from)); }\n      display.viewFrom = from;\n      if (display.viewTo < to)\n        { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n      else if (display.viewTo > to)\n        { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n    }\n    display.viewTo = to;\n  }\n\n  // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n  function countDirtyView(cm) {\n    var view = cm.display.view, dirty = 0;\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n    }\n    return dirty\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if ( primary === void 0 ) primary = true;\n\n    var doc = cm.doc, result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) { continue }\n      var range$$1 = doc.sel.ranges[i];\n      if (range$$1.from().line >= cm.display.viewTo || range$$1.to().line < cm.display.viewFrom) { continue }\n      var collapsed = range$$1.empty();\n      if (collapsed || cm.options.showCursorWhenSelecting)\n        { drawSelectionCursor(cm, range$$1.head, curFragment); }\n      if (!collapsed)\n        { drawSelectionRange(cm, range$$1, selFragment); }\n    }\n    return result\n  }\n\n  // Draws a cursor for the given range\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n  // Draws the given range as a highlighted selection\n  function drawSelectionRange(cm, range$$1, output) {\n    var display = cm.display, doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display), leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) { top = 0; }\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop]\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n        var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n        var first = i == 0, last = !order || i == order.length - 1;\n        if (toPos.top - fromPos.top <= 3) { // Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else { // Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n          if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n        if (cmpCoords(toPos, start) < 0) { start = toPos; }\n        if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n        if (cmpCoords(toPos, end) < 0) { end = toPos; }\n      });\n      return {start: start, end: end}\n    }\n\n    var sFrom = range$$1.from(), sTo = range$$1.to();\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n      if (leftEnd.bottom < rightStart.top)\n        { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n    }\n\n    output.appendChild(fragment);\n  }\n\n  // Cursor-blinking\n  function restartBlink(cm) {\n    if (!cm.state.focused) { return }\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n    if (cm.options.cursorBlinkRate > 0)\n      { display.blinker = setInterval(function () { return display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\"; },\n        cm.options.cursorBlinkRate); }\n    else if (cm.options.cursorBlinkRate < 0)\n      { display.cursorDiv.style.visibility = \"hidden\"; }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.state.focused) { cm.display.input.focus(); onFocus(cm); }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n      onBlur(cm);\n    } }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent) { cm.state.delayingBlurEvent = false; }\n\n    if (cm.options.readOnly == \"nocursor\") { return }\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n      // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n        if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } // Issue #1730\n      }\n      cm.display.input.receivedFocus();\n    }\n    restartBlink(cm);\n  }\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) { return }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n    clearInterval(cm.display.blinker);\n    setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n  }\n\n  // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i], wrapping = cm.options.lineWrapping;\n      var height = (void 0), width = 0;\n      if (cur.hidden) { continue }\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top;\n        // Check that lines don't extend past the right of the current\n        // editor width\n        if (!wrapping && cur.text.firstChild)\n          { width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1; }\n      }\n      var diff = cur.line.height - height;\n      if (diff > .005 || diff < -.005) {\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n        if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n          { updateWidgetHeight(cur.rest[j]); } }\n      }\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width / charWidth(cm.display));\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n  }\n\n  // Read and store the height of line widgets associated with the\n  // given line.\n  function updateWidgetHeight(line) {\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n      var w = line.widgets[i], parent = w.node.parentNode;\n      if (parent) { w.height = parent.offsetHeight; }\n    } }\n  }\n\n  // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n    return {from: from, to: Math.max(to, from + 1)}\n  }\n\n  // SCROLLING THINGS INTO VIEW\n\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n    if (rect.top + box.top < 0) { doScroll = true; }\n    else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false; }\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  }\n\n  // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) { margin = 0; }\n    var rect;\n    if (!cm.options.lineWrapping && pos == end) {\n      // Set pos and end to the cursor positions around the character pos sticks to\n      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n    }\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n      var coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      rect = {left: Math.min(coords.left, endCoords.left),\n              top: Math.min(coords.top, endCoords.top) - margin,\n              right: Math.max(coords.left, endCoords.left),\n              bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n      }\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n      }\n      if (!changed) { break }\n    }\n    return rect\n  }\n\n  // Scroll a given set of coordinates into view (immediately).\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n    if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n    if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n  }\n\n  // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display, snapMargin = textHeight(cm.display);\n    if (rect.top < 0) { rect.top = 0; }\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm), result = {};\n    if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n      if (newTop != screentop) { result.scrollTop = newTop; }\n    }\n\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft;\n    var screenw = displayWidth(cm) - (cm.options.fixedGutter ? display.gutters.offsetWidth : 0);\n    var tooWide = rect.right - rect.left > screenw;\n    if (tooWide) { rect.right = rect.left + screenw; }\n    if (rect.left < 10)\n      { result.scrollLeft = 0; }\n    else if (rect.left < screenleft)\n      { result.scrollLeft = Math.max(0, rect.left - (tooWide ? 0 : 10)); }\n    else if (rect.right > screenw + screenleft - 3)\n      { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n    return result\n  }\n\n  // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n  function addToScrollTop(cm, top) {\n    if (top == null) { return }\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  }\n\n  // Make sure that at the end of the operation the current cursor is\n  // shown.\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) { resolveScrollToPos(cm); }\n    if (x != null) { cm.curOp.scrollLeft = x; }\n    if (y != null) { cm.curOp.scrollTop = y; }\n  }\n\n  function scrollToRange(cm, range$$1) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range$$1;\n  }\n\n  // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n  function resolveScrollToPos(cm) {\n    var range$$1 = cm.curOp.scrollToPos;\n    if (range$$1) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range$$1.from), to = estimateCoords(cm, range$$1.to);\n      scrollToCoordsRange(cm, from, to, range$$1.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  }\n\n  // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n    if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n    setScrollTop(cm, val, true);\n    if (gecko) { updateDisplaySimple(cm); }\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val);\n    if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n    if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n  }\n\n  // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth);\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n    if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n    cm.display.scrollbars.setScrollLeft(val);\n  }\n\n  // SCROLLBARS\n\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n  function measureForScrollbars(cm) {\n    var d = cm.display, gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    }\n  }\n\n  var NativeScrollbars = function(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert); place(horiz);\n\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n    });\n\n    this.checkedZeroWidth = false;\n    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n    if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n      // A bug in IE8 can cause this value to be negative, so guard it.\n      this.vert.firstChild.style.height =\n        Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width =\n        Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) { this.zeroWidthHack(); }\n      this.checkedZeroWidth = true;\n    }\n\n    return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n    if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n    if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed;\n    this.disableVert = new Delayed;\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n    function maybeDisable() {\n      // To find out whether the scrollbar is still visible, we\n      // check whether the element under the pixel in the bottom\n      // right corner of the scrollbar box is the scrollbar box\n      // itself (when the bar is still visible) or its filler child\n      // (when the bar is hidden). If it is still visible, we keep\n      // it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt$$1 = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)\n          : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n      if (elt$$1 != bar) { bar.style.pointerEvents = \"none\"; }\n      else { delay.set(1000, maybeDisable); }\n    }\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function () {};\n\n  NullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\n  NullScrollbars.prototype.setScrollLeft = function () {};\n  NullScrollbars.prototype.setScrollTop = function () {};\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) { measure = measureForScrollbars(cm); }\n    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n        { updateHeightsInViewport(cm); }\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n    }\n  }\n\n  // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else { d.scrollbarFiller.style.display = \"\"; }\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else { d.gutterFiller.style.display = \"\"; }\n  }\n\n  var scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n      if (cm.display.scrollbars.addClass)\n        { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n      // Prevent clicks in the scrollbars from killing focus\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n      else { updateScrollTop(cm, pos); }\n    }, cm);\n    if (cm.display.scrollbars.addClass)\n      { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n  }\n\n  // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n  var nextOpId = 0;\n  // Start a new operation.\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height, // Used to detect need to update scrollbar\n      forceUpdate: false,      // Used to force a redraw\n      updateInput: 0,       // Whether to reset the input textarea\n      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,        // Accumulated changes, for firing change events\n      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false, // Whether the selection needs to be redrawn\n      updateMaxLine: false,    // Set when the widest line needs to be determined anew\n      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,       // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId           // Unique ID\n    };\n    pushOperation(cm.curOp);\n  }\n\n  // Finish an operation, updating the display and signalling delayed events\n  function endOperation(cm) {\n    var op = cm.curOp;\n    if (op) { finishOperation(op, function (group) {\n      for (var i = 0; i < group.ops.length; i++)\n        { group.ops[i].cm.curOp = null; }\n      endOperations(group);\n    }); }\n  }\n\n  // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n  function endOperations(group) {\n    var ops = group.ops;\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      { endOperation_R1(ops[i]); }\n    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n      { endOperation_W1(ops[i$1]); }\n    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n      { endOperation_R2(ops[i$2]); }\n    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n      { endOperation_W2(ops[i$3]); }\n    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n      { endOperation_finish(ops[i$4]); }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm, display = cm.display;\n    maybeClipScrollbars(cm);\n    if (op.updateMaxLine) { findMaxLine(cm); }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                         op.scrollToPos.to.line >= display.viewTo) ||\n      display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate &&\n      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm, display = cm.display;\n    if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n    op.barMeasure = measureForScrollbars(cm);\n\n    // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth =\n        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged)\n      { op.preparedSelection = display.input.prepareSelection(); }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n      if (op.maxScrollLeft < cm.doc.scrollLeft)\n        { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n    if (op.preparedSelection)\n      { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n      { updateScrollbars(cm, op.barMeasure); }\n    if (op.updatedDisplay)\n      { setDocumentHeight(cm, op.barMeasure); }\n\n    if (op.selectionChanged) { restartBlink(cm); }\n\n    if (cm.state.focused && op.updateInput)\n      { cm.display.input.reset(op.typing); }\n    if (takeFocus) { ensureFocus(op.cm); }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n    if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n    // Abort mouse wheel delta measurement, when scrolling explicitly\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n      { display.wheelStartX = display.wheelStartY = null; }\n\n    // Propagate the scroll position to the actual DOM scroller\n    if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n    if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n    // If we need to scroll a specific position into view, do so.\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    }\n\n    // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n    if (hidden) { for (var i = 0; i < hidden.length; ++i)\n      { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n    if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n      { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n    if (display.wrapper.offsetHeight)\n      { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n    // Fire change events, and delayed event handlers\n    if (op.changeObjs)\n      { signal(cm, \"changes\", cm, op.changeObjs); }\n    if (op.update)\n      { op.update.finish(); }\n  }\n\n  // Run the given function in an operation\n  function runInOp(cm, f) {\n    if (cm.curOp) { return f() }\n    startOperation(cm);\n    try { return f() }\n    finally { endOperation(cm); }\n  }\n  // Wraps a function in an operation. Returns the wrapped function.\n  function operation(cm, f) {\n    return function() {\n      if (cm.curOp) { return f.apply(cm, arguments) }\n      startOperation(cm);\n      try { return f.apply(cm, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n  // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n  function methodOp(f) {\n    return function() {\n      if (this.curOp) { return f.apply(this, arguments) }\n      startOperation(this);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(this); }\n    }\n  }\n  function docMethodOp(f) {\n    return function() {\n      var cm = this.cm;\n      if (!cm || cm.curOp) { return f.apply(this, arguments) }\n      startOperation(cm);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n\n  // HIGHLIGHT WORKER\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo)\n      { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n    if (doc.highlightFrontier >= cm.display.viewTo) { return }\n    var end = +new Date + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) { // Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n        if (resetState) { context.state = resetState; }\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses, newCls = highlighted.classes;\n        if (newCls) { line.styleClasses = newCls; }\n        else if (oldCls) { line.styleClasses = null; }\n        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n        if (ischange) { changedLines.push(context.line); }\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength)\n          { processLine(cm, line.text, context); }\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n      if (+new Date > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n    if (changedLines.length) { runInOp(cm, function () {\n      for (var i = 0; i < changedLines.length; i++)\n        { regLineChange(cm, changedLines[i], \"text\"); }\n    }); }\n  }\n\n  // DISPLAY DRAWING\n\n  var DisplayUpdate = function(cm, viewport, force) {\n    var display = cm.display;\n\n    this.viewport = viewport;\n    // Store some values that we'll need later (but don't want to force a relayout for)\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type))\n      { this.events.push(arguments); }\n  };\n  DisplayUpdate.prototype.finish = function () {\n      var this$1 = this;\n\n    for (var i = 0; i < this.events.length; i++)\n      { signal.apply(null, this$1.events[i]); }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) { return null }\n    var active = activeElt();\n    if (!active || !contains(cm.display.lineDiv, active)) { return null }\n    var result = {activeElt: active};\n    if (window.getSelection) {\n      var sel = window.getSelection();\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n    return result\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) { return }\n    snapshot.activeElt.focus();\n    if (snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(), range$$1 = document.createRange();\n      range$$1.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range$$1.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range$$1);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  }\n\n  // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display, doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false\n    }\n\n    // Bail out if the visible area is already rendered and nothing changed.\n    if (!update.force &&\n        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n        display.renderedView == display.view && countDirtyView(cm) == 0)\n      { return false }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    }\n\n    // Compute a suitable new viewport (from & to)\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n    if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n    if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo ||\n      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n    // Position the mover div to align with the current scroll position\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n    var toUpdate = countDirtyView(cm);\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n      { return false }\n\n    // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n    var selSnapshot = selectionSnapshot(cm);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n    display.renderedView = display.view;\n    // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n    restoreSelection(selSnapshot);\n\n    // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n\n    return true\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null)\n          { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n        // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n          { break }\n      }\n      if (!updateDisplayIfNeeded(cm, update)) { break }\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  }\n\n  // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv, cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling;\n      // Works around a throw-scroll bug in OS X Webkit\n      if (webkit && mac && cm.display.currentWheelTarget == node)\n        { node.style.display = \"none\"; }\n      else\n        { node.parentNode.removeChild(node); }\n      return next\n    }\n\n    var view = display.view, lineN = display.viewFrom;\n    // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ; else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else { // Already drawn\n        while (cur != lineView.node) { cur = rm(cur); }\n        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n          updateNumbersFrom <= lineN && lineView.lineNumber;\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n    while (cur) { cur = rm(cur); }\n  }\n\n  function updateGutterSpace(display) {\n    var width = display.gutters.offsetWidth;\n    display.sizer.style.marginLeft = width + \"px\";\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n  }\n\n  // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n  function alignHorizontally(cm) {\n    var display = cm.display, view = display.view;\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n    for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n      if (cm.options.fixedGutter) {\n        if (view[i].gutter)\n          { view[i].gutter.style.left = left; }\n        if (view[i].gutterBackground)\n          { view[i].gutterBackground.style.left = left; }\n      }\n      var align = view[i].alignable;\n      if (align) { for (var j = 0; j < align.length; j++)\n        { align[j].style.left = left; } }\n    } }\n    if (cm.options.fixedGutter)\n      { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n  }\n\n  // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) { return false }\n    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm.display);\n      return true\n    }\n    return false\n  }\n\n  function getGutters(gutters, lineNumbers) {\n    var result = [], sawLineNumbers = false;\n    for (var i = 0; i < gutters.length; i++) {\n      var name = gutters[i], style = null;\n      if (typeof name != \"string\") { style = name.style; name = name.className; }\n      if (name == \"CodeMirror-linenumbers\") {\n        if (!lineNumbers) { continue }\n        else { sawLineNumbers = true; }\n      }\n      result.push({className: name, style: style});\n    }\n    if (lineNumbers && !sawLineNumbers) { result.push({className: \"CodeMirror-linenumbers\", style: null}); }\n    return result\n  }\n\n  // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n  function renderGutters(display) {\n    var gutters = display.gutters, specs = display.gutterSpecs;\n    removeChildren(gutters);\n    display.lineGutter = null;\n    for (var i = 0; i < specs.length; ++i) {\n      var ref = specs[i];\n      var className = ref.className;\n      var style = ref.style;\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n      if (style) { gElt.style.cssText = style; }\n      if (className == \"CodeMirror-linenumbers\") {\n        display.lineGutter = gElt;\n        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n      }\n    }\n    gutters.style.display = specs.length ? \"\" : \"none\";\n    updateGutterSpace(display);\n  }\n\n  function updateGutters(cm) {\n    renderGutters(cm.display);\n    regChange(cm);\n    alignHorizontally(cm);\n  }\n\n  // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n  function Display(place, doc, input, options) {\n    var d = this;\n    this.input = input;\n\n    // Covers bottom-right square when both scrollbars are present.\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Will contain the actual code, positioned to cover the viewport.\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n    // Elements are added to these to represent selection and cursors.\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n    // A visibility: hidden element used to find the size of things.\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n    // When lines outside of the viewport are measured, they are drawn in this.\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n    // Wraps everything that needs to exist inside the vertically-padded coordinate system\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                      null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n    // Moved around its parent to cover visible view.\n    d.mover = elt(\"div\", [lines], null, \"position: relative\");\n    // Set to the height of the document, allowing scrolling.\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null;\n    // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n    // Will contain the gutters, if any.\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null;\n    // Actual scrollable element.\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n    // The element in which the editor lives.\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n    if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n    if (place) {\n      if (place.appendChild) { place.appendChild(d.wrapper); }\n      else { place(d.wrapper); }\n    }\n\n    // Current rendered range (may be bigger than the view window).\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first;\n    // Information about the rendered lines.\n    d.view = [];\n    d.renderedView = null;\n    // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n    d.externalMeasured = null;\n    // Empty space (in pixels) above the view\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false;\n\n    // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n    // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n    d.alignWidgets = false;\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n    // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false;\n\n    // Used for measuring wheel scrolling granularity\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n    // True when shift is held down.\n    d.shift = false;\n\n    // Used to track whether anything happened since the context menu\n    // was opened.\n    d.selForContextMenu = null;\n\n    d.activeTouch = null;\n\n    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n    renderGutters(d);\n\n    input.init(d);\n  }\n\n  // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n  var wheelSamples = 0, wheelPixelsPerUnit = null;\n  // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n  if (ie) { wheelPixelsPerUnit = -.53; }\n  else if (gecko) { wheelPixelsPerUnit = 15; }\n  else if (chrome) { wheelPixelsPerUnit = -.7; }\n  else if (safari) { wheelPixelsPerUnit = -1/3; }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n    else if (dy == null) { dy = e.wheelDelta; }\n    return {x: dx, y: dy}\n  }\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta\n  }\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n\n    var display = cm.display, scroll = display.scroller;\n    // Quit if there's nothing to scroll here\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n    if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n    // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer\n          }\n        }\n      }\n    }\n\n    // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n      if (dy && canScrollY)\n        { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * wheelPixelsPerUnit)); }\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * wheelPixelsPerUnit));\n      // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n      if (!dy || (dy && canScrollY))\n        { e_preventDefault(e); }\n      display.wheelStartX = null; // Abort measurement, if in progress\n      return\n    }\n\n    // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n    if (dy && wheelPixelsPerUnit != null) {\n      var pixels = dy * wheelPixelsPerUnit;\n      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n      if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n      else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n      updateDisplaySimple(cm, {top: top, bottom: bot});\n    }\n\n    if (wheelSamples < 20) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx; display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) { return }\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n            (movedX && display.wheelDX && movedX / display.wheelDX);\n          display.wheelStartX = display.wheelStartY = null;\n          if (!sample) { return }\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx; display.wheelDY += dy;\n      }\n    }\n  }\n\n  // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n  var Selection = function(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\n  Selection.prototype.equals = function (other) {\n      var this$1 = this;\n\n    if (other == this) { return true }\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this$1.ranges[i], there = other.ranges[i];\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n    }\n    return true\n  };\n\n  Selection.prototype.deepCopy = function () {\n      var this$1 = this;\n\n    var out = [];\n    for (var i = 0; i < this.ranges.length; i++)\n      { out[i] = new Range(copyPos(this$1.ranges[i].anchor), copyPos(this$1.ranges[i].head)); }\n    return new Selection(out, this.primIndex)\n  };\n\n  Selection.prototype.somethingSelected = function () {\n      var this$1 = this;\n\n    for (var i = 0; i < this.ranges.length; i++)\n      { if (!this$1.ranges[i].empty()) { return true } }\n    return false\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n      var this$1 = this;\n\n    if (!end) { end = pos; }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this$1.ranges[i];\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n        { return i }\n    }\n    return -1\n  };\n\n  var Range = function(anchor, head) {\n    this.anchor = anchor; this.head = head;\n  };\n\n  Range.prototype.from = function () { return minPos(this.anchor, this.head) };\n  Range.prototype.to = function () { return maxPos(this.anchor, this.head) };\n  Range.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n  // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n    primIndex = indexOf(ranges, prim);\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i], prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n        if (i <= primIndex) { --primIndex; }\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n    return new Selection(ranges, primIndex)\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0)\n  }\n\n  // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n  function changeEnd(change) {\n    if (!change.text) { return change.to }\n    return Pos(change.from.line + change.text.length - 1,\n               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n  }\n\n  // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) { return pos }\n    if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n    if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n    return Pos(line, ch)\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change),\n                         adjustForChange(range.head, change)));\n    }\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex)\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line)\n      { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n    else\n      { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n  }\n\n  // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n    return new Selection(out, doc.sel.primIndex)\n  }\n\n  // Used to get the editor into a consistent state again when options change.\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) { line.stateAfter = null; }\n      if (line.styles) { line.styles = null; }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n    if (cm.curOp) { regChange(cm); }\n  }\n\n  // DOCUMENT DATA STRUCTURE\n\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n      (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n  }\n\n  // Perform a change on the document data structure.\n  function updateDoc(doc, change, markedSpans, estimateHeight$$1) {\n    function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight$$1);\n      signalLater(line, \"change\", line, change);\n    }\n    function linesFor(start, end) {\n      var result = [];\n      for (var i = start; i < end; ++i)\n        { result.push(new Line(text[i], spansFor(i), estimateHeight$$1)); }\n      return result\n    }\n\n    var from = change.from, to = change.to, text = change.text;\n    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n    // Adjust the line structure\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n      if (nlines) { doc.remove(from.line, nlines); }\n      if (added.length) { doc.insert(from.line, added); }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight$$1));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n      if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  }\n\n  // Call f for all linked documents.\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n        var rel = doc.linked[i];\n        if (rel.doc == skip) { continue }\n        var shared = sharedHist && rel.sharedHist;\n        if (sharedHistOnly && !shared) { continue }\n        f(rel.doc, shared);\n        propagate(rel.doc, doc, shared);\n      } }\n    }\n    propagate(doc, null, true);\n  }\n\n  // Attach a document to an editor.\n  function attachDoc(cm, doc) {\n    if (doc.cm) { throw new Error(\"This document is already in use.\") }\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n    if (!cm.options.lineWrapping) { findMaxLine(cm); }\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(startGen) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = []; this.undone = [];\n    this.undoDepth = Infinity;\n    // Used to track when changes can be merged into a single undo\n    // event\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null;\n    // Used by the isClean() method\n    this.generation = this.maxGeneration = startGen || 1;\n  }\n\n  // Create a history change event from an updateDoc-style change\n  // object.\n  function historyChangeFromChange(doc, change) {\n    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n    return histChange\n  }\n\n  // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n      if (last.ranges) { array.pop(); }\n      else { break }\n    }\n  }\n\n  // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done)\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done)\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done)\n    }\n  }\n\n  // Register a change in the history. Merges changes that are within\n  // a single operation, or are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date, cur;\n    var last;\n\n    if ((hist.lastOp == opId ||\n         hist.lastOrigin == change.origin && change.origin &&\n         ((change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||\n          change.origin.charAt(0) == \"*\")) &&\n        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      last = lst(cur.changes);\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n      if (!before || !before.ranges)\n        { pushSelectionToHistory(doc.sel, hist.done); }\n      cur = {changes: [historyChangeFromChange(doc, change)],\n             generation: hist.generation};\n      hist.done.push(cur);\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n        if (!hist.done[0].ranges) { hist.done.shift(); }\n      }\n    }\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) { signal(doc, \"historyAdded\"); }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" ||\n      ch == \"+\" &&\n      prev.ranges.length == sel.ranges.length &&\n      prev.somethingSelected() == sel.somethingSelected() &&\n      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n  }\n\n  // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history, origin = options && options.origin;\n\n    // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n    if (opId == hist.lastSelOp ||\n        (origin && hist.lastSelOrigin == origin &&\n         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n      { hist.done[hist.done.length - 1] = sel; }\n    else\n      { pushSelectionToHistory(sel, hist.done); }\n\n    hist.lastSelTime = +new Date;\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n    if (options && options.clearRedo !== false)\n      { clearSelectionEvents(hist.undone); }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n    if (!(top && top.ranges && top.equals(sel)))\n      { dest.push(sel); }\n  }\n\n  // Used to store marked span information in the history.\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id], n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans)\n        { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n      ++n;\n    });\n  }\n\n  // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n  function removeClearedSpans(spans) {\n    if (!spans) { return null }\n    var out;\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n      else if (out) { out.push(spans[i]); }\n    }\n    return !out ? spans : out.length ? out : null\n  }\n\n  // Retrieve and filter the old marked spans stored in a change event.\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n    if (!found) { return null }\n    var nw = [];\n    for (var i = 0; i < change.text.length; ++i)\n      { nw.push(removeClearedSpans(found[i])); }\n    return nw\n  }\n\n  // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n    if (!old) { return stretched }\n    if (!stretched) { return old }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i], stretchCur = stretched[i];\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n          for (var k = 0; k < oldCur.length; ++k)\n            { if (oldCur[k].marker == span.marker) { continue spans } }\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n    return old\n  }\n\n  // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue\n      }\n      var changes = event.changes, newChanges = [];\n      copy.push({changes: newChanges});\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j], m = (void 0);\n        newChanges.push({from: change.from, to: change.to, text: change.text});\n        if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n          if (indexOf(newGroup, Number(m[1])) > -1) {\n            lst(newChanges)[prop] = change[prop];\n            delete change[prop];\n          }\n        } } }\n      }\n    }\n    return copy\n  }\n\n  // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n        if (posBefore != (cmp(other, anchor) < 0)) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != (cmp(head, other) < 0)) {\n          head = other;\n        }\n      }\n      return new Range(anchor, head)\n    } else {\n      return new Range(other || head, head)\n    }\n  }\n\n  // Extend the primary selection range, discard the rest.\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  }\n\n  // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    for (var i = 0; i < doc.sel.ranges.length; i++)\n      { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  }\n\n  // Updates a single range in the selection.\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  }\n\n  // Reset the selection to a single range.\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  }\n\n  // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function(ranges) {\n        var this$1 = this;\n\n        this.ranges = [];\n        for (var i = 0; i < ranges.length; i++)\n          { this$1.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                     clipPos(doc, ranges[i].head)); }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n    if (obj.ranges != sel.ranges) { return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1) }\n    else { return sel }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done, last = lst(done);\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  }\n\n  // Set a new selection.\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n      { sel = filterSelectionChange(doc, sel, options); }\n\n    var bias = options && options.bias ||\n      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm)\n      { ensureCursorVisible(doc.cm); }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) { return }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n    signalLater(doc, \"cursorActivity\", doc);\n  }\n\n  // Verify that the selection does not partially select any atomic\n  // marked ranges.\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  }\n\n  // Return a selection that does not partially select any atomic\n  // ranges.\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) { out = sel.ranges.slice(0, i); }\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var sp = line.markedSpans[i], m = sp.marker;\n\n      // Determine if we should prevent the cursor being placed to the left/right of an atomic marker\n      // Historically this was determined using the inclusiveLeft/Right option, but the new way to control it\n      // is with selectLeft/Right\n      var preventCursorLeft = (\"selectLeft\" in m) ? !m.selectLeft : m.inclusiveLeft;\n      var preventCursorRight = (\"selectRight\" in m) ? !m.selectRight : m.inclusiveRight;\n\n      if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n          (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n        if (mayClear) {\n          signal(m, \"beforeCursorEnter\");\n          if (m.explicitlyCleared) {\n            if (!line.markedSpans) { break }\n            else {--i; continue}\n          }\n        }\n        if (!m.atomic) { continue }\n\n        if (oldPos) {\n          var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);\n          if (dir < 0 ? preventCursorRight : preventCursorLeft)\n            { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n            { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n        }\n\n        var far = m.find(dir < 0 ? -1 : 1);\n        if (dir < 0 ? preventCursorLeft : preventCursorRight)\n          { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n      }\n    } }\n    return pos\n  }\n\n  // Ensure a given position is not inside an atomic range.\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0)\n    }\n    return found\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n      else { return null }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n      else { return null }\n    } else {\n      return new Pos(pos.line, pos.ch + dir)\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  }\n\n  // UPDATING\n\n  // Allow \"beforeChange\" event handlers to influence a change\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function () { return obj.canceled = true; }\n    };\n    if (update) { obj.update = function (from, to, text, origin) {\n      if (from) { obj.from = clipPos(doc, from); }\n      if (to) { obj.to = clipPos(doc, to); }\n      if (text) { obj.text = text; }\n      if (origin !== undefined) { obj.origin = origin; }\n    }; }\n    signal(doc, \"beforeChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n    if (obj.canceled) {\n      if (doc.cm) { doc.cm.curOp.updateInput = 2; }\n      return null\n    }\n    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n  }\n\n  // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n      if (doc.cm.state.suppressEdits) { return }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n      if (!change) { return }\n    }\n\n    // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i)\n        { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  }\n\n  // Revert a change stored in a document's history.\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n    if (suppress && !allowSelectionOnly) { return }\n\n    var hist = doc.history, event, selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n    // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n    var i = 0;\n    for (; i < source.length; i++) {\n      event = source[i];\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n        { break }\n    }\n    if (i == source.length) { return }\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {clearRedo: false});\n          return\n        }\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return\n      } else { break }\n    }\n\n    // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({changes: antiChanges, generation: hist.generation});\n    hist.generation = event.generation || ++hist.maxGeneration;\n\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function ( i ) {\n      var change = event.changes[i];\n      change.origin = type;\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {}\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n      if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n      var rebased = [];\n\n      // Propagate to the linked documents\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop( i$1 );\n\n      if ( returned ) return returned.v;\n    }\n  }\n\n  // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n  function shiftDoc(doc, distance) {\n    if (distance == 0) { return }\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n      Pos(range.anchor.line + distance, range.anchor.ch),\n      Pos(range.head.line + distance, range.head.ch)\n    ); }), doc.sel.primIndex);\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n        { regLineChange(doc.cm, l, \"gutter\"); }\n    }\n  }\n\n  // More lower-level change function, handling only a single document\n  // (not linked ones).\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp)\n      { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return\n    }\n    if (change.from.line > doc.lastLine()) { return }\n\n    // Clip the change to the size of this doc\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n                text: [lst(change.text)], origin: change.origin};\n    }\n    var last = doc.lastLine();\n    if (change.to.line > last) {\n      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n                text: [change.text[0]], origin: change.origin};\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n    if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n    else { updateDoc(doc, change, spans); }\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n\n    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0)))\n      { doc.cantEdit = false; }\n  }\n\n  // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n    var recomputeMaxLength = false, checkWidthStart = from.line;\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1)\n      { signalCursorActivity(cm); }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n      if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n\n    var lendiff = change.text.length - (to.line - from.line) - 1;\n    // Remember that these lines changed, for updating the display\n    if (change.full)\n      { regChange(cm); }\n    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n      { regLineChange(cm, from.line, \"text\"); }\n    else\n      { regChange(cm, from.line, to.line + 1, lendiff); }\n\n    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from, to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n      if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n      if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n    }\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) { to = from; }\n    if (cmp(to, from) < 0) { (assign = [to, from], from = assign[0], to = assign[1]); }\n    if (typeof code == \"string\") { code = doc.splitLines(code); }\n    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n  }\n\n  // Rebasing/resetting history to deal with externally-sourced changes\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  }\n\n  // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i], ok = true;\n      if (sub.ranges) {\n        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n        continue\n      }\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break\n        }\n      }\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  }\n\n  // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle, line = handle;\n    if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n    else { no = lineNo(handle); }\n    if (no == null) { return null }\n    if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n    return line\n  }\n\n  // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n  function LeafChunk(lines) {\n    var this$1 = this;\n\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this$1;\n      height += lines[i].height;\n    }\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function() { return this.lines.length },\n\n    // Remove the n lines at offset 'at'.\n    removeInner: function(at, n) {\n      var this$1 = this;\n\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this$1.lines[i];\n        this$1.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n      this.lines.splice(at, n);\n    },\n\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function(at, lines, height) {\n      var this$1 = this;\n\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n      for (var i = 0; i < lines.length; ++i) { lines[i].parent = this$1; }\n    },\n\n    // Used to iterate over a part of the tree.\n    iterN: function(at, n, op) {\n      var this$1 = this;\n\n      for (var e = at + n; at < e; ++at)\n        { if (op(this$1.lines[at])) { return true } }\n    }\n  };\n\n  function BranchChunk(children) {\n    var this$1 = this;\n\n    this.children = children;\n    var size = 0, height = 0;\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize(); height += ch.height;\n      ch.parent = this$1;\n    }\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function() { return this.size },\n\n    removeInner: function(at, n) {\n      var this$1 = this;\n\n      this.size -= n;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this$1.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\n          child.removeInner(at, rm);\n          this$1.height -= oldHeight - child.height;\n          if (sz == rm) { this$1.children.splice(i--, 1); child.parent = null; }\n          if ((n -= rm) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n      // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n      if (this.size - n < 25 &&\n          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n\n    collapse: function(lines) {\n      var this$1 = this;\n\n      for (var i = 0; i < this.children.length; ++i) { this$1.children[i].collapse(lines); }\n    },\n\n    insertInner: function(at, lines, height) {\n      var this$1 = this;\n\n      this.size += lines.length;\n      this.height += height;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this$1.children[i], sz = child.chunkSize();\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this$1.children.splice(++i, 0, leaf);\n              leaf.parent = this$1;\n            }\n            child.lines = child.lines.slice(0, remaining);\n            this$1.maybeSpill();\n          }\n          break\n        }\n        at -= sz;\n      }\n    },\n\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function() {\n      if (this.children.length <= 10) { return }\n      var me = this;\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n        if (!me.parent) { // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n       } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n        sibling.parent = me.parent;\n      } while (me.children.length > 10)\n      me.parent.maybeSpill();\n    },\n\n    iterN: function(at, n, op) {\n      var this$1 = this;\n\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this$1.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n          if (child.iterN(at, used, op)) { return true }\n          if ((n -= used) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n    }\n  };\n\n  // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function(doc, node, options) {\n    var this$1 = this;\n\n    if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n      { this$1[opt] = options[opt]; } } }\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n      var this$1 = this;\n\n    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n    if (no == null || !ws) { return }\n    for (var i = 0; i < ws.length; ++i) { if (ws[i] == this$1) { ws.splice(i--, 1); } }\n    if (!ws.length) { line.widgets = null; }\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n      var this$1 = this;\n\n    var oldH = this.height, cm = this.doc.cm, line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n    if (!diff) { return }\n    if (!lineIsHidden(this.doc, line)) { updateLineHeight(line, line.height + diff); }\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n      { addToScrollTop(cm, diff); }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n    if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n      if (widget.insertAt == null) { widgets.push(widget); }\n      else { widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget); }\n      widget.line = line;\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n        if (aboveVisible) { addToScrollTop(cm, widget.height); }\n        cm.curOp.forceUpdate = true;\n      }\n      return true\n    });\n    if (cm) { signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle)); }\n    return widget\n  }\n\n  // TEXTMARKERS\n\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n  var nextMarkerId = 0;\n\n  var TextMarker = function(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  };\n\n  // Clear the marker.\n  TextMarker.prototype.clear = function () {\n      var this$1 = this;\n\n    if (this.explicitlyCleared) { return }\n    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n    if (withOp) { startOperation(cm); }\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n      if (found) { signalLater(this, \"clear\", found.from, found.to); }\n    }\n    var min = null, max = null;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this$1.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this$1);\n      if (cm && !this$1.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n      else if (cm) {\n        if (span.to != null) { max = lineNo(line); }\n        if (span.from != null) { min = lineNo(line); }\n      }\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n      if (span.from == null && this$1.collapsed && !lineIsHidden(this$1.doc, line) && cm)\n        { updateLineHeight(line, textHeight(cm.display)); }\n    }\n    if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n      var visual = visualLine(this$1.lines[i$1]), len = lineLength(visual);\n      if (len > cm.display.maxLineLength) {\n        cm.display.maxLine = visual;\n        cm.display.maxLineLength = len;\n        cm.display.maxLineChanged = true;\n      }\n    } }\n\n    if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n      if (cm) { reCheckSelection(cm.doc); }\n    }\n    if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n    if (withOp) { endOperation(cm); }\n    if (this.parent) { this.parent.clear(); }\n  };\n\n  // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n  TextMarker.prototype.find = function (side, lineObj) {\n      var this$1 = this;\n\n    if (side == null && this.type == \"bookmark\") { side = 1; }\n    var from, to;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this$1.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this$1);\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n        if (side == -1) { return from }\n      }\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n        if (side == 1) { return to }\n      }\n    }\n    return from && {from: from, to: to}\n  };\n\n  // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n  TextMarker.prototype.changed = function () {\n      var this$1 = this;\n\n    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n    if (!pos || !cm) { return }\n    runInOp(cm, function () {\n      var line = pos.line, lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n      cm.curOp.updateMaxLine = true;\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n        if (dHeight)\n          { updateLineHeight(line, line.height + dHeight); }\n      }\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n        { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n    }\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp\n      ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n  eventMixin(TextMarker);\n\n  // Create a marker, wire it up to the right lines, and\n  function markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n    // Ensure we are in an operation.\n    if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n    if (options) { copyObj(options, marker, false); }\n    // Don't connect empty markers unless clearWhenEmpty is false\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n      { return marker }\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n      if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n      if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n    }\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n        { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory)\n      { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n    var curLine = from.line, cm = doc.cm, updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n        { updateMaxLine = true; }\n      if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n      addMarkedSpan(line, new MarkedSpan(marker,\n                                         curLine == from.line ? from.ch : null,\n                                         curLine == to.line ? to.ch : null));\n      ++curLine;\n    });\n    // lineIsHidden depends on the presence of the spans, so needs a second pass\n    if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n      if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n    }); }\n\n    if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n      if (doc.history.done.length || doc.history.undone.length)\n        { doc.clearHistory(); }\n    }\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n      if (marker.collapsed)\n        { regChange(cm, from.line, to.line + 1); }\n      else if (marker.className || marker.startStyle || marker.endStyle || marker.css ||\n               marker.attributes || marker.title)\n        { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n      if (marker.atomic) { reCheckSelection(cm.doc); }\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n    return marker\n  }\n\n  // SHARED TEXTMARKERS\n\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n  var SharedTextMarker = function(markers, primary) {\n    var this$1 = this;\n\n    this.markers = markers;\n    this.primary = primary;\n    for (var i = 0; i < markers.length; ++i)\n      { markers[i].parent = this$1; }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n      var this$1 = this;\n\n    if (this.explicitlyCleared) { return }\n    this.explicitlyCleared = true;\n    for (var i = 0; i < this.markers.length; ++i)\n      { this$1.markers[i].clear(); }\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj)\n  };\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) { options.widgetNode = widget.cloneNode(true); }\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n      for (var i = 0; i < doc.linked.length; ++i)\n        { if (doc.linked[i].isParent) { return } }\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary)\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], pos = marker.find();\n      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function ( i ) {\n      var marker = markers[i], linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) loop( i );\n  }\n\n  var nextDocId = 0;\n  var Doc = function(text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n    if (firstLine == null) { firstLine = 0; }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") { text = this.splitLines(text); }\n    updateDoc(this, {from: start, to: start, text: text});\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function(from, to, op) {\n      if (op) { this.iterN(from - this.first, to - from, op); }\n      else { this.iterN(this.first, this.first + this.size, from); }\n    },\n\n    // Non-public interface for adding and removing lines.\n    insert: function(at, lines) {\n      var height = 0;\n      for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n\n    getValue: function(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n    setValue: docMethodOp(function(code) {\n      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n      if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function(code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function(from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n\n    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n    getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n    getLineNumber: function(line) {return lineNo(line)},\n\n    getLineHandleVisualStart: function(line) {\n      if (typeof line == \"number\") { line = getLine(this, line); }\n      return visualLine(line)\n    },\n\n    lineCount: function() {return this.size},\n    firstLine: function() {return this.first},\n    lastLine: function() {return this.first + this.size - 1},\n\n    clipPos: function(pos) {return clipPos(this, pos)},\n\n    getCursor: function(start) {\n      var range$$1 = this.sel.primary(), pos;\n      if (start == null || start == \"head\") { pos = range$$1.head; }\n      else if (start == \"anchor\") { pos = range$$1.anchor; }\n      else if (start == \"end\" || start == \"to\" || start === false) { pos = range$$1.to(); }\n      else { pos = range$$1.from(); }\n      return pos\n    },\n    listSelections: function() { return this.sel.ranges },\n    somethingSelected: function() {return this.sel.somethingSelected()},\n\n    setCursor: docMethodOp(function(line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function(anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function(head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function(heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function(f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function(ranges, primary, options) {\n      var this$1 = this;\n\n      if (!ranges.length) { return }\n      var out = [];\n      for (var i = 0; i < ranges.length; i++)\n        { out[i] = new Range(clipPos(this$1, ranges[i].anchor),\n                           clipPos(this$1, ranges[i].head)); }\n      if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function(anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n\n    getSelection: function(lineSep) {\n      var this$1 = this;\n\n      var ranges = this.sel.ranges, lines;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this$1, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n      if (lineSep === false) { return lines }\n      else { return lines.join(lineSep || this.lineSeparator()) }\n    },\n    getSelections: function(lineSep) {\n      var this$1 = this;\n\n      var parts = [], ranges = this.sel.ranges;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this$1, ranges[i].from(), ranges[i].to());\n        if (lineSep !== false) { sel = sel.join(lineSep || this$1.lineSeparator()); }\n        parts[i] = sel;\n      }\n      return parts\n    },\n    replaceSelection: function(code, collapse, origin) {\n      var dup = [];\n      for (var i = 0; i < this.sel.ranges.length; i++)\n        { dup[i] = code; }\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function(code, collapse, origin) {\n      var this$1 = this;\n\n      var changes = [], sel = this.sel;\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range$$1 = sel.ranges[i];\n        changes[i] = {from: range$$1.from(), to: range$$1.to(), text: this$1.splitLines(code[i]), origin: origin};\n      }\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n        { makeChange(this$1, changes[i$1]); }\n      if (newSel) { setSelectionReplaceHistory(this, newSel); }\n      else if (this.cm) { ensureCursorVisible(this.cm); }\n    }),\n    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n    setExtending: function(val) {this.extend = val;},\n    getExtending: function() {return this.extend},\n\n    historySize: function() {\n      var hist = this.history, done = 0, undone = 0;\n      for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n      return {undo: done, redo: undone}\n    },\n    clearHistory: function() {this.history = new History(this.history.maxGeneration);},\n\n    markClean: function() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function(forceSplit) {\n      if (forceSplit)\n        { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n      return this.history.generation\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration)\n    },\n\n    getHistory: function() {\n      return {done: copyHistoryArray(this.history.done),\n              undone: copyHistoryArray(this.history.undone)}\n    },\n    setHistory: function(histData) {\n      var hist = this.history = new History(this.history.maxGeneration);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n\n    setGutterMarker: docMethodOp(function(line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n        if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n        return true\n      })\n    }),\n\n    clearGutter: docMethodOp(function(gutterID) {\n      var this$1 = this;\n\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n            if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n            return true\n          });\n        }\n      });\n    }),\n\n    lineInfo: function(line) {\n      var n;\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) { return null }\n        n = line;\n        line = getLine(this, line);\n        if (!line) { return null }\n      } else {\n        n = lineNo(line);\n        if (n == null) { return null }\n      }\n      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n              widgets: line.widgets}\n    },\n\n    addLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        if (!line[prop]) { line[prop] = cls; }\n        else if (classTest(cls).test(line[prop])) { return false }\n        else { line[prop] += \" \" + cls; }\n        return true\n      })\n    }),\n    removeLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n        if (!cur) { return false }\n        else if (cls == null) { line[prop] = null; }\n        else {\n          var found = cur.match(classTest(cls));\n          if (!found) { return false }\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n        return true\n      })\n    }),\n\n    addLineWidget: docMethodOp(function(handle, node, options) {\n      return addLineWidget(this, handle, node, options)\n    }),\n    removeLineWidget: function(widget) { widget.clear(); },\n\n    markText: function(from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n    },\n    setBookmark: function(pos, options) {\n      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                      insertLeft: options && options.insertLeft,\n                      clearWhenEmpty: false, shared: options && options.shared,\n                      handleMouseEvents: options && options.handleMouseEvents};\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\")\n    },\n    findMarksAt: function(pos) {\n      pos = clipPos(this, pos);\n      var markers = [], spans = getLine(this, pos.line).markedSpans;\n      if (spans) { for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n        if ((span.from == null || span.from <= pos.ch) &&\n            (span.to == null || span.to >= pos.ch))\n          { markers.push(span.marker.parent || span.marker); }\n      } }\n      return markers\n    },\n    findMarks: function(from, to, filter) {\n      from = clipPos(this, from); to = clipPos(this, to);\n      var found = [], lineNo$$1 = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n        if (spans) { for (var i = 0; i < spans.length; i++) {\n          var span = spans[i];\n          if (!(span.to != null && lineNo$$1 == from.line && from.ch >= span.to ||\n                span.from == null && lineNo$$1 != from.line ||\n                span.from != null && lineNo$$1 == to.line && span.from >= to.ch) &&\n              (!filter || filter(span.marker)))\n            { found.push(span.marker.parent || span.marker); }\n        } }\n        ++lineNo$$1;\n      });\n      return found\n    },\n    getAllMarks: function() {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n        if (sps) { for (var i = 0; i < sps.length; ++i)\n          { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n      });\n      return markers\n    },\n\n    posFromIndex: function(off) {\n      var ch, lineNo$$1 = this.first, sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n        if (sz > off) { ch = off; return true }\n        off -= sz;\n        ++lineNo$$1;\n      });\n      return clipPos(this, Pos(lineNo$$1, ch))\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n      if (coords.line < this.first || coords.ch < 0) { return 0 }\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index\n    },\n\n    copy: function(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                        this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n      return doc\n    },\n\n    linkedDoc: function(options) {\n      if (!options) { options = {}; }\n      var from = this.first, to = this.first + this.size;\n      if (options.from != null && options.from > from) { from = options.from; }\n      if (options.to != null && options.to < to) { to = options.to; }\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n      if (options.sharedHist) { copy.history = this.history\n      ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy\n    },\n    unlinkDoc: function(other) {\n      var this$1 = this;\n\n      if (other instanceof CodeMirror) { other = other.doc; }\n      if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n        var link = this$1.linked[i];\n        if (link.doc != other) { continue }\n        this$1.linked.splice(i, 1);\n        other.unlinkDoc(this$1);\n        detachSharedMarkers(findSharedMarkers(this$1));\n        break\n      } }\n      // If the histories were shared, split them again\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n    getMode: function() {return this.mode},\n    getEditor: function() {return this.cm},\n\n    splitLines: function(str) {\n      if (this.lineSep) { return str.split(this.lineSep) }\n      return splitLinesAuto(str)\n    },\n    lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") { dir = \"ltr\"; }\n      if (dir == this.direction) { return }\n      this.direction = dir;\n      this.iter(function (line) { return line.order = null; });\n      if (this.cm) { directionChanged(this.cm); }\n    })\n  });\n\n  // Public alias.\n  Doc.prototype.eachLine = Doc.prototype.iter;\n\n  // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n      { return }\n    e_preventDefault(e);\n    if (ie) { lastDrop = +new Date; }\n    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n    if (!pos || cm.isReadOnly()) { return }\n    // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length, text = Array(n), read = 0;\n      var loadFile = function (file, i) {\n        if (cm.options.allowDropFileTypes &&\n            indexOf(cm.options.allowDropFileTypes, file.type) == -1)\n          { return }\n\n        var reader = new FileReader;\n        reader.onload = operation(cm, function () {\n          var content = reader.result;\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) { content = \"\"; }\n          text[i] = content;\n          if (++read == n) {\n            pos = clipPos(cm.doc, pos);\n            var change = {from: pos, to: pos,\n                          text: cm.doc.splitLines(text.join(cm.doc.lineSeparator())),\n                          origin: \"paste\"};\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(pos, changeEnd(change)));\n          }\n        });\n        reader.readAsText(file);\n      };\n      for (var i = 0; i < n; ++i) { loadFile(files[i], i); }\n    } else { // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e);\n        // Ensure the editor is re-focused\n        setTimeout(function () { return cm.display.input.focus(); }, 20);\n        return\n      }\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n        if (text$1) {\n          var selected;\n          if (cm.state.draggingText && !cm.state.draggingText.copy)\n            { selected = cm.listSelections(); }\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n          if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n            { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      }\n      catch(e){}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\";\n\n    // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img);\n        // Force a relayout, or Opera won't use our image for some obscure reason\n        img._top = img.offsetTop;\n      }\n      e.dataTransfer.setDragImage(img, 0, 0);\n      if (presto) { img.parentNode.removeChild(img); }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n    if (!pos) { return }\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  }\n\n  // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) { return }\n    var byClass = document.getElementsByClassName(\"CodeMirror\"), editors = [];\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n      if (cm) { editors.push(cm); }\n    }\n    if (editors.length) { editors[0].operation(function () {\n      for (var i = 0; i < editors.length; i++) { f(editors[i]); }\n    }); }\n  }\n\n  var globalsRegistered = false;\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) { return }\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n        resizeTimer = null;\n        forEachCodeMirror(onResize);\n      }, 100); }\n    });\n    // When the window loses focus, we want to show the editor as blurred\n    on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n  }\n  // Called when the window resizes\n  function onResize(cm) {\n    var d = cm.display;\n    // Might be a text scaling operation, clear size caches.\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 145: \"ScrollLock\",\n    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n    221: \"]\", 222: \"'\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n  };\n\n  // Number keys\n  for (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\n  // Alphabetic keys\n  for (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\n  // Function keys\n  for (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\n  var keyMap = {};\n\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  };\n  // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  };\n  // Very basic readline/emacs-style bindings, which are standard on Mac.\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n    \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\n    \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\", \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\",\n    \"Alt-D\": \"delWordAfter\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\",\n    \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n  // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n      if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true; }\n      else if (/^a(lt)?$/i.test(mod)) { alt = true; }\n      else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }\n      else if (/^s(hift)?$/i.test(mod)) { shift = true; }\n      else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n    }\n    if (alt) { name = \"Alt-\" + name; }\n    if (ctrl) { name = \"Ctrl-\" + name; }\n    if (cmd) { name = \"Cmd-\" + name; }\n    if (shift) { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n    for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n      var value = keymap[keyname];\n      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n      if (value == \"...\") { delete keymap[keyname]; continue }\n\n      var keys = map(keyname.split(\" \"), normalizeKeyName);\n      for (var i = 0; i < keys.length; i++) {\n        var val = (void 0), name = (void 0);\n        if (i == keys.length - 1) {\n          name = keys.join(\" \");\n          val = value;\n        } else {\n          name = keys.slice(0, i + 1).join(\" \");\n          val = \"...\";\n        }\n        var prev = copy[name];\n        if (!prev) { copy[name] = val; }\n        else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n      }\n      delete keymap[keyname];\n    } }\n    for (var prop in copy) { keymap[prop] = copy[prop]; }\n    return keymap\n  }\n\n  function lookupKey(key, map$$1, handle, context) {\n    map$$1 = getKeyMap(map$$1);\n    var found = map$$1.call ? map$$1.call(key, context) : map$$1[key];\n    if (found === false) { return \"nothing\" }\n    if (found === \"...\") { return \"multi\" }\n    if (found != null && handle(found)) { return \"handled\" }\n\n    if (map$$1.fallthrough) {\n      if (Object.prototype.toString.call(map$$1.fallthrough) != \"[object Array]\")\n        { return lookupKey(key, map$$1.fallthrough, handle, context) }\n      for (var i = 0; i < map$$1.fallthrough.length; i++) {\n        var result = lookupKey(key, map$$1.fallthrough[i], handle, context);\n        if (result) { return result }\n      }\n    }\n  }\n\n  // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n    if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Cmd\") { name = \"Cmd-\" + name; }\n    if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // Look up the name of a key as indicated by an event object.\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n    var name = keyNames[event.keyCode];\n    if (name == null || event.altGraphKey) { return false }\n    // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n    if (event.keyCode == 3 && event.code) { name = event.code; }\n    return addModifierNames(name, event, noShift)\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val\n  }\n\n  // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges, kill = [];\n    // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break\n        }\n      }\n      kill.push(toKill);\n    }\n    // Next, remove those actual ranges.\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      var order = getOrder(lineObj, cm.doc.direction);\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = (dir < 0) == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch;\n        // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        // it could be that the last bidi part is not on the last visual line,\n        // since visual lines contain content order-consecutive chunks.\n        // Thus, in rtl, we are looking for the first (content-order) character\n        // in the rtl chunk that is on the last line (that is, the same line\n        // as the last (content-order) character).\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n          if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n        } else { ch = dir < 0 ? part.to : part.from; }\n        return new Pos(lineNo, ch, sticky)\n      }\n    }\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n    if (!bidi) { return moveLogically(line, start, dir) }\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      // nothing interesting happens.\n      return moveLogically(line, start, dir)\n    }\n\n    var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n    var prep;\n    var getWrappedLineExtent = function (ch) {\n      if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch)\n    };\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = (part.level == 1) == (dir < 0);\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky)\n      }\n    }\n\n    // Case 3: Could not move within this bidi part in this visual line, so leave\n    // the current bidi part\n\n    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n      var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n        ? new Pos(start.line, mv(ch, 1), \"before\")\n        : new Pos(start.line, ch, \"after\"); };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = (dir > 0) == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n        if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n      }\n    };\n\n    // Case 3a: Look for other bidi parts on the same visual line\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n    if (res) { return res }\n\n    // Case 3b: Look for other bidi parts on the next visual line\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n      if (res) { return res }\n    }\n\n    // Case 4: Nowhere to move\n    return null\n  }\n\n  // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n    killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n      if (range.empty()) {\n        var len = getLine(cm.doc, range.head.line).text.length;\n        if (range.head.ch == len && range.head.line < cm.lastLine())\n          { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n        else\n          { return {from: range.head, to: Pos(range.head.line, len)} }\n      } else {\n        return {from: range.from(), to: range.to()}\n      }\n    }); },\n    deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0),\n      to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n    }); }); },\n    delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0), to: range.from()\n    }); }); },\n    delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n      return {from: leftPos, to: range.from()}\n    }); },\n    delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n      return {from: range.from(), to: rightPos }\n    }); },\n    undo: function (cm) { return cm.undo(); },\n    redo: function (cm) { return cm.redo(); },\n    undoSelection: function (cm) { return cm.undoSelection(); },\n    redoSelection: function (cm) { return cm.redoSelection(); },\n    goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n    goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n    goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n      {origin: \"+move\", bias: -1}\n    ); },\n    goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: 0, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n      if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n      return pos\n    }, sel_move); },\n    goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n    goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n    goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n    goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n    goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n    goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n    goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n    goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n    goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n    goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n    goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n    goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n    delCharBefore: function (cm) { return cm.deleteH(-1, \"char\"); },\n    delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n    delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n    delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n    delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n    delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n    indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n    indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n    indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n    insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n    insertSoftTab: function (cm) {\n      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function (cm) {\n      if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n      else { cm.execCommand(\"insertTab\"); }\n    },\n    // Swap the two chars left and right of each selection's head.\n    // Move cursor behind the two swapped characters afterwards.\n    //\n    // Doesn't consider line feeds a character.\n    // Doesn't scan more than one line above to find a character.\n    // Doesn't do anything on an empty line.\n    // Doesn't do anything with non-empty selections.\n    transposeChars: function (cm) { return runInOp(cm, function () {\n      var ranges = cm.listSelections(), newSel = [];\n      for (var i = 0; i < ranges.length; i++) {\n        if (!ranges[i].empty()) { continue }\n        var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n        if (line) {\n          if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n          if (cur.ch > 0) {\n            cur = new Pos(cur.line, cur.ch + 1);\n            cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                            Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n          } else if (cur.line > cm.doc.first) {\n            var prev = getLine(cm.doc, cur.line - 1).text;\n            if (prev) {\n              cur = new Pos(cur.line, 1);\n              cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                              prev.charAt(prev.length - 1),\n                              Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n            }\n          }\n        }\n        newSel.push(new Range(cur, cur));\n      }\n      cm.setSelections(newSel);\n    }); },\n    newlineAndIndent: function (cm) { return runInOp(cm, function () {\n      var sels = cm.listSelections();\n      for (var i = sels.length - 1; i >= 0; i--)\n        { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n      sels = cm.listSelections();\n      for (var i$1 = 0; i$1 < sels.length; i$1++)\n        { cm.indentLine(sels[i$1].from().line, null, true); }\n      ensureCursorVisible(cm);\n    }); },\n    openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n    toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n  };\n\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, visual, lineN, 1)\n  }\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, line, lineN, -1)\n  }\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(0, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n    }\n    return start\n  }\n\n  // Run a handler that was bound to a key.\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n      if (!bound) { return false }\n    }\n    // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift, done = false;\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n      if (dropShift) { cm.display.shift = false; }\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n    return done\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n      if (result) { return result }\n    }\n    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n      || lookupKey(name, cm.options.keyMap, handle, cm)\n  }\n\n  // Note that, despite the name, this function is also used to check\n  // for bound mouse clicks.\n\n  var stopSeq = new Delayed;\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n    if (seq) {\n      if (isModifierKey(name)) { return \"handled\" }\n      if (/\\'$/.test(name))\n        { cm.state.keySeq = null; }\n      else\n        { stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        }); }\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n    }\n    return dispatchKeyInner(cm, name, e, handle)\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\")\n      { cm.state.keySeq = name; }\n    if (result == \"handled\")\n      { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result\n  }\n\n  // Handle a key from the keydown event.\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n    if (!name) { return false }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n          || dispatchKey(cm, name, e, function (b) {\n               if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n                 { return doHandleBinding(cm, b) }\n             })\n    } else {\n      return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n    }\n  }\n\n  // Handle a key from the keypress event\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n  }\n\n  var lastStoppedKey = null;\n  function onKeyDown(e) {\n    var cm = this;\n    cm.curOp.focus = activeElt();\n    if (signalDOMEvent(cm, e)) { return }\n    // IE does strange things with escape.\n    if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n    if (presto) {\n      lastStoppedKey = handled ? code : null;\n      // Opera has no cut event... we try to at least catch the key combo\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n        { cm.replaceSelection(\"\", null, \"cut\"); }\n    }\n\n    // Turn mouse into crosshair when Alt is held on Mac.\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n      { showCrossHair(cm); }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) { this.doc.sel.shift = false; }\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n    var keyCode = e.keyCode, charCode = e.charCode;\n    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n    // Some browsers fire keypress events for backspace\n    if (ch == \"\\x08\") { return }\n    if (handleCharBinding(cm, e, ch)) { return }\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function(time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time &&\n      cmp(pos, this.pos) == 0 && button == this.button\n  };\n\n  var lastClick, lastDoubleClick;\n  function clickRepeat(pos, button) {\n    var now = +new Date;\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\"\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\"\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\"\n    }\n  }\n\n  // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n  function onMouseDown(e) {\n    var cm = this, display = cm.display;\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () { return display.scroller.draggable = true; }, 100);\n      }\n      return\n    }\n    if (clickInGutter(cm, e)) { return }\n    var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus();\n\n    // #3261: make sure, that we're not starting a second selection\n    if (button == 1 && cm.state.selectingText)\n      { cm.state.selectingText(e); }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n    if (button == 1) {\n      if (pos) { leftButtonDown(cm, pos, repeat, e); }\n      else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n    } else if (button == 2) {\n      if (pos) { extendSelection(cm.doc, pos); }\n      setTimeout(function () { return display.input.focus(); }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) { cm.display.input.onContextMenu(e); }\n      else { delayBlurEvent(cm); }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n    if (repeat == \"double\") { name = \"Double\" + name; }\n    else if (repeat == \"triple\") { name = \"Triple\" + name; }\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n    return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") { bound = commands[bound]; }\n      if (!bound) { return false }\n      var done = false;\n      try {\n        if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n      return done\n    })\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n    if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n    if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n    if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n    return value\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n    else { cm.curOp.focus = activeElt(); }\n\n    var behavior = configureMouse(cm, repeat, event);\n\n    var sel = cm.doc.sel, contained;\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n        repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n        (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n        (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n      { leftButtonStartDrag(cm, event, pos, behavior); }\n    else\n      { leftButtonSelect(cm, event, pos, behavior); }\n  }\n\n  // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display, moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) { display.scroller.draggable = false; }\n      cm.state.draggingText = false;\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n      if (!moved) {\n        e_preventDefault(e);\n        if (!behavior.addNew)\n          { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n        if (webkit || ie && ie_version == 9)\n          { setTimeout(function () {display.wrapper.ownerDocument.body.focus(); display.input.focus();}, 20); }\n        else\n          { display.input.focus(); }\n      }\n    });\n    var mouseMove = function(e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n    var dragStart = function () { return moved = true; };\n    // Let the drag handler handle this.\n    if (webkit) { display.scroller.draggable = true; }\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag;\n    // IE's approach to draggable\n    if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n\n    delayBlurEvent(cm);\n    setTimeout(function () { return display.input.focus(); }, 20);\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") { return new Range(pos, pos) }\n    if (unit == \"word\") { return cm.findWordAt(pos) }\n    if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to)\n  }\n\n  // Normal selection, as opposed to text dragging.\n  function leftButtonSelect(cm, event, start, behavior) {\n    var display = cm.display, doc = cm.doc;\n    e_preventDefault(event);\n\n    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n      if (ourIndex > -1)\n        { ourRange = ranges[ourIndex]; }\n      else\n        { ourRange = new Range(start, start); }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) { ourRange = new Range(start, start); }\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range$$1 = rangeForUnit(cm, start, behavior.unit);\n      if (behavior.extend)\n        { ourRange = extendRange(ourRange, range$$1.anchor, range$$1.head, behavior.extend); }\n      else\n        { ourRange = range$$1; }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex),\n                   {scroll: false, origin: \"*mouse\"});\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                   {scroll: false, origin: \"*mouse\"});\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) { return }\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [], tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n             line <= end; line++) {\n          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n          if (left == right)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n          else if (text.length > leftPos)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n        }\n        if (!ranges.length) { ranges.push(new Range(start, start)); }\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                     {origin: \"*mouse\", scroll: false});\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range$$1 = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor, head;\n        if (cmp(range$$1.anchor, anchor) > 0) {\n          head = range$$1.head;\n          anchor = minPos(oldRange.from(), range$$1.anchor);\n        } else {\n          head = range$$1.anchor;\n          anchor = maxPos(oldRange.to(), range$$1.head);\n        }\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect();\n    // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n      if (!cur) { return }\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n        if (cur.line >= visible.to || cur.line < visible.from)\n          { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n        if (outside) { setTimeout(operation(cm, function () {\n          if (counter != curCount) { return }\n          display.scroller.scrollTop += outside;\n          extend(e);\n        }), 50); }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity;\n      // If e is null or undefined we interpret this as someone trying\n      // to explicitly cancel the selection rather than the user\n      // letting go of the mouse button.\n      if (e) {\n        e_preventDefault(e);\n        display.input.focus();\n      }\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) { done(e); }\n      else { extend(e); }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  }\n\n  // Used when mouse-selecting to adjust the anchor to the proper side\n  // of a bidi jump depending on the visual position of the head.\n  function bidiSimplify(cm, range$$1) {\n    var anchor = range$$1.anchor;\n    var head = range$$1.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range$$1 }\n    var order = getOrder(anchorLine);\n    if (!order) { return range$$1 }\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n    if (part.from != anchor.ch && part.to != anchor.ch) { return range$$1 }\n    var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n    if (boundary == 0 || boundary == order.length) { return range$$1 }\n\n    // Compute the relative visual position of the head compared to the\n    // anchor (<0 is to the left, >0 to the right)\n    var leftSide;\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n      if (headIndex == boundary - 1 || headIndex == boundary)\n        { leftSide = dir < 0; }\n      else\n        { leftSide = dir > 0; }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range$$1 : new Range(new Pos(anchor.line, ch, sticky), head)\n  }\n\n\n  // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try { mX = e.clientX; mY = e.clientY; }\n      catch(e) { return false }\n    }\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n    if (prevent) { e_preventDefault(e); }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n      var g = display.gutters.childNodes[i];\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.display.gutterSpecs[i];\n        signal(cm, type, cm, line, gutter.className, e);\n        return e_defaultPrevented(e)\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true)\n  }\n\n  // CONTEXT MENU HANDLING\n\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n    if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n    if (!captureRightClick) { cm.display.input.onContextMenu(e); }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n    return gutterEvent(cm, e, \"gutterContextMenu\", false)\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n      cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {toString: function(){return \"CodeMirror.Init\"}};\n\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n      if (handle) { optionHandlers[name] =\n        notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n    }\n\n    CodeMirror.defineOption = option;\n\n    // Passed to option handlers when there is no old value.\n    CodeMirror.Init = Init;\n\n    // These two are, on init, called from the constructor because they\n    // have to be initialized before the editor can start at all.\n    option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n      if (!val) { return }\n      var newBreaks = [], lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n          if (found == -1) { break }\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n        lineNo++;\n      });\n      for (var i = newBreaks.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n    });\n    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n      if (old != Init) { cm.refresh(); }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n    option(\"autocorrect\", false, function (cm, val) { return cm.getInputField().autocorrect = val; }, true);\n    option(\"autocapitalize\", false, function (cm, val) { return cm.getInputField().autocapitalize = val; }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      updateGutters(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n      if (prev && prev.detach) { prev.detach(cm, next); }\n      if (next.attach) { next.attach(cm, prev || null); }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm, val) {\n      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n      updateGutters(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm, val) {\n      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n      updateGutters(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, updateGutters, true);\n    option(\"lineNumberFormatter\", function (integer) { return integer; }, updateGutters, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n      cm.display.input.readOnlyChanged(val);\n    });\n    option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) { cm.display.input.resetPosition(); }\n    });\n\n    option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n    option(\"phrases\", null);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () { return updateScrollbars(cm); }, 100);\n  }\n\n  // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n    this.options = options = options ? copyObj(options) : {};\n    // Determine effective options based on given values and defaults.\n    copyObj(defaults, options, false);\n\n    var doc = options.value;\n    if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n    else if (options.mode) { doc.modeOption = options.mode; }\n    this.doc = doc;\n\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input, options);\n    display.wrapper.CodeMirror = this;\n    themeChanged(this);\n    if (options.lineWrapping)\n      { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n    initScrollbars(this);\n\n    this.state = {\n      keyMaps: [],  // stores maps added by addKeyMap\n      overlays: [], // highlighting overlays, as added by addOverlay\n      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: -1, cutIncoming: -1, // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(), // stores highlight worker timeout\n      keySeq: null,  // Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) { display.input.focus(); }\n\n    // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n    if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if ((options.autofocus && !mobile) || this.hasFocus())\n      { setTimeout(bind(onFocus, this), 20); }\n    else\n      { onBlur(this); }\n\n    for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n      { optionHandlers[opt](this$1, options[opt], Init); } }\n    maybeUpdateLineNumberWidth(this);\n    if (options.finishInit) { options.finishInit(this); }\n    for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this$1); }\n    endOperation(this);\n    // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n    if (webkit && options.lineWrapping &&\n        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n      { display.lineDiv.style.textRendering = \"auto\"; }\n  }\n\n  // The default configuration options.\n  CodeMirror.defaults = defaults;\n  // Functions to run when options are changed.\n  CodeMirror.optionHandlers = optionHandlers;\n\n  // Attach the necessary event handlers when initializing the editor\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n    // Older IE's will not fire a second mousedown for a double click\n    if (ie && ie_version < 11)\n      { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) { return }\n        var pos = posFromMouse(cm, e);\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      })); }\n    else\n      { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n    // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n    on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); });\n\n    // Used to suppress mouse event handling when a touch happens\n    var touchFinished, prevTouch = {end: 0};\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date;\n      }\n    }\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) { return false }\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1\n    }\n    function farAway(touch, other) {\n      if (other.left == null) { return true }\n      var dx = other.left - touch.left, dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20\n    }\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date;\n        d.activeTouch = {start: now, moved: false,\n                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) { d.activeTouch.moved = true; }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n      if (touch && !eventInWidget(d, e) && touch.left != null &&\n          !touch.moved && new Date - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          { range = new Range(pos, pos); }\n        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          { range = cm.findWordAt(pos); }\n        else // Triple tap\n          { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch);\n\n    // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    });\n\n    // Listen to wheel events in order to try and update the viewport on time.\n    on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n    on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n    // Prevent wrapper from ever scrolling\n    on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n    d.dragFunctions = {\n      enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n      over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n      start: function (e) { return onDragStart(cm, e); },\n      drop: operation(cm, onDrop),\n      leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n    };\n\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n    on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n  }\n\n  var initHooks = [];\n  CodeMirror.defineInitHook = function (f) { return initHooks.push(f); };\n\n  // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc, state;\n    if (how == null) { how = \"add\"; }\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) { how = \"prev\"; }\n      else { state = getContextBefore(cm, n).state; }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n    if (line.stateAfter) { line.stateAfter = null; }\n    var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) { return }\n        how = \"prev\";\n      }\n    }\n    if (how == \"prev\") {\n      if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n      else { indentation = 0; }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n    indentation = Math.max(0, indentation);\n\n    var indentString = \"\", pos = 0;\n    if (cm.options.indentWithTabs)\n      { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n    if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break\n        }\n      }\n    }\n  }\n\n  // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n    if (!sel) { sel = doc.sel; }\n\n    var recent = +new Date - 200;\n    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n    var textLines = splitLinesAuto(inserted), multiPaste = null;\n    // When pasting N lines into N selections, insert one line per selection\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n          for (var i = 0; i < lastCopied.text.length; i++)\n            { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) { return [l]; });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput;\n    // Normal behavior is to insert the new text into every selection\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range$$1 = sel.ranges[i$1];\n      var from = range$$1.from(), to = range$$1.to();\n      if (range$$1.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          { from = Pos(from.line, from.ch - deleted); }\n        else if (cm.state.overwrite && !paste) // Handle overwrite\n          { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n        else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == inserted)\n          { from = to = Pos(from.line, 0); }\n      }\n      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")};\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n    if (inserted && !paste)\n      { triggerElectric(cm, inserted); }\n\n    ensureCursorVisible(cm);\n    if (cm.curOp.updateInput < 2) { cm.curOp.updateInput = updateInput; }\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n    if (pasted) {\n      e.preventDefault();\n      if (!cm.isReadOnly() && !cm.options.disableInput)\n        { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n      return true\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range$$1 = sel.ranges[i];\n      if (range$$1.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range$$1.head.line)) { continue }\n      var mode = cm.getModeAt(range$$1.head);\n      var indented = false;\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++)\n          { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range$$1.head.line, \"smart\");\n            break\n          } }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range$$1.head.line).text.slice(0, range$$1.head.ch)))\n          { indented = indentLine(cm, range$$1.head.line, \"smart\"); }\n      }\n      if (indented) { signalLater(cm, \"electricInput\", cm, range$$1.head.line); }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [], ranges = [];\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n    return {text: text, ranges: ranges}\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", autocorrect ? \"\" : \"off\");\n    field.setAttribute(\"autocapitalize\", autocapitalize ? \"\" : \"off\");\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n    // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n    if (webkit) { te.style.width = \"1000px\"; }\n    else { te.setAttribute(\"wrap\", \"off\"); }\n    // If border: 0; -- iOS fails to open keyboard (issue #1287)\n    if (ios) { te.style.border = \"1px solid black\"; }\n    disableBrowserMagic(te);\n    return div\n  }\n\n  // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    var helpers = CodeMirror.helpers = {};\n\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function(){window.focus(); this.display.input.focus();},\n\n      setOption: function(option, value) {\n        var options = this.options, old = options[option];\n        if (options[option] == value && option != \"mode\") { return }\n        options[option] = value;\n        if (optionHandlers.hasOwnProperty(option))\n          { operation(this, optionHandlers[option])(this, value, old); }\n        signal(this, \"optionChange\", this, option);\n      },\n\n      getOption: function(option) {return this.options[option]},\n      getDoc: function() {return this.doc},\n\n      addKeyMap: function(map$$1, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map$$1));\n      },\n      removeKeyMap: function(map$$1) {\n        var maps = this.state.keyMaps;\n        for (var i = 0; i < maps.length; ++i)\n          { if (maps[i] == map$$1 || maps[i].name == map$$1) {\n            maps.splice(i, 1);\n            return true\n          } }\n      },\n\n      addOverlay: methodOp(function(spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n        if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n        insertSorted(this.state.overlays,\n                     {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                      priority: (options && options.priority) || 0},\n                     function (overlay) { return overlay.priority; });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function(spec) {\n        var this$1 = this;\n\n        var overlays = this.state.overlays;\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this$1.state.modeGen++;\n            regChange(this$1);\n            return\n          }\n        }\n      }),\n\n      indentLine: methodOp(function(n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n          else { dir = dir ? \"add\" : \"subtract\"; }\n        }\n        if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n      }),\n      indentSelection: methodOp(function(how) {\n        var this$1 = this;\n\n        var ranges = this.doc.sel.ranges, end = -1;\n        for (var i = 0; i < ranges.length; i++) {\n          var range$$1 = ranges[i];\n          if (!range$$1.empty()) {\n            var from = range$$1.from(), to = range$$1.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this$1.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n            for (var j = start; j < end; ++j)\n              { indentLine(this$1, j, how); }\n            var newRanges = this$1.doc.sel.ranges;\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n              { replaceOneSelection(this$1.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n          } else if (range$$1.head.line > end) {\n            indentLine(this$1, range$$1.head.line, how, true);\n            end = range$$1.head.line;\n            if (i == this$1.doc.sel.primIndex) { ensureCursorVisible(this$1); }\n          }\n        }\n      }),\n\n      // Fetch the parser token for a given character. Useful for hacks\n      // that want to inspect the mode state (say, for completion).\n      getTokenAt: function(pos, precise) {\n        return takeToken(this, pos, precise)\n      },\n\n      getLineTokens: function(line, precise) {\n        return takeToken(this, Pos(line), precise, true)\n      },\n\n      getTokenTypeAt: function(pos) {\n        pos = clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n        var type;\n        if (ch == 0) { type = styles[2]; }\n        else { for (;;) {\n          var mid = (before + after) >> 1;\n          if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n          else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n          else { type = styles[mid * 2 + 2]; break }\n        } }\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n      },\n\n      getModeAt: function(pos) {\n        var mode = this.doc.mode;\n        if (!mode.innerMode) { return mode }\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n      },\n\n      getHelper: function(pos, type) {\n        return this.getHelpers(pos, type)[0]\n      },\n\n      getHelpers: function(pos, type) {\n        var this$1 = this;\n\n        var found = [];\n        if (!helpers.hasOwnProperty(type)) { return found }\n        var help = helpers[type], mode = this.getModeAt(pos);\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) { found.push(help[mode[type]]); }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n            if (val) { found.push(val); }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n          if (cur.pred(mode, this$1) && indexOf(found, cur.val) == -1)\n            { found.push(cur.val); }\n        }\n        return found\n      },\n\n      getStateAfter: function(line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n        return getContextBefore(this, line + 1, precise).state\n      },\n\n      cursorCoords: function(start, mode) {\n        var pos, range$$1 = this.doc.sel.primary();\n        if (start == null) { pos = range$$1.head; }\n        else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n        else { pos = start ? range$$1.from() : range$$1.to(); }\n        return cursorCoords(this, pos, mode || \"page\")\n      },\n\n      charCoords: function(pos, mode) {\n        return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n      },\n\n      coordsChar: function(coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return coordsChar(this, coords.left, coords.top)\n      },\n\n      lineAtHeight: function(height, mode) {\n        height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n        return lineAtHeight(this.doc, height + this.display.viewOffset)\n      },\n      heightAtLine: function(line, mode, includeWidgets) {\n        var end = false, lineObj;\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n          if (line < this.doc.first) { line = this.doc.first; }\n          else if (line > last) { line = last; end = true; }\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n        return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n          (end ? this.doc.height - heightAtLine(lineObj) : 0)\n      },\n\n      defaultTextHeight: function() { return textHeight(this.display) },\n      defaultCharWidth: function() { return charWidth(this.display) },\n\n      getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n      addWidget: function(pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = cursorCoords(this, clipPos(this.doc, pos));\n        var top = pos.bottom, left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n          hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n          // Default to positioning above (if specified and possible); otherwise default to positioning below\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n            { top = pos.top - node.offsetHeight; }\n          else if (pos.bottom + node.offsetHeight <= vspace)\n            { top = pos.bottom; }\n          if (left + node.offsetWidth > hspace)\n            { left = hspace - node.offsetWidth; }\n        }\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") { left = 0; }\n          else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2; }\n          node.style.left = left + \"px\";\n        }\n        if (scroll)\n          { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n      },\n\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n\n      execCommand: function(cmd) {\n        if (commands.hasOwnProperty(cmd))\n          { return commands[cmd].call(null, this) }\n      },\n\n      triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n      findPosH: function(from, amount, unit, visually) {\n        var this$1 = this;\n\n        var dir = 1;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          cur = findPosH(this$1.doc, cur, dir, unit, visually);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveH: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        this.extendSelectionsBy(function (range$$1) {\n          if (this$1.display.shift || this$1.doc.extend || range$$1.empty())\n            { return findPosH(this$1.doc, range$$1.head, dir, unit, this$1.options.rtlMoveVisually) }\n          else\n            { return dir < 0 ? range$$1.from() : range$$1.to() }\n        }, sel_move);\n      }),\n\n      deleteH: methodOp(function(dir, unit) {\n        var sel = this.doc.sel, doc = this.doc;\n        if (sel.somethingSelected())\n          { doc.replaceSelection(\"\", null, \"+delete\"); }\n        else\n          { deleteNearSelection(this, function (range$$1) {\n            var other = findPosH(doc, range$$1.head, dir, unit, false);\n            return dir < 0 ? {from: other, to: range$$1.head} : {from: range$$1.head, to: other}\n          }); }\n      }),\n\n      findPosV: function(from, amount, unit, goalColumn) {\n        var this$1 = this;\n\n        var dir = 1, x = goalColumn;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          var coords = cursorCoords(this$1, cur, \"div\");\n          if (x == null) { x = coords.left; }\n          else { coords.left = x; }\n          cur = findPosV(this$1, coords, dir, unit);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveV: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        var doc = this.doc, goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range$$1) {\n          if (collapse)\n            { return dir < 0 ? range$$1.from() : range$$1.to() }\n          var headPos = cursorCoords(this$1, range$$1.head, \"div\");\n          if (range$$1.goalColumn != null) { headPos.left = range$$1.goalColumn; }\n          goals.push(headPos.left);\n          var pos = findPosV(this$1, headPos, dir, unit);\n          if (unit == \"page\" && range$$1 == doc.sel.primary())\n            { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top); }\n          return pos\n        }, sel_move);\n        if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n          { doc.sel.ranges[i].goalColumn = goals[i]; } }\n      }),\n\n      // Find the word at the given position (as returned by coordsChar).\n      findWordAt: function(pos) {\n        var doc = this.doc, line = getLine(doc, pos.line).text;\n        var start = pos.ch, end = pos.ch;\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n          if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper)\n            ? function (ch) { return isWordChar(ch, helper); }\n            : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n            : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); };\n          while (start > 0 && check(line.charAt(start - 1))) { --start; }\n          while (end < line.length && check(line.charAt(end))) { ++end; }\n        }\n        return new Range(Pos(pos.line, start), Pos(pos.line, end))\n      },\n\n      toggleOverwrite: function(value) {\n        if (value != null && value == this.state.overwrite) { return }\n        if (this.state.overwrite = !this.state.overwrite)\n          { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n        else\n          { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function() { return this.display.input.getField() == activeElt() },\n      isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n      scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n      getScrollInfo: function() {\n        var scroller = this.display.scroller;\n        return {left: scroller.scrollLeft, top: scroller.scrollTop,\n                height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n                width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n                clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n      },\n\n      scrollIntoView: methodOp(function(range$$1, margin) {\n        if (range$$1 == null) {\n          range$$1 = {from: this.doc.sel.primary().head, to: null};\n          if (margin == null) { margin = this.options.cursorScrollMargin; }\n        } else if (typeof range$$1 == \"number\") {\n          range$$1 = {from: Pos(range$$1, 0), to: null};\n        } else if (range$$1.from == null) {\n          range$$1 = {from: range$$1, to: null};\n        }\n        if (!range$$1.to) { range$$1.to = range$$1.from; }\n        range$$1.margin = margin || 0;\n\n        if (range$$1.from.line != null) {\n          scrollToRange(this, range$$1);\n        } else {\n          scrollToCoordsRange(this, range$$1.from, range$$1.to, range$$1.margin);\n        }\n      }),\n\n      setSize: methodOp(function(width, height) {\n        var this$1 = this;\n\n        var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; };\n        if (width != null) { this.display.wrapper.style.width = interpret(width); }\n        if (height != null) { this.display.wrapper.style.height = interpret(height); }\n        if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n        var lineNo$$1 = this.display.viewFrom;\n        this.doc.iter(lineNo$$1, this.display.viewTo, function (line) {\n          if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n            { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo$$1, \"widget\"); break } } }\n          ++lineNo$$1;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n\n      operation: function(f){return runInOp(this, f)},\n      startOperation: function(){return startOperation(this)},\n      endOperation: function(){return endOperation(this)},\n\n      refresh: methodOp(function() {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this.display);\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5)\n          { estimateLineHeights(this); }\n        signal(this, \"refresh\", this);\n      }),\n\n      swapDoc: methodOp(function(doc) {\n        var old = this.doc;\n        old.cm = null;\n        // Cancel the current text selection if any (#5821)\n        if (this.state.selectingText) { this.state.selectingText(); }\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old\n      }),\n\n      phrase: function(phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText\n      },\n\n      getInputField: function(){return this.display.input.getField()},\n      getWrapperElement: function(){return this.display.wrapper},\n      getScrollerElement: function(){return this.display.scroller},\n      getGutterElement: function(){return this.display.gutters}\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function(type, name, value) {\n      if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n      helpers[type][name] = value;\n    };\n    CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n      helpers[type]._global.push({pred: predicate, val: value});\n    };\n  }\n\n  // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"char\", \"column\" (like char, but doesn't\n  // cross line boundaries), \"word\" (across next word), or \"group\" (to\n  // the start of next group of word or non-word-non-whitespace\n  // chars). The visually param controls whether, in right-to-left\n  // text, direction 1 means to move towards the next index in the\n  // string, or towards the character to the right of the current\n  // position. The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    function findNextLine() {\n      var l = pos.line + dir;\n      if (l < doc.first || l >= doc.first + doc.size) { return false }\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l)\n    }\n    function moveOnce(boundToLine) {\n      var next;\n      if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n      if (next == null) {\n        if (!boundToLine && findNextLine())\n          { pos = endOfLine(visually, doc.cm, lineObj, pos.line, dir); }\n        else\n          { return false }\n      } else {\n        pos = next;\n      }\n      return true\n    }\n\n    if (unit == \"char\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null, group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) { break }\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\"\n          : group && cur == \"\\n\" ? \"n\"\n          : !group || /\\s/.test(cur) ? null\n          : \"p\";\n        if (group && !first && !type) { type = \"s\"; }\n        if (sawType && sawType != type) {\n          if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n          break\n        }\n\n        if (type) { sawType = type; }\n        if (dir > 0 && !moveOnce(!first)) { break }\n      }\n    }\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n    if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n    return result\n  }\n\n  // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc, x = pos.left, y;\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n    var target;\n    for (;;) {\n      target = coordsChar(cm, x, y);\n      if (!target.outside) { break }\n      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n      y += dir * 5;\n    }\n    return target\n  }\n\n  // CONTENTEDITABLE INPUT STYLE\n\n  var ContentEditableInput = function(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = input.cm;\n    var div = input.div = display.lineDiv;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n\n    on(div, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n      // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n      if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }\n    });\n\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {data: e.data, done: false};\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }\n        this$1.composing.done = true;\n      }\n    });\n\n    on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n    on(div, \"input\", function () {\n      if (!this$1.composing) { this$1.readFromDOMSoon(); }\n    });\n\n    function onCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n        if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\");\n        // iOS exposes the clipboard API, but seems to discard content inserted into it\n        e.clipboardData.setData(\"Text\", content);\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return\n        }\n      }\n      // Old-fashioned briefly-focus-a-textarea hack\n      var kludge = hiddenTextarea(), te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = document.activeElement;\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n        if (hadFocus == div) { input.showPrimarySelection(); }\n      }, 50);\n    }\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = this.cm.state.focused;\n    return result\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) { return }\n    if (info.focus || takeFocus) { this.showPrimarySelection(); }\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection()\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n    var from = prim.from(), to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n        cmp(minPos(curAnchor, curFocus), from) == 0 &&\n        cmp(maxPos(curAnchor, curFocus), to) == 0)\n      { return }\n\n    var view = cm.display.view;\n    var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n        {node: view[0].measure.map[2], offset: 0};\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map$$1 = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {node: map$$1[map$$1.length - 1], offset: map$$1[map$$1.length - 2] - map$$1[map$$1.length - 3]};\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0), rng;\n    try { rng = range(start.node, start.offset, end.offset, end.node); }\n    catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n      if (old && sel.anchorNode == null) { sel.addRange(old); }\n      else if (gecko) { this.startGracePeriod(); }\n    }\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n      var this$1 = this;\n\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n      if (this$1.selectionChanged())\n        { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n    if (!sel.rangeCount) { return false }\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node)\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor())\n        { this.showSelection(this.prepareSelection(), true); }\n      this.div.focus();\n    }\n  };\n  ContentEditableInput.prototype.blur = function () { this.div.blur(); };\n  ContentEditableInput.prototype.getField = function () { return this.div };\n\n  ContentEditableInput.prototype.supportsTouch = function () { return true };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n    var input = this;\n    if (this.selectionInEditor())\n      { this.pollSelection(); }\n    else\n      { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n      sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n    var sel = this.getSelection(), cm = this.cm;\n    // On Android Chrome (version 56, at least), backspacing into an\n    // uneditable block element will put the cursor in that element,\n    // and then, because it's not editable, hide the virtual keyboard.\n    // Because Android doesn't allow us to actually detect backspace\n    // presses in a sane way, this code checks for when that happens\n    // and simulates a backspace press in this case.\n    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n      this.blur();\n      this.focus();\n      return\n    }\n    if (this.composing) { return }\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (anchor && head) { runInOp(cm, function () {\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n    }); }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n    var from = sel.from(), to = sel.to();\n    if (from.ch == 0 && from.line > cm.firstLine())\n      { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n      { to = Pos(to.line + 1, 0); }\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n    var fromIndex, fromLine, fromNode;\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) { return false }\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n      else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n      else { break }\n    }\n\n    var cutFront = 0, cutEnd = 0;\n    var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n      { ++cutFront; }\n    var newBot = lst(newText), oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                             oldBot.length - (oldText.length == 1 ? cutFront : 0));\n    while (cutEnd < maxCutEnd &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n      { ++cutEnd; }\n    // Try to move start of change to start of selection if ambiguous\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch &&\n             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n      return true\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) { return }\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n      var this$1 = this;\n\n    if (this.readDOMTimeout != null) { return }\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n      if (this$1.composing) {\n        if (this$1.composing.done) { this$1.composing = null; }\n        else { return }\n      }\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n      var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent())\n      { runInOp(this.cm, function () { return regChange(this$1.cm); }); }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) { return }\n    e.preventDefault();\n    if (!this.cm.isReadOnly())\n      { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n    if (!view || view.hidden) { return null }\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n\n    var order = getOrder(line, cm.doc.direction), side = \"left\";\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode)\n      { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }\n    return false\n  }\n\n  function badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;\n    function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n    function close() {\n      if (closing) {\n        text += lineSep;\n        if (extraLinebreak) { text += lineSep; }\n        closing = extraLinebreak = false;\n      }\n    }\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n        if (cmText) {\n          addText(cmText);\n          return\n        }\n        var markerID = node.getAttribute(\"cm-marker\"), range$$1;\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n          if (found.length && (range$$1 = found[0].find(0)))\n            { addText(getBetween(cm.doc, range$$1.from, range$$1.to).join(lineSep)); }\n          return\n        }\n        if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) { return }\n\n        if (isBlock) { close(); }\n        for (var i = 0; i < node.childNodes.length; i++)\n          { walk(node.childNodes[i]); }\n\n        if (/^(pre|p)$/i.test(node.nodeName)) { extraLinebreak = true; }\n        if (isBlock) { closing = true; }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n      }\n    }\n    for (;;) {\n      walk(from);\n      if (from == to) { break }\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n    return text\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n      if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n      node = null; offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n      }\n    }\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n      if (lineView.node == lineNode)\n        { return locateNodeInLineView(lineView, node, offset) }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild, bad = false;\n    if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad)\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n      if (offset) { offset = textNode.nodeValue.length; }\n    }\n    while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n    var measure = lineView.measure, maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map$$1 = i < 0 ? measure.map : maps[i];\n        for (var j = 0; j < map$$1.length; j += 3) {\n          var curNode = map$$1[j + 2];\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map$$1[j] + offset;\n            if (offset < 0 || curNode != textNode) { ch = map$$1[j + (offset ? 1 : 0)]; }\n            return Pos(line, ch)\n          }\n        }\n      }\n    }\n    var found = find(textNode, topNode, offset);\n    if (found) { return badPos(found, bad) }\n\n    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n      if (found)\n        { return badPos(Pos(found.line, found.ch - dist), bad) }\n      else\n        { dist += after.textContent.length; }\n    }\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n      if (found)\n        { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n      else\n        { dist$1 += before.textContent.length; }\n    }\n  }\n\n  // TEXTAREA INPUT STYLE\n\n  var TextareaInput = function(cm) {\n    this.cm = cm;\n    // See input.poll and input.reset\n    this.prevInput = \"\";\n\n    // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n    this.pollingFast = false;\n    // Self-resetting timeout for the poller\n    this.polling = new Delayed();\n    // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);\n\n    // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n    if (ios) { te.style.width = \"0px\"; }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }\n      input.poll();\n    });\n\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n      cm.state.pasteIncoming = +new Date;\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n      if (e.type == \"cut\") { cm.state.cutIncoming = +new Date; }\n    }\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n      if (!te.dispatchEvent) {\n        cm.state.pasteIncoming = +new Date;\n        input.focus();\n        return\n      }\n\n      // Pass the `paste` event to the textarea so it's handled by its event listener.\n      var event = new Event(\"paste\");\n      event.clipboardData = e.clipboardData;\n      te.dispatchEvent(event);\n    });\n\n    // Prevent normal selection in the editor (we handle our own)\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) { e_preventDefault(e); }\n    });\n\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n      if (input.composing) { input.composing.range.clear(); }\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    // Wraps and hides input textarea\n    this.wrapper = hiddenTextarea();\n    // The semihidden textarea that is focused when the editor is\n    // focused, and receives input.\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    // Redraw the selection and/or cursor\n    var cm = this.cm, display = cm.display, doc = cm.doc;\n    var result = prepareSelection(cm);\n\n    // Move the hidden textarea near the cursor to prevent scrolling artifacts\n    if (cm.options.moveInputWithCursor) {\n      var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                          headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                           headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm, display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  };\n\n  // Reset the input to correspond to the selection (or to be empty,\n  // when not typing and nothing is selected)\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) { return }\n    var cm = this.cm;\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n      if (cm.state.focused) { selectInput(this.textarea); }\n      if (ie && ie_version >= 9) { this.hasSelection = content; }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n      if (ie && ie_version >= 9) { this.hasSelection = null; }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () { return this.textarea };\n\n  TextareaInput.prototype.supportsTouch = function () { return false };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try { this.textarea.focus(); }\n      catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n    }\n  };\n\n  TextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\n  // Poll for input changes, using the normal rate of polling. This\n  // runs as long as the editor is focused.\n  TextareaInput.prototype.slowPoll = function () {\n      var this$1 = this;\n\n    if (this.pollingFast) { return }\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n      if (this$1.cm.state.focused) { this$1.slowPoll(); }\n    });\n  };\n\n  // When an event has just come in that is likely to add or change\n  // something in the input textarea, we poll faster, to ensure that\n  // the change appears on the screen quickly.\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false, input = this;\n    input.pollingFast = true;\n    function p() {\n      var changed = input.poll();\n      if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n      else {input.pollingFast = false; input.slowPoll();}\n    }\n    input.polling.set(20, p);\n  };\n\n  // Read input from the textarea, and update the document to match.\n  // When something is selected, it is present in the textarea, and\n  // selected (unless it is huge, in which case a placeholder is\n  // used). When nothing is selected, the cursor sits after previously\n  // seen text (can be empty), which is stored in prevInput (we must\n  // not reset the textarea when typing, because that breaks IME).\n  TextareaInput.prototype.poll = function () {\n      var this$1 = this;\n\n    var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n    // Since this is called a *lot*, try to bail out as cheaply as\n    // possible when it is clear that nothing happened. hasSelection\n    // will be the case when there is a lot of text in the textarea,\n    // in which case reading its value would be expensive.\n    if (this.contextMenuPending || !cm.state.focused ||\n        (hasSelection(input) && !prevInput && !this.composing) ||\n        cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n      { return false }\n\n    var text = input.value;\n    // If nothing changed, bail.\n    if (text == prevInput && !cm.somethingSelected()) { return false }\n    // Work around nonsensical selection resetting in IE9/10, and\n    // inexplicable appearance of private area unicode characters on\n    // some key combos in Mac (#2689).\n    if (ie && ie_version >= 9 && this.hasSelection === text ||\n        mac && /[\\uf700-\\uf7ff]/.test(text)) {\n      cm.display.input.reset();\n      return false\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n      if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n      if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n    }\n    // Find the part of the input that is actually new\n    var same = 0, l = Math.min(prevInput.length, text.length);\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same,\n                     null, this$1.composing ? \"*compose\" : null);\n\n      // Don't leave long text in the textarea, since it makes further polling slow\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\"; }\n      else { this$1.prevInput = text; }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                           {className: \"CodeMirror-composing\"});\n      }\n    });\n    return true\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) { this.hasSelection = null; }\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n    if (input.contextMenuPending) { input.contextMenuPending(); }\n    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n    if (!pos || presto) { return } // Opera is difficult.\n\n    // Reset the current text selection only if the click is done outside of the selection\n    // and 'resetSelectionOnContextMenu' option is true.\n    var reset = cm.options.resetSelectionOnContextMenu;\n    if (reset && cm.doc.sel.contains(pos) == -1)\n      { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n    var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n    if (webkit) { oldScrollY = window.scrollY; } // Work around Chrome issue (#2712)\n    display.input.focus();\n    if (webkit) { window.scrollTo(null, oldScrollY); }\n    display.input.reset();\n    // Adds \"Select all\" to context menu in FF\n    if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll);\n\n    // Select-all will be greyed out if there's nothing to select, so\n    // this adds a zero-width space so that we can later check whether\n    // it got selected.\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200b\" + (selected ? te.value : \"\");\n        te.value = \"\\u21da\"; // Used to catch context-menu undo\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200b\";\n        te.selectionStart = 1; te.selectionEnd = extval.length;\n        // Re-set this, in case some other handler touched the\n        // selection in the meantime.\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n    function rehide() {\n      if (input.contextMenuPending != rehide) { return }\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n      if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n      // Try to detect the user choosing select-all\n      if (te.selectionStart != null) {\n        if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n        var i = 0, poll = function () {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n              te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n    if (captureRightClick) {\n      e_stop(e);\n      var mouseup = function () {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) { this.reset(); }\n    this.textarea.disabled = val == \"nocursor\";\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n    if (!options.tabindex && textarea.tabIndex)\n      { options.tabindex = textarea.tabIndex; }\n    if (!options.placeholder && textarea.placeholder)\n      { options.placeholder = textarea.placeholder; }\n    // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea ||\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {textarea.value = cm.getValue();}\n\n    var realSubmit;\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save);\n      // Deplorable hack to make the submit method do the right thing.\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch(e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n      cm.getTextArea = function () { return textarea; };\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == \"function\")\n            { textarea.form.submit = realSubmit; }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n      options);\n    return cm\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  }\n\n  // EDITOR CONSTRUCTOR\n\n  defineOptions(CodeMirror);\n\n  addEditorMethods(CodeMirror);\n\n  // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n  for (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n    { CodeMirror.prototype[prop] = (function(method) {\n      return function() {return method.apply(this.doc, arguments)}\n    })(Doc.prototype[prop]); } }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  CodeMirror.defineMode = function(name/*, mode, …*/) {\n    if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name; }\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME;\n\n  // Minimal default mode.\n  CodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\n  CodeMirror.defineMIME(\"text/plain\", \"null\");\n\n  // EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n\n  addLegacyProps(CodeMirror);\n\n  CodeMirror.version = \"5.49.0\";\n\n  return CodeMirror;\n\n})));\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"))\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod)\n  else // Plain browser env\n    mod(CodeMirror)\n})(function(CodeMirror) {\n  \"use strict\"\n  var Pos = CodeMirror.Pos\n\n  function regexpFlags(regexp) {\n    var flags = regexp.flags\n    return flags != null ? flags : (regexp.ignoreCase ? \"i\" : \"\")\n      + (regexp.global ? \"g\" : \"\")\n      + (regexp.multiline ? \"m\" : \"\")\n  }\n\n  function ensureFlags(regexp, flags) {\n    var current = regexpFlags(regexp), target = current\n    for (var i = 0; i < flags.length; i++) if (target.indexOf(flags.charAt(i)) == -1)\n      target += flags.charAt(i)\n    return current == target ? regexp : new RegExp(regexp.source, target)\n  }\n\n  function maybeMultiline(regexp) {\n    return /\\\\s|\\\\n|\\n|\\\\W|\\\\D|\\[\\^/.test(regexp.source)\n  }\n\n  function searchRegexpForward(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"g\")\n    for (var line = start.line, ch = start.ch, last = doc.lastLine(); line <= last; line++, ch = 0) {\n      regexp.lastIndex = ch\n      var string = doc.getLine(line), match = regexp.exec(string)\n      if (match)\n        return {from: Pos(line, match.index),\n                to: Pos(line, match.index + match[0].length),\n                match: match}\n    }\n  }\n\n  function searchRegexpForwardMultiline(doc, regexp, start) {\n    if (!maybeMultiline(regexp)) return searchRegexpForward(doc, regexp, start)\n\n    regexp = ensureFlags(regexp, \"gm\")\n    var string, chunk = 1\n    for (var line = start.line, last = doc.lastLine(); line <= last;) {\n      // This grows the search buffer in exponentially-sized chunks\n      // between matches, so that nearby matches are fast and don't\n      // require concatenating the whole document (in case we're\n      // searching for something that has tons of matches), but at the\n      // same time, the amount of retries is limited.\n      for (var i = 0; i < chunk; i++) {\n        if (line > last) break\n        var curLine = doc.getLine(line++)\n        string = string == null ? curLine : string + \"\\n\" + curLine\n      }\n      chunk = chunk * 2\n      regexp.lastIndex = start.ch\n      var match = regexp.exec(string)\n      if (match) {\n        var before = string.slice(0, match.index).split(\"\\n\"), inside = match[0].split(\"\\n\")\n        var startLine = start.line + before.length - 1, startCh = before[before.length - 1].length\n        return {from: Pos(startLine, startCh),\n                to: Pos(startLine + inside.length - 1,\n                        inside.length == 1 ? startCh + inside[0].length : inside[inside.length - 1].length),\n                match: match}\n      }\n    }\n  }\n\n  function lastMatchIn(string, regexp) {\n    var cutOff = 0, match\n    for (;;) {\n      regexp.lastIndex = cutOff\n      var newMatch = regexp.exec(string)\n      if (!newMatch) return match\n      match = newMatch\n      cutOff = match.index + (match[0].length || 1)\n      if (cutOff == string.length) return match\n    }\n  }\n\n  function searchRegexpBackward(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"g\")\n    for (var line = start.line, ch = start.ch, first = doc.firstLine(); line >= first; line--, ch = -1) {\n      var string = doc.getLine(line)\n      if (ch > -1) string = string.slice(0, ch)\n      var match = lastMatchIn(string, regexp)\n      if (match)\n        return {from: Pos(line, match.index),\n                to: Pos(line, match.index + match[0].length),\n                match: match}\n    }\n  }\n\n  function searchRegexpBackwardMultiline(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"gm\")\n    var string, chunk = 1\n    for (var line = start.line, first = doc.firstLine(); line >= first;) {\n      for (var i = 0; i < chunk; i++) {\n        var curLine = doc.getLine(line--)\n        string = string == null ? curLine.slice(0, start.ch) : curLine + \"\\n\" + string\n      }\n      chunk *= 2\n\n      var match = lastMatchIn(string, regexp)\n      if (match) {\n        var before = string.slice(0, match.index).split(\"\\n\"), inside = match[0].split(\"\\n\")\n        var startLine = line + before.length, startCh = before[before.length - 1].length\n        return {from: Pos(startLine, startCh),\n                to: Pos(startLine + inside.length - 1,\n                        inside.length == 1 ? startCh + inside[0].length : inside[inside.length - 1].length),\n                match: match}\n      }\n    }\n  }\n\n  var doFold, noFold\n  if (String.prototype.normalize) {\n    doFold = function(str) { return str.normalize(\"NFD\").toLowerCase() }\n    noFold = function(str) { return str.normalize(\"NFD\") }\n  } else {\n    doFold = function(str) { return str.toLowerCase() }\n    noFold = function(str) { return str }\n  }\n\n  // Maps a position in a case-folded line back to a position in the original line\n  // (compensating for codepoints increasing in number during folding)\n  function adjustPos(orig, folded, pos, foldFunc) {\n    if (orig.length == folded.length) return pos\n    for (var min = 0, max = pos + Math.max(0, orig.length - folded.length);;) {\n      if (min == max) return min\n      var mid = (min + max) >> 1\n      var len = foldFunc(orig.slice(0, mid)).length\n      if (len == pos) return mid\n      else if (len > pos) max = mid\n      else min = mid + 1\n    }\n  }\n\n  function searchStringForward(doc, query, start, caseFold) {\n    // Empty string would match anything and never progress, so we\n    // define it to match nothing instead.\n    if (!query.length) return null\n    var fold = caseFold ? doFold : noFold\n    var lines = fold(query).split(/\\r|\\n\\r?/)\n\n    search: for (var line = start.line, ch = start.ch, last = doc.lastLine() + 1 - lines.length; line <= last; line++, ch = 0) {\n      var orig = doc.getLine(line).slice(ch), string = fold(orig)\n      if (lines.length == 1) {\n        var found = string.indexOf(lines[0])\n        if (found == -1) continue search\n        var start = adjustPos(orig, string, found, fold) + ch\n        return {from: Pos(line, adjustPos(orig, string, found, fold) + ch),\n                to: Pos(line, adjustPos(orig, string, found + lines[0].length, fold) + ch)}\n      } else {\n        var cutFrom = string.length - lines[0].length\n        if (string.slice(cutFrom) != lines[0]) continue search\n        for (var i = 1; i < lines.length - 1; i++)\n          if (fold(doc.getLine(line + i)) != lines[i]) continue search\n        var end = doc.getLine(line + lines.length - 1), endString = fold(end), lastLine = lines[lines.length - 1]\n        if (endString.slice(0, lastLine.length) != lastLine) continue search\n        return {from: Pos(line, adjustPos(orig, string, cutFrom, fold) + ch),\n                to: Pos(line + lines.length - 1, adjustPos(end, endString, lastLine.length, fold))}\n      }\n    }\n  }\n\n  function searchStringBackward(doc, query, start, caseFold) {\n    if (!query.length) return null\n    var fold = caseFold ? doFold : noFold\n    var lines = fold(query).split(/\\r|\\n\\r?/)\n\n    search: for (var line = start.line, ch = start.ch, first = doc.firstLine() - 1 + lines.length; line >= first; line--, ch = -1) {\n      var orig = doc.getLine(line)\n      if (ch > -1) orig = orig.slice(0, ch)\n      var string = fold(orig)\n      if (lines.length == 1) {\n        var found = string.lastIndexOf(lines[0])\n        if (found == -1) continue search\n        return {from: Pos(line, adjustPos(orig, string, found, fold)),\n                to: Pos(line, adjustPos(orig, string, found + lines[0].length, fold))}\n      } else {\n        var lastLine = lines[lines.length - 1]\n        if (string.slice(0, lastLine.length) != lastLine) continue search\n        for (var i = 1, start = line - lines.length + 1; i < lines.length - 1; i++)\n          if (fold(doc.getLine(start + i)) != lines[i]) continue search\n        var top = doc.getLine(line + 1 - lines.length), topString = fold(top)\n        if (topString.slice(topString.length - lines[0].length) != lines[0]) continue search\n        return {from: Pos(line + 1 - lines.length, adjustPos(top, topString, top.length - lines[0].length, fold)),\n                to: Pos(line, adjustPos(orig, string, lastLine.length, fold))}\n      }\n    }\n  }\n\n  function SearchCursor(doc, query, pos, options) {\n    this.atOccurrence = false\n    this.doc = doc\n    pos = pos ? doc.clipPos(pos) : Pos(0, 0)\n    this.pos = {from: pos, to: pos}\n\n    var caseFold\n    if (typeof options == \"object\") {\n      caseFold = options.caseFold\n    } else { // Backwards compat for when caseFold was the 4th argument\n      caseFold = options\n      options = null\n    }\n\n    if (typeof query == \"string\") {\n      if (caseFold == null) caseFold = false\n      this.matches = function(reverse, pos) {\n        return (reverse ? searchStringBackward : searchStringForward)(doc, query, pos, caseFold)\n      }\n    } else {\n      query = ensureFlags(query, \"gm\")\n      if (!options || options.multiline !== false)\n        this.matches = function(reverse, pos) {\n          return (reverse ? searchRegexpBackwardMultiline : searchRegexpForwardMultiline)(doc, query, pos)\n        }\n      else\n        this.matches = function(reverse, pos) {\n          return (reverse ? searchRegexpBackward : searchRegexpForward)(doc, query, pos)\n        }\n    }\n  }\n\n  SearchCursor.prototype = {\n    findNext: function() {return this.find(false)},\n    findPrevious: function() {return this.find(true)},\n\n    find: function(reverse) {\n      var result = this.matches(reverse, this.doc.clipPos(reverse ? this.pos.from : this.pos.to))\n\n      // Implements weird auto-growing behavior on null-matches for\n      // backwards-compatiblity with the vim code (unfortunately)\n      while (result && CodeMirror.cmpPos(result.from, result.to) == 0) {\n        if (reverse) {\n          if (result.from.ch) result.from = Pos(result.from.line, result.from.ch - 1)\n          else if (result.from.line == this.doc.firstLine()) result = null\n          else result = this.matches(reverse, this.doc.clipPos(Pos(result.from.line - 1)))\n        } else {\n          if (result.to.ch < this.doc.getLine(result.to.line).length) result.to = Pos(result.to.line, result.to.ch + 1)\n          else if (result.to.line == this.doc.lastLine()) result = null\n          else result = this.matches(reverse, Pos(result.to.line + 1, 0))\n        }\n      }\n\n      if (result) {\n        this.pos = result\n        this.atOccurrence = true\n        return this.pos.match || true\n      } else {\n        var end = Pos(reverse ? this.doc.firstLine() : this.doc.lastLine() + 1, 0)\n        this.pos = {from: end, to: end}\n        return this.atOccurrence = false\n      }\n    },\n\n    from: function() {if (this.atOccurrence) return this.pos.from},\n    to: function() {if (this.atOccurrence) return this.pos.to},\n\n    replace: function(newText, origin) {\n      if (!this.atOccurrence) return\n      var lines = CodeMirror.splitLines(newText)\n      this.doc.replaceRange(lines, this.pos.from, this.pos.to, origin)\n      this.pos.to = Pos(this.pos.from.line + lines.length - 1,\n                        lines[lines.length - 1].length + (lines.length == 1 ? this.pos.from.ch : 0))\n    }\n  }\n\n  CodeMirror.defineExtension(\"getSearchCursor\", function(query, pos, caseFold) {\n    return new SearchCursor(this.doc, query, pos, caseFold)\n  })\n  CodeMirror.defineDocExtension(\"getSearchCursor\", function(query, pos, caseFold) {\n    return new SearchCursor(this, query, pos, caseFold)\n  })\n\n  CodeMirror.defineExtension(\"selectMatches\", function(query, caseFold) {\n    var ranges = []\n    var cur = this.getSearchCursor(query, this.getCursor(\"from\"), caseFold)\n    while (cur.findNext()) {\n      if (CodeMirror.cmpPos(cur.to(), this.getCursor(\"to\")) > 0) break\n      ranges.push({anchor: cur.from(), head: cur.to()})\n    }\n    if (ranges.length)\n      this.setSelections(ranges, 0)\n  })\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var ie_lt8 = /MSIE \\d/.test(navigator.userAgent) &&\n    (document.documentMode == null || document.documentMode < 8);\n\n  var Pos = CodeMirror.Pos;\n\n  var matching = {\"(\": \")>\", \")\": \"(<\", \"[\": \"]>\", \"]\": \"[<\", \"{\": \"}>\", \"}\": \"{<\", \"<\": \">>\", \">\": \"<<\"};\n\n  function bracketRegex(config) {\n    return config && config.bracketRegex || /[(){}[\\]]/\n  }\n\n  function findMatchingBracket(cm, where, config) {\n    var line = cm.getLineHandle(where.line), pos = where.ch - 1;\n    var afterCursor = config && config.afterCursor\n    if (afterCursor == null)\n      afterCursor = /(^| )cm-fat-cursor($| )/.test(cm.getWrapperElement().className)\n    var re = bracketRegex(config)\n\n    // A cursor is defined as between two characters, but in in vim command mode\n    // (i.e. not insert mode), the cursor is visually represented as a\n    // highlighted box on top of the 2nd character. Otherwise, we allow matches\n    // from before or after the cursor.\n    var match = (!afterCursor && pos >= 0 && re.test(line.text.charAt(pos)) && matching[line.text.charAt(pos)]) ||\n        re.test(line.text.charAt(pos + 1)) && matching[line.text.charAt(++pos)];\n    if (!match) return null;\n    var dir = match.charAt(1) == \">\" ? 1 : -1;\n    if (config && config.strict && (dir > 0) != (pos == where.ch)) return null;\n    var style = cm.getTokenTypeAt(Pos(where.line, pos + 1));\n\n    var found = scanForBracket(cm, Pos(where.line, pos + (dir > 0 ? 1 : 0)), dir, style || null, config);\n    if (found == null) return null;\n    return {from: Pos(where.line, pos), to: found && found.pos,\n            match: found && found.ch == match.charAt(0), forward: dir > 0};\n  }\n\n  // bracketRegex is used to specify which type of bracket to scan\n  // should be a regexp, e.g. /[[\\]]/\n  //\n  // Note: If \"where\" is on an open bracket, then this bracket is ignored.\n  //\n  // Returns false when no bracket was found, null when it reached\n  // maxScanLines and gave up\n  function scanForBracket(cm, where, dir, style, config) {\n    var maxScanLen = (config && config.maxScanLineLength) || 10000;\n    var maxScanLines = (config && config.maxScanLines) || 1000;\n\n    var stack = [];\n    var re = bracketRegex(config)\n    var lineEnd = dir > 0 ? Math.min(where.line + maxScanLines, cm.lastLine() + 1)\n                          : Math.max(cm.firstLine() - 1, where.line - maxScanLines);\n    for (var lineNo = where.line; lineNo != lineEnd; lineNo += dir) {\n      var line = cm.getLine(lineNo);\n      if (!line) continue;\n      var pos = dir > 0 ? 0 : line.length - 1, end = dir > 0 ? line.length : -1;\n      if (line.length > maxScanLen) continue;\n      if (lineNo == where.line) pos = where.ch - (dir < 0 ? 1 : 0);\n      for (; pos != end; pos += dir) {\n        var ch = line.charAt(pos);\n        if (re.test(ch) && (style === undefined || cm.getTokenTypeAt(Pos(lineNo, pos + 1)) == style)) {\n          var match = matching[ch];\n          if (match && (match.charAt(1) == \">\") == (dir > 0)) stack.push(ch);\n          else if (!stack.length) return {pos: Pos(lineNo, pos), ch: ch};\n          else stack.pop();\n        }\n      }\n    }\n    return lineNo - dir == (dir > 0 ? cm.lastLine() : cm.firstLine()) ? false : null;\n  }\n\n  function matchBrackets(cm, autoclear, config) {\n    // Disable brace matching in long lines, since it'll cause hugely slow updates\n    var maxHighlightLen = cm.state.matchBrackets.maxHighlightLineLength || 1000;\n    var marks = [], ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      var match = ranges[i].empty() && findMatchingBracket(cm, ranges[i].head, config);\n      if (match && cm.getLine(match.from.line).length <= maxHighlightLen) {\n        var style = match.match ? \"CodeMirror-matchingbracket\" : \"CodeMirror-nonmatchingbracket\";\n        marks.push(cm.markText(match.from, Pos(match.from.line, match.from.ch + 1), {className: style}));\n        if (match.to && cm.getLine(match.to.line).length <= maxHighlightLen)\n          marks.push(cm.markText(match.to, Pos(match.to.line, match.to.ch + 1), {className: style}));\n      }\n    }\n\n    if (marks.length) {\n      // Kludge to work around the IE bug from issue #1193, where text\n      // input stops going to the textare whever this fires.\n      if (ie_lt8 && cm.state.focused) cm.focus();\n\n      var clear = function() {\n        cm.operation(function() {\n          for (var i = 0; i < marks.length; i++) marks[i].clear();\n        });\n      };\n      if (autoclear) setTimeout(clear, 800);\n      else return clear;\n    }\n  }\n\n  function doMatchBrackets(cm) {\n    cm.operation(function() {\n      if (cm.state.matchBrackets.currentlyHighlighted) {\n        cm.state.matchBrackets.currentlyHighlighted();\n        cm.state.matchBrackets.currentlyHighlighted = null;\n      }\n      cm.state.matchBrackets.currentlyHighlighted = matchBrackets(cm, false, cm.state.matchBrackets);\n    });\n  }\n\n  CodeMirror.defineOption(\"matchBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.off(\"cursorActivity\", doMatchBrackets);\n      if (cm.state.matchBrackets && cm.state.matchBrackets.currentlyHighlighted) {\n        cm.state.matchBrackets.currentlyHighlighted();\n        cm.state.matchBrackets.currentlyHighlighted = null;\n      }\n    }\n    if (val) {\n      cm.state.matchBrackets = typeof val == \"object\" ? val : {};\n      cm.on(\"cursorActivity\", doMatchBrackets);\n    }\n  });\n\n  CodeMirror.defineExtension(\"matchBrackets\", function() {matchBrackets(this, true);});\n  CodeMirror.defineExtension(\"findMatchingBracket\", function(pos, config, oldConfig){\n    // Backwards-compatibility kludge\n    if (oldConfig || typeof config == \"boolean\") {\n      if (!oldConfig) {\n        config = config ? {strict: true} : null\n      } else {\n        oldConfig.strict = config\n        config = oldConfig\n      }\n    }\n    return findMatchingBracket(this, pos, config)\n  });\n  CodeMirror.defineExtension(\"scanForBracket\", function(pos, dir, style, config){\n    return scanForBracket(this, pos, dir, style, config);\n  });\n});\n","/* CodeMirror - Minified & Bundled\n   Generated on 6/8/2015 with http://codemirror.net/doc/compress.html\n   Version: HEAD\n\n   CodeMirror Library:\n   - codemirror.js\n   Add-ons:\n   - matchbrackets.js\n   Keymaps:\n   - sublime.js\n */\n! function(a) {\n    if (\"object\" == typeof exports && \"object\" == typeof module) module.exports = a();\n    else {\n        if (\"function\" == typeof define && define.amd) return define([], a);\n        this.CodeMirror = a()\n    }\n}(function() {\n    \"use strict\";\n\n    function v(a, b) {\n        if (!(this instanceof v)) return new v(a, b);\n        this.options = b = b ? eh(b) : {}, eh(xe, b, !1), I(b);\n        var c = b.value;\n        \"string\" == typeof c && (c = new $f(c, b.mode)), this.doc = c;\n        var g = new v.inputStyles[b.inputStyle](this),\n            h = this.display = new w(a, c, g);\n        h.wrapper.CodeMirror = this, E(this), C(this), b.lineWrapping && (this.display.wrapper.className += \" CodeMirror-wrap\"), b.autofocus && !n && h.input.focus(), M(this), this.state = {\n            keyMaps: [],\n            overlays: [],\n            modeGen: 0,\n            overwrite: !1,\n            delayingBlurEvent: !1,\n            focused: !1,\n            suppressEdits: !1,\n            pasteIncoming: !1,\n            cutIncoming: !1,\n            draggingText: !1,\n            highlight: new Vg,\n            keySeq: null,\n            specialChars: null\n        };\n        var i = this;\n        d && 11 > e && setTimeout(function() {\n            i.display.input.reset(!0)\n        }, 20), od(this), yh(), Uc(this), this.curOp.forceUpdate = !0, cg(this, c), b.autofocus && !n || i.hasFocus() ? setTimeout(fh(Wd, this), 20) : Xd(this);\n        for (var j in ye) ye.hasOwnProperty(j) && ye[j](this, b[j], Ae);\n        R(this), b.finishInit && b.finishInit(this);\n        for (var k = 0; k < Ee.length; ++k) Ee[k](this);\n        Wc(this), f && b.lineWrapping && \"optimizelegibility\" == getComputedStyle(h.lineDiv).textRendering && (h.lineDiv.style.textRendering = \"auto\")\n    }\n\n    function w(b, c, g) {\n        var h = this;\n        this.input = g, h.scrollbarFiller = mh(\"div\", null, \"CodeMirror-scrollbar-filler\"), h.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\"), h.gutterFiller = mh(\"div\", null, \"CodeMirror-gutter-filler\"), h.gutterFiller.setAttribute(\"cm-not-content\", \"true\"), h.lineDiv = mh(\"div\", null, \"CodeMirror-code\"), h.selectionDiv = mh(\"div\", null, null, \"position: relative; z-index: 1\"), h.cursorDiv = mh(\"div\", null, \"CodeMirror-cursors\"), h.measure = mh(\"div\", null, \"CodeMirror-measure\"), h.lineMeasure = mh(\"div\", null, \"CodeMirror-measure\"), h.lineSpace = mh(\"div\", [h.measure, h.lineMeasure, h.selectionDiv, h.cursorDiv, h.lineDiv], null, \"position: relative; outline: none\"), h.mover = mh(\"div\", [mh(\"div\", [h.lineSpace], \"CodeMirror-lines\")], null, \"position: relative\"), h.sizer = mh(\"div\", [h.mover], \"CodeMirror-sizer\"), h.sizerWidth = null, h.heightForcer = mh(\"div\", null, null, \"position: absolute; height: \" + Qg + \"px; width: 1px;\"), h.gutters = mh(\"div\", null, \"CodeMirror-gutters\"), h.lineGutter = null, h.scroller = mh(\"div\", [h.sizer, h.heightForcer, h.gutters], \"CodeMirror-scroll\"), h.scroller.setAttribute(\"tabIndex\", \"-1\"), h.wrapper = mh(\"div\", [h.scrollbarFiller, h.gutterFiller, h.scroller], \"CodeMirror\"), d && 8 > e && (h.gutters.style.zIndex = -1, h.scroller.style.paddingRight = 0), f || a && n || (h.scroller.draggable = !0), b && (b.appendChild ? b.appendChild(h.wrapper) : b(h.wrapper)), h.viewFrom = h.viewTo = c.first, h.reportedViewFrom = h.reportedViewTo = c.first, h.view = [], h.renderedView = null, h.externalMeasured = null, h.viewOffset = 0, h.lastWrapHeight = h.lastWrapWidth = 0, h.updateLineNumbers = null, h.nativeBarWidth = h.barHeight = h.barWidth = 0, h.scrollbarsClipped = !1, h.lineNumWidth = h.lineNumInnerWidth = h.lineNumChars = null, h.alignWidgets = !1, h.cachedCharWidth = h.cachedTextHeight = h.cachedPaddingH = null, h.maxLine = null, h.maxLineLength = 0, h.maxLineChanged = !1, h.wheelDX = h.wheelDY = h.wheelStartX = h.wheelStartY = null, h.shift = !1, h.selForContextMenu = null, h.activeTouch = null, g.init(h)\n    }\n\n    function x(a) {\n        a.doc.mode = v.getMode(a.options, a.doc.modeOption), y(a)\n    }\n\n    function y(a) {\n        a.doc.iter(function(a) {\n            a.stateAfter && (a.stateAfter = null), a.styles && (a.styles = null)\n        }), a.doc.frontier = a.doc.first, hc(a, 100), a.state.modeGen++, a.curOp && hd(a)\n    }\n\n    function z(a) {\n        a.options.lineWrapping ? (uh(a.display.wrapper, \"CodeMirror-wrap\"), a.display.sizer.style.minWidth = \"\", a.display.sizerWidth = null) : (th(a.display.wrapper, \"CodeMirror-wrap\"), H(a)), B(a), hd(a), Ec(a), setTimeout(function() {\n            N(a)\n        }, 100)\n    }\n\n    function A(a) {\n        var b = Qc(a.display),\n            c = a.options.lineWrapping,\n            d = c && Math.max(5, a.display.scroller.clientWidth / Rc(a.display) - 3);\n        return function(e) {\n            if (uf(a.doc, e)) return 0;\n            var f = 0;\n            if (e.widgets)\n                for (var g = 0; g < e.widgets.length; g++) e.widgets[g].height && (f += e.widgets[g].height);\n            return c ? f + (Math.ceil(e.text.length / d) || 1) * b : f + b\n        }\n    }\n\n    function B(a) {\n        var b = a.doc,\n            c = A(a);\n        b.iter(function(a) {\n            var b = c(a);\n            b != a.height && gg(a, b)\n        })\n    }\n\n    function C(a) {\n        a.display.wrapper.className = a.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") + a.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\"), Ec(a)\n    }\n\n    function D(a) {\n        E(a), hd(a), setTimeout(function() {\n            Q(a)\n        }, 20)\n    }\n\n    function E(a) {\n        var b = a.display.gutters,\n            c = a.options.gutters;\n        oh(b);\n        for (var d = 0; d < c.length; ++d) {\n            var e = c[d],\n                f = b.appendChild(mh(\"div\", null, \"CodeMirror-gutter \" + e));\n            \"CodeMirror-linenumbers\" == e && (a.display.lineGutter = f, f.style.width = (a.display.lineNumWidth || 1) + \"px\")\n        }\n        b.style.display = d ? \"\" : \"none\", F(a)\n    }\n\n    function F(a) {\n        var b = a.display.gutters.offsetWidth;\n        a.display.sizer.style.marginLeft = b + \"px\"\n    }\n\n    function G(a) {\n        if (0 == a.height) return 0;\n        for (var c, b = a.text.length, d = a; c = nf(d);) {\n            var e = c.find(0, !0);\n            d = e.from.line, b += e.from.ch - e.to.ch\n        }\n        for (d = a; c = of (d);) {\n            var e = c.find(0, !0);\n            b -= d.text.length - e.from.ch, d = e.to.line, b += d.text.length - e.to.ch\n        }\n        return b\n    }\n\n    function H(a) {\n        var b = a.display,\n            c = a.doc;\n        b.maxLine = dg(c, c.first), b.maxLineLength = G(b.maxLine), b.maxLineChanged = !0, c.iter(function(a) {\n            var c = G(a);\n            c > b.maxLineLength && (b.maxLineLength = c, b.maxLine = a)\n        })\n    }\n\n    function I(a) {\n        var b = ah(a.gutters, \"CodeMirror-linenumbers\"); - 1 == b && a.lineNumbers ? a.gutters = a.gutters.concat([\"CodeMirror-linenumbers\"]) : b > -1 && !a.lineNumbers && (a.gutters = a.gutters.slice(0), a.gutters.splice(b, 1))\n    }\n\n    function J(a) {\n        var b = a.display,\n            c = b.gutters.offsetWidth,\n            d = Math.round(a.doc.height + mc(a.display));\n        return {\n            clientHeight: b.scroller.clientHeight,\n            viewHeight: b.wrapper.clientHeight,\n            scrollWidth: b.scroller.scrollWidth,\n            clientWidth: b.scroller.clientWidth,\n            viewWidth: b.wrapper.clientWidth,\n            barLeft: a.options.fixedGutter ? c : 0,\n            docHeight: d,\n            scrollHeight: d + oc(a) + b.barHeight,\n            nativeBarWidth: b.nativeBarWidth,\n            gutterWidth: c\n        }\n    }\n\n    function K(a, b, c) {\n        this.cm = c;\n        var f = this.vert = mh(\"div\", [mh(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\"),\n            g = this.horiz = mh(\"div\", [mh(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n        a(f), a(g), Gg(f, \"scroll\", function() {\n            f.clientHeight && b(f.scrollTop, \"vertical\")\n        }), Gg(g, \"scroll\", function() {\n            g.clientWidth && b(g.scrollLeft, \"horizontal\")\n        }), this.checkedOverlay = !1, d && 8 > e && (this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\")\n    }\n\n    function L() {}\n\n    function M(a) {\n        a.display.scrollbars && (a.display.scrollbars.clear(), a.display.scrollbars.addClass && th(a.display.wrapper, a.display.scrollbars.addClass)), a.display.scrollbars = new v.scrollbarModel[a.options.scrollbarStyle](function(b) {\n            a.display.wrapper.insertBefore(b, a.display.scrollbarFiller), Gg(b, \"mousedown\", function() {\n                a.state.focused && setTimeout(function() {\n                    a.display.input.focus()\n                }, 0)\n            }), b.setAttribute(\"cm-not-content\", \"true\")\n        }, function(b, c) {\n            \"horizontal\" == c ? Fd(a, b) : Ed(a, b)\n        }, a), a.display.scrollbars.addClass && uh(a.display.wrapper, a.display.scrollbars.addClass)\n    }\n\n    function N(a, b) {\n        b || (b = J(a));\n        var c = a.display.barWidth,\n            d = a.display.barHeight;\n        O(a, b);\n        for (var e = 0; 4 > e && c != a.display.barWidth || d != a.display.barHeight; e++) c != a.display.barWidth && a.options.lineWrapping && $(a), O(a, J(a)), c = a.display.barWidth, d = a.display.barHeight\n    }\n\n    function O(a, b) {\n        var c = a.display,\n            d = c.scrollbars.update(b);\n        c.sizer.style.paddingRight = (c.barWidth = d.right) + \"px\", c.sizer.style.paddingBottom = (c.barHeight = d.bottom) + \"px\", d.right && d.bottom ? (c.scrollbarFiller.style.display = \"block\", c.scrollbarFiller.style.height = d.bottom + \"px\", c.scrollbarFiller.style.width = d.right + \"px\") : c.scrollbarFiller.style.display = \"\", d.bottom && a.options.coverGutterNextToScrollbar && a.options.fixedGutter ? (c.gutterFiller.style.display = \"block\", c.gutterFiller.style.height = d.bottom + \"px\", c.gutterFiller.style.width = b.gutterWidth + \"px\") : c.gutterFiller.style.display = \"\"\n    }\n\n    function P(a, b, c) {\n        var d = c && null != c.top ? Math.max(0, c.top) : a.scroller.scrollTop;\n        d = Math.floor(d - lc(a));\n        var e = c && null != c.bottom ? c.bottom : d + a.wrapper.clientHeight,\n            f = ig(b, d),\n            g = ig(b, e);\n        if (c && c.ensure) {\n            var h = c.ensure.from.line,\n                i = c.ensure.to.line;\n            f > h ? (f = h, g = ig(b, jg(dg(b, h)) + a.wrapper.clientHeight)) : Math.min(i, b.lastLine()) >= g && (f = ig(b, jg(dg(b, i)) - a.wrapper.clientHeight), g = i)\n        }\n        return {\n            from: f,\n            to: Math.max(g, f + 1)\n        }\n    }\n\n    function Q(a) {\n        var b = a.display,\n            c = b.view;\n        if (b.alignWidgets || b.gutters.firstChild && a.options.fixedGutter) {\n            for (var d = T(b) - b.scroller.scrollLeft + a.doc.scrollLeft, e = b.gutters.offsetWidth, f = d + \"px\", g = 0; g < c.length; g++)\n                if (!c[g].hidden) {\n                    a.options.fixedGutter && c[g].gutter && (c[g].gutter.style.left = f);\n                    var h = c[g].alignable;\n                    if (h)\n                        for (var i = 0; i < h.length; i++) h[i].style.left = f\n                } a.options.fixedGutter && (b.gutters.style.left = d + e + \"px\")\n        }\n    }\n\n    function R(a) {\n        if (!a.options.lineNumbers) return !1;\n        var b = a.doc,\n            c = S(a.options, b.first + b.size - 1),\n            d = a.display;\n        if (c.length != d.lineNumChars) {\n            var e = d.measure.appendChild(mh(\"div\", [mh(\"div\", c)], \"CodeMirror-linenumber CodeMirror-gutter-elt\")),\n                f = e.firstChild.offsetWidth,\n                g = e.offsetWidth - f;\n            return d.lineGutter.style.width = \"\", d.lineNumInnerWidth = Math.max(f, d.lineGutter.offsetWidth - g) + 1, d.lineNumWidth = d.lineNumInnerWidth + g, d.lineNumChars = d.lineNumInnerWidth ? c.length : -1, d.lineGutter.style.width = d.lineNumWidth + \"px\", F(a), !0\n        }\n        return !1\n    }\n\n    function S(a, b) {\n        return String(a.lineNumberFormatter(b + a.firstLineNumber))\n    }\n\n    function T(a) {\n        return a.scroller.getBoundingClientRect().left - a.sizer.getBoundingClientRect().left\n    }\n\n    function U(a, b, c) {\n        var d = a.display;\n        this.viewport = b, this.visible = P(d, a.doc, b), this.editorIsHidden = !d.wrapper.offsetWidth, this.wrapperHeight = d.wrapper.clientHeight, this.wrapperWidth = d.wrapper.clientWidth, this.oldDisplayWidth = pc(a), this.force = c, this.dims = ab(a), this.events = []\n    }\n\n    function V(a) {\n        var b = a.display;\n        !b.scrollbarsClipped && b.scroller.offsetWidth && (b.nativeBarWidth = b.scroller.offsetWidth - b.scroller.clientWidth, b.heightForcer.style.height = oc(a) + \"px\", b.sizer.style.marginBottom = -b.nativeBarWidth + \"px\", b.sizer.style.borderRightWidth = oc(a) + \"px\", b.scrollbarsClipped = !0)\n    }\n\n    function W(a, b) {\n        var c = a.display,\n            d = a.doc;\n        if (b.editorIsHidden) return jd(a), !1;\n        if (!b.force && b.visible.from >= c.viewFrom && b.visible.to <= c.viewTo && (null == c.updateLineNumbers || c.updateLineNumbers >= c.viewTo) && c.renderedView == c.view && 0 == nd(a)) return !1;\n        R(a) && (jd(a), b.dims = ab(a));\n        var e = d.first + d.size,\n            f = Math.max(b.visible.from - a.options.viewportMargin, d.first),\n            g = Math.min(e, b.visible.to + a.options.viewportMargin);\n        c.viewFrom < f && f - c.viewFrom < 20 && (f = Math.max(d.first, c.viewFrom)), c.viewTo > g && c.viewTo - g < 20 && (g = Math.min(e, c.viewTo)), u && (f = sf(a.doc, f), g = tf(a.doc, g));\n        var h = f != c.viewFrom || g != c.viewTo || c.lastWrapHeight != b.wrapperHeight || c.lastWrapWidth != b.wrapperWidth;\n        md(a, f, g), c.viewOffset = jg(dg(a.doc, c.viewFrom)), a.display.mover.style.top = c.viewOffset + \"px\";\n        var i = nd(a);\n        if (!h && 0 == i && !b.force && c.renderedView == c.view && (null == c.updateLineNumbers || c.updateLineNumbers >= c.viewTo)) return !1;\n        var j = rh();\n        return i > 4 && (c.lineDiv.style.display = \"none\"), bb(a, c.updateLineNumbers, b.dims), i > 4 && (c.lineDiv.style.display = \"\"), c.renderedView = c.view, j && rh() != j && j.offsetHeight && j.focus(), oh(c.cursorDiv), oh(c.selectionDiv), c.gutters.style.height = 0, h && (c.lastWrapHeight = b.wrapperHeight, c.lastWrapWidth = b.wrapperWidth, hc(a, 400)), c.updateLineNumbers = null, !0\n    }\n\n    function X(a, b) {\n        for (var c = b.viewport, d = !0;\n            (d && a.options.lineWrapping && b.oldDisplayWidth != pc(a) || (c && null != c.top && (c = {\n                top: Math.min(a.doc.height + mc(a.display) - qc(a), c.top)\n            }), b.visible = P(a.display, a.doc, c), !(b.visible.from >= a.display.viewFrom && b.visible.to <= a.display.viewTo))) && W(a, b); d = !1) {\n            $(a);\n            var e = J(a);\n            cc(a), Z(a, e), N(a, e)\n        }\n        b.signal(a, \"update\", a), (a.display.viewFrom != a.display.reportedViewFrom || a.display.viewTo != a.display.reportedViewTo) && (b.signal(a, \"viewportChange\", a, a.display.viewFrom, a.display.viewTo), a.display.reportedViewFrom = a.display.viewFrom, a.display.reportedViewTo = a.display.viewTo)\n    }\n\n    function Y(a, b) {\n        var c = new U(a, b);\n        if (W(a, c)) {\n            $(a), X(a, c);\n            var d = J(a);\n            cc(a), Z(a, d), N(a, d), c.finish()\n        }\n    }\n\n    function Z(a, b) {\n        a.display.sizer.style.minHeight = b.docHeight + \"px\";\n        var c = b.docHeight + a.display.barHeight;\n        a.display.heightForcer.style.top = c + \"px\", a.display.gutters.style.height = Math.max(c + oc(a), b.clientHeight) + \"px\"\n    }\n\n    function $(a) {\n        for (var b = a.display, c = b.lineDiv.offsetTop, f = 0; f < b.view.length; f++) {\n            var h, g = b.view[f];\n            if (!g.hidden) {\n                if (d && 8 > e) {\n                    var i = g.node.offsetTop + g.node.offsetHeight;\n                    h = i - c, c = i\n                } else {\n                    var j = g.node.getBoundingClientRect();\n                    h = j.bottom - j.top\n                }\n                var k = g.line.height - h;\n                if (2 > h && (h = Qc(b)), (k > .001 || -.001 > k) && (gg(g.line, h), _(g.line), g.rest))\n                    for (var l = 0; l < g.rest.length; l++) _(g.rest[l])\n            }\n        }\n    }\n\n    function _(a) {\n        if (a.widgets)\n            for (var b = 0; b < a.widgets.length; ++b) a.widgets[b].height = a.widgets[b].node.offsetHeight\n    }\n\n    function ab(a) {\n        for (var b = a.display, c = {}, d = {}, e = b.gutters.clientLeft, f = b.gutters.firstChild, g = 0; f; f = f.nextSibling, ++g) c[a.options.gutters[g]] = f.offsetLeft + f.clientLeft + e, d[a.options.gutters[g]] = f.clientWidth;\n        return {\n            fixedPos: T(b),\n            gutterTotalWidth: b.gutters.offsetWidth,\n            gutterLeft: c,\n            gutterWidth: d,\n            wrapperWidth: b.wrapper.clientWidth\n        }\n    }\n\n    function bb(a, b, c) {\n        function i(b) {\n            var c = b.nextSibling;\n            return f && o && a.display.currentWheelTarget == b ? b.style.display = \"none\" : b.parentNode.removeChild(b), c\n        }\n        for (var d = a.display, e = a.options.lineNumbers, g = d.lineDiv, h = g.firstChild, j = d.view, k = d.viewFrom, l = 0; l < j.length; l++) {\n            var m = j[l];\n            if (m.hidden);\n            else if (m.node && m.node.parentNode == g) {\n                for (; h != m.node;) h = i(h);\n                var p = e && null != b && k >= b && m.lineNumber;\n                m.changes && (ah(m.changes, \"gutter\") > -1 && (p = !1), cb(a, m, k, c)), p && (oh(m.lineNumber), m.lineNumber.appendChild(document.createTextNode(S(a.options, k)))), h = m.node.nextSibling\n            } else {\n                var n = kb(a, m, k, c);\n                g.insertBefore(n, h)\n            }\n            k += m.size\n        }\n        for (; h;) h = i(h)\n    }\n\n    function cb(a, b, c, d) {\n        for (var e = 0; e < b.changes.length; e++) {\n            var f = b.changes[e];\n            \"text\" == f ? gb(a, b) : \"gutter\" == f ? ib(a, b, c, d) : \"class\" == f ? hb(b) : \"widget\" == f && jb(a, b, d)\n        }\n        b.changes = null\n    }\n\n    function db(a) {\n        return a.node == a.text && (a.node = mh(\"div\", null, null, \"position: relative\"), a.text.parentNode && a.text.parentNode.replaceChild(a.node, a.text), a.node.appendChild(a.text), d && 8 > e && (a.node.style.zIndex = 2)), a.node\n    }\n\n    function eb(a) {\n        var b = a.bgClass ? a.bgClass + \" \" + (a.line.bgClass || \"\") : a.line.bgClass;\n        if (b && (b += \" CodeMirror-linebackground\"), a.background) b ? a.background.className = b : (a.background.parentNode.removeChild(a.background), a.background = null);\n        else if (b) {\n            var c = db(a);\n            a.background = c.insertBefore(mh(\"div\", null, b), c.firstChild)\n        }\n    }\n\n    function fb(a, b) {\n        var c = a.display.externalMeasured;\n        return c && c.line == b.line ? (a.display.externalMeasured = null, b.measure = c.measure, c.built) : Of(a, b)\n    }\n\n    function gb(a, b) {\n        var c = b.text.className,\n            d = fb(a, b);\n        b.text == b.node && (b.node = d.pre), b.text.parentNode.replaceChild(d.pre, b.text), b.text = d.pre, d.bgClass != b.bgClass || d.textClass != b.textClass ? (b.bgClass = d.bgClass, b.textClass = d.textClass, hb(b)) : c && (b.text.className = c)\n    }\n\n    function hb(a) {\n        eb(a), a.line.wrapClass ? db(a).className = a.line.wrapClass : a.node != a.text && (a.node.className = \"\");\n        var b = a.textClass ? a.textClass + \" \" + (a.line.textClass || \"\") : a.line.textClass;\n        a.text.className = b || \"\"\n    }\n\n    function ib(a, b, c, d) {\n        b.gutter && (b.node.removeChild(b.gutter), b.gutter = null);\n        var e = b.line.gutterMarkers;\n        if (a.options.lineNumbers || e) {\n            var f = db(b),\n                g = b.gutter = mh(\"div\", null, \"CodeMirror-gutter-wrapper\", \"left: \" + (a.options.fixedGutter ? d.fixedPos : -d.gutterTotalWidth) + \"px; width: \" + d.gutterTotalWidth + \"px\");\n            if (a.display.input.setUneditable(g), f.insertBefore(g, b.text), b.line.gutterClass && (g.className += \" \" + b.line.gutterClass), !a.options.lineNumbers || e && e[\"CodeMirror-linenumbers\"] || (b.lineNumber = g.appendChild(mh(\"div\", S(a.options, c), \"CodeMirror-linenumber CodeMirror-gutter-elt\", \"left: \" + d.gutterLeft[\"CodeMirror-linenumbers\"] + \"px; width: \" + a.display.lineNumInnerWidth + \"px\"))), e)\n                for (var h = 0; h < a.options.gutters.length; ++h) {\n                    var i = a.options.gutters[h],\n                        j = e.hasOwnProperty(i) && e[i];\n                    j && g.appendChild(mh(\"div\", [j], \"CodeMirror-gutter-elt\", \"left: \" + d.gutterLeft[i] + \"px; width: \" + d.gutterWidth[i] + \"px\"))\n                }\n        }\n    }\n\n    function jb(a, b, c) {\n        b.alignable && (b.alignable = null);\n        for (var e, d = b.node.firstChild; d; d = e) {\n            var e = d.nextSibling;\n            \"CodeMirror-linewidget\" == d.className && b.node.removeChild(d)\n        }\n        lb(a, b, c)\n    }\n\n    function kb(a, b, c, d) {\n        var e = fb(a, b);\n        return b.text = b.node = e.pre, e.bgClass && (b.bgClass = e.bgClass), e.textClass && (b.textClass = e.textClass), hb(b), ib(a, b, c, d), lb(a, b, d), b.node\n    }\n\n    function lb(a, b, c) {\n        if (mb(a, b.line, b, c, !0), b.rest)\n            for (var d = 0; d < b.rest.length; d++) mb(a, b.rest[d], b, c, !1)\n    }\n\n    function mb(a, b, c, d, e) {\n        if (b.widgets)\n            for (var f = db(c), g = 0, h = b.widgets; g < h.length; ++g) {\n                var i = h[g],\n                    j = mh(\"div\", [i.node], \"CodeMirror-linewidget\");\n                i.handleMouseEvents || j.setAttribute(\"cm-ignore-events\", \"true\"), nb(i, j, c, d), a.display.input.setUneditable(j), e && i.above ? f.insertBefore(j, c.gutter || c.text) : f.appendChild(j), Kg(i, \"redraw\")\n            }\n    }\n\n    function nb(a, b, c, d) {\n        if (a.noHScroll) {\n            (c.alignable || (c.alignable = [])).push(b);\n            var e = d.wrapperWidth;\n            b.style.left = d.fixedPos + \"px\", a.coverGutter || (e -= d.gutterTotalWidth, b.style.paddingLeft = d.gutterTotalWidth + \"px\"), b.style.width = e + \"px\"\n        }\n        a.coverGutter && (b.style.zIndex = 5, b.style.position = \"relative\", a.noHScroll || (b.style.marginLeft = -d.gutterTotalWidth + \"px\"))\n    }\n\n    function qb(a) {\n        return ob(a.line, a.ch)\n    }\n\n    function rb(a, b) {\n        return pb(a, b) < 0 ? b : a\n    }\n\n    function sb(a, b) {\n        return pb(a, b) < 0 ? a : b\n    }\n\n    function tb(a) {\n        a.state.focused || (a.display.input.focus(), Wd(a))\n    }\n\n    function ub(a) {\n        return a.options.readOnly || a.doc.cantEdit\n    }\n\n    function wb(a, b, c, d, e) {\n        var f = a.doc;\n        a.display.shift = !1, d || (d = f.sel);\n        var g = Fh(b),\n            h = null;\n        a.state.pasteIncoming && d.ranges.length > 1 && (vb && vb.join(\"\\n\") == b ? h = 0 == d.ranges.length % vb.length && bh(vb, Fh) : g.length == d.ranges.length && (h = bh(g, function(a) {\n            return [a]\n        })));\n        for (var i = d.ranges.length - 1; i >= 0; i--) {\n            var j = d.ranges[i],\n                k = j.from(),\n                l = j.to();\n            j.empty() && (c && c > 0 ? k = ob(k.line, k.ch - c) : a.state.overwrite && !a.state.pasteIncoming && (l = ob(l.line, Math.min(dg(f, l.line).text.length, l.ch + $g(g).length))));\n            var m = a.curOp.updateInput,\n                n = {\n                    from: k,\n                    to: l,\n                    text: h ? h[i % h.length] : g,\n                    origin: e || (a.state.pasteIncoming ? \"paste\" : a.state.cutIncoming ? \"cut\" : \"+input\")\n                };\n            ee(a.doc, n), Kg(a, \"inputRead\", a, n)\n        }\n        b && !a.state.pasteIncoming && xb(a, b), qe(a), a.curOp.updateInput = m, a.curOp.typing = !0, a.state.pasteIncoming = a.state.cutIncoming = !1\n    }\n\n    function xb(a, b) {\n        if (a.options.electricChars && a.options.smartIndent)\n            for (var c = a.doc.sel, d = c.ranges.length - 1; d >= 0; d--) {\n                var e = c.ranges[d];\n                if (!(e.head.ch > 100 || d && c.ranges[d - 1].head.line == e.head.line)) {\n                    var f = a.getModeAt(e.head),\n                        g = !1;\n                    if (f.electricChars) {\n                        for (var h = 0; h < f.electricChars.length; h++)\n                            if (b.indexOf(f.electricChars.charAt(h)) > -1) {\n                                g = se(a, e.head.line, \"smart\");\n                                break\n                            }\n                    } else f.electricInput && f.electricInput.test(dg(a.doc, e.head.line).text.slice(0, e.head.ch)) && (g = se(a, e.head.line, \"smart\"));\n                    g && Kg(a, \"electricInput\", a, e.head.line)\n                }\n            }\n    }\n\n    function yb(a) {\n        for (var b = [], c = [], d = 0; d < a.doc.sel.ranges.length; d++) {\n            var e = a.doc.sel.ranges[d].head.line,\n                f = {\n                    anchor: ob(e, 0),\n                    head: ob(e + 1, 0)\n                };\n            c.push(f), b.push(a.getRange(f.anchor, f.head))\n        }\n        return {\n            text: b,\n            ranges: c\n        }\n    }\n\n    function zb(a) {\n        a.setAttribute(\"autocorrect\", \"off\"), a.setAttribute(\"autocapitalize\", \"off\"), a.setAttribute(\"spellcheck\", \"false\")\n    }\n\n    function Ab(a) {\n        this.cm = a, this.prevInput = \"\", this.pollingFast = !1, this.polling = new Vg, this.inaccurateSelection = !1, this.hasSelection = !1, this.composing = null\n    }\n\n    function Bb() {\n        var a = mh(\"textarea\", null, null, \"position: absolute; padding: 0; width: 1px; height: 1em; outline: none\"),\n            b = mh(\"div\", [a], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n        return f ? a.style.width = \"1000px\" : a.setAttribute(\"wrap\", \"off\"), m && (a.style.border = \"1px solid black\"), zb(a), b\n    }\n\n    function Cb(a) {\n        this.cm = a, this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null, this.polling = new Vg, this.gracePeriod = !1\n    }\n\n    function Db(a, b) {\n        var c = vc(a, b.line);\n        if (!c || c.hidden) return null;\n        var d = dg(a.doc, b.line),\n            e = sc(c, d, b.line),\n            f = kg(d),\n            g = \"left\";\n        if (f) {\n            var h = Vh(f, b.ch);\n            g = h % 2 ? \"right\" : \"left\"\n        }\n        var i = zc(e.map, b.ch, g);\n        return i.offset = \"right\" == i.collapse ? i.end : i.start, i\n    }\n\n    function Eb(a, b) {\n        return b && (a.bad = !0), a\n    }\n\n    function Fb(a, b, c) {\n        var d;\n        if (b == a.display.lineDiv) {\n            if (d = a.display.lineDiv.childNodes[c], !d) return Eb(a.clipPos(ob(a.display.viewTo - 1)), !0);\n            b = null, c = 0\n        } else\n            for (d = b;; d = d.parentNode) {\n                if (!d || d == a.display.lineDiv) return null;\n                if (d.parentNode && d.parentNode == a.display.lineDiv) break\n            }\n        for (var e = 0; e < a.display.view.length; e++) {\n            var f = a.display.view[e];\n            if (f.node == d) return Gb(f, b, c)\n        }\n    }\n\n    function Gb(a, b, c) {\n        function k(b, c, d) {\n            for (var e = -1; e < (j ? j.length : 0); e++)\n                for (var f = 0 > e ? i.map : j[e], g = 0; g < f.length; g += 3) {\n                    var h = f[g + 2];\n                    if (h == b || h == c) {\n                        var k = hg(0 > e ? a.line : a.rest[e]),\n                            l = f[g] + d;\n                        return (0 > d || h != b) && (l = f[g + (d ? 1 : 0)]), ob(k, l)\n                    }\n                }\n        }\n        var d = a.text.firstChild,\n            e = !1;\n        if (!b || !qh(d, b)) return Eb(ob(hg(a.line), 0), !0);\n        if (b == d && (e = !0, b = d.childNodes[c], c = 0, !b)) {\n            var f = a.rest ? $g(a.rest) : a.line;\n            return Eb(ob(hg(f), f.text.length), e)\n        }\n        var g = 3 == b.nodeType ? b : null,\n            h = b;\n        for (g || 1 != b.childNodes.length || 3 != b.firstChild.nodeType || (g = b.firstChild, c && (c = g.nodeValue.length)); h.parentNode != d;) h = h.parentNode;\n        var i = a.measure,\n            j = i.maps,\n            l = k(g, h, c);\n        if (l) return Eb(l, e);\n        for (var m = h.nextSibling, n = g ? g.nodeValue.length - c : 0; m; m = m.nextSibling) {\n            if (l = k(m, m.firstChild, 0)) return Eb(ob(l.line, l.ch - n), e);\n            n += m.textContent.length\n        }\n        for (var o = h.previousSibling, n = c; o; o = o.previousSibling) {\n            if (l = k(o, o.firstChild, -1)) return Eb(ob(l.line, l.ch + n), e);\n            n += m.textContent.length\n        }\n    }\n\n    function Hb(a, b, c, d, e) {\n        function h(a) {\n            return function(b) {\n                return b.id == a\n            }\n        }\n\n        function i(b) {\n            if (1 == b.nodeType) {\n                var c = b.getAttribute(\"cm-text\");\n                if (null != c) return \"\" == c && (c = b.textContent.replace(/\\u200b/g, \"\")), f += c, void 0;\n                var k, j = b.getAttribute(\"cm-marker\");\n                if (j) {\n                    var l = a.findMarks(ob(d, 0), ob(e + 1, 0), h(+j));\n                    return l.length && (k = l[0].find()) && (f += eg(a.doc, k.from, k.to).join(\"\\n\")), void 0\n                }\n                if (\"false\" == b.getAttribute(\"contenteditable\")) return;\n                for (var m = 0; m < b.childNodes.length; m++) i(b.childNodes[m]);\n                /^(pre|div|p)$/i.test(b.nodeName) && (g = !0)\n            } else if (3 == b.nodeType) {\n                var n = b.nodeValue;\n                if (!n) return;\n                g && (f += \"\\n\", g = !1), f += n\n            }\n        }\n        for (var f = \"\", g = !1; i(b), b != c;) b = b.nextSibling;\n        return f\n    }\n\n    function Ib(a, b) {\n        this.ranges = a, this.primIndex = b\n    }\n\n    function Jb(a, b) {\n        this.anchor = a, this.head = b\n    }\n\n    function Kb(a, b) {\n        var c = a[b];\n        a.sort(function(a, b) {\n            return pb(a.from(), b.from())\n        }), b = ah(a, c);\n        for (var d = 1; d < a.length; d++) {\n            var e = a[d],\n                f = a[d - 1];\n            if (pb(f.to(), e.from()) >= 0) {\n                var g = sb(f.from(), e.from()),\n                    h = rb(f.to(), e.to()),\n                    i = f.empty() ? e.from() == e.head : f.from() == f.head;\n                b >= d && --b, a.splice(--d, 2, new Jb(i ? h : g, i ? g : h))\n            }\n        }\n        return new Ib(a, b)\n    }\n\n    function Lb(a, b) {\n        return new Ib([new Jb(a, b || a)], 0)\n    }\n\n    function Mb(a, b) {\n        return Math.max(a.first, Math.min(b, a.first + a.size - 1))\n    }\n\n    function Nb(a, b) {\n        if (b.line < a.first) return ob(a.first, 0);\n        var c = a.first + a.size - 1;\n        return b.line > c ? ob(c, dg(a, c).text.length) : Ob(b, dg(a, b.line).text.length)\n    }\n\n    function Ob(a, b) {\n        var c = a.ch;\n        return null == c || c > b ? ob(a.line, b) : 0 > c ? ob(a.line, 0) : a\n    }\n\n    function Pb(a, b) {\n        return b >= a.first && b < a.first + a.size\n    }\n\n    function Qb(a, b) {\n        for (var c = [], d = 0; d < b.length; d++) c[d] = Nb(a, b[d]);\n        return c\n    }\n\n    function Rb(a, b, c, d) {\n        if (a.cm && a.cm.display.shift || a.extend) {\n            var e = b.anchor;\n            if (d) {\n                var f = pb(c, e) < 0;\n                f != pb(d, e) < 0 ? (e = c, c = d) : f != pb(c, d) < 0 && (c = d)\n            }\n            return new Jb(e, c)\n        }\n        return new Jb(d || c, c)\n    }\n\n    function Sb(a, b, c, d) {\n        Yb(a, new Ib([Rb(a, a.sel.primary(), b, c)], 0), d)\n    }\n\n    function Tb(a, b, c) {\n        for (var d = [], e = 0; e < a.sel.ranges.length; e++) d[e] = Rb(a, a.sel.ranges[e], b[e], null);\n        var f = Kb(d, a.sel.primIndex);\n        Yb(a, f, c)\n    }\n\n    function Ub(a, b, c, d) {\n        var e = a.sel.ranges.slice(0);\n        e[b] = c, Yb(a, Kb(e, a.sel.primIndex), d)\n    }\n\n    function Vb(a, b, c, d) {\n        Yb(a, Lb(b, c), d)\n    }\n\n    function Wb(a, b) {\n        var c = {\n            ranges: b.ranges,\n            update: function(b) {\n                this.ranges = [];\n                for (var c = 0; c < b.length; c++) this.ranges[c] = new Jb(Nb(a, b[c].anchor), Nb(a, b[c].head))\n            }\n        };\n        return Ig(a, \"beforeSelectionChange\", a, c), a.cm && Ig(a.cm, \"beforeSelectionChange\", a.cm, c), c.ranges != b.ranges ? Kb(c.ranges, c.ranges.length - 1) : b\n    }\n\n    function Xb(a, b, c) {\n        var d = a.history.done,\n            e = $g(d);\n        e && e.ranges ? (d[d.length - 1] = b, Zb(a, b, c)) : Yb(a, b, c)\n    }\n\n    function Yb(a, b, c) {\n        Zb(a, b, c), rg(a, a.sel, a.cm ? a.cm.curOp.id : 0 / 0, c)\n    }\n\n    function Zb(a, b, c) {\n        (Og(a, \"beforeSelectionChange\") || a.cm && Og(a.cm, \"beforeSelectionChange\")) && (b = Wb(a, b));\n        var d = c && c.bias || (pb(b.primary().head, a.sel.primary().head) < 0 ? -1 : 1);\n        $b(a, ac(a, b, d, !0)), c && c.scroll === !1 || !a.cm || qe(a.cm)\n    }\n\n    function $b(a, b) {\n        b.equals(a.sel) || (a.sel = b, a.cm && (a.cm.curOp.updateInput = a.cm.curOp.selectionChanged = !0, Ng(a.cm)), Kg(a, \"cursorActivity\", a))\n    }\n\n    function _b(a) {\n        $b(a, ac(a, a.sel, null, !1), Sg)\n    }\n\n    function ac(a, b, c, d) {\n        for (var e, f = 0; f < b.ranges.length; f++) {\n            var g = b.ranges[f],\n                h = bc(a, g.anchor, c, d),\n                i = bc(a, g.head, c, d);\n            (e || h != g.anchor || i != g.head) && (e || (e = b.ranges.slice(0, f)), e[f] = new Jb(h, i))\n        }\n        return e ? Kb(e, b.primIndex) : b\n    }\n\n    function bc(a, b, c, d) {\n        var e = !1,\n            f = b,\n            g = c || 1;\n        a.cantEdit = !1;\n        a: for (;;) {\n            var h = dg(a, f.line);\n            if (h.markedSpans)\n                for (var i = 0; i < h.markedSpans.length; ++i) {\n                    var j = h.markedSpans[i],\n                        k = j.marker;\n                    if ((null == j.from || (k.inclusiveLeft ? j.from <= f.ch : j.from < f.ch)) && (null == j.to || (k.inclusiveRight ? j.to >= f.ch : j.to > f.ch))) {\n                        if (d && (Ig(k, \"beforeCursorEnter\"), k.explicitlyCleared)) {\n                            if (h.markedSpans) {\n                                --i;\n                                continue\n                            }\n                            break\n                        }\n                        if (!k.atomic) continue;\n                        var l = k.find(0 > g ? -1 : 1);\n                        if (0 == pb(l, f) && (l.ch += g, l.ch < 0 ? l = l.line > a.first ? Nb(a, ob(l.line - 1)) : null : l.ch > h.text.length && (l = l.line < a.first + a.size - 1 ? ob(l.line + 1, 0) : null), !l)) {\n                            if (e) return d ? (a.cantEdit = !0, ob(a.first, 0)) : bc(a, b, c, !0);\n                            e = !0, l = b, g = -g\n                        }\n                        f = l;\n                        continue a\n                    }\n                }\n            return f\n        }\n    }\n\n    function cc(a) {\n        a.display.input.showSelection(a.display.input.prepareSelection())\n    }\n\n    function dc(a, b) {\n        for (var c = a.doc, d = {}, e = d.cursors = document.createDocumentFragment(), f = d.selection = document.createDocumentFragment(), g = 0; g < c.sel.ranges.length; g++)\n            if (b !== !1 || g != c.sel.primIndex) {\n                var h = c.sel.ranges[g],\n                    i = h.empty();\n                (i || a.options.showCursorWhenSelecting) && ec(a, h, e), i || fc(a, h, f)\n            } return d\n    }\n\n    function ec(a, b, c) {\n        var d = Kc(a, b.head, \"div\", null, null, !a.options.singleCursorHeightPerLine),\n            e = c.appendChild(mh(\"div\", \"\\xa0\", \"CodeMirror-cursor\"));\n        if (e.style.left = d.left + \"px\", e.style.top = d.top + \"px\", e.style.height = Math.max(0, d.bottom - d.top) * a.options.cursorHeight + \"px\", d.other) {\n            var f = c.appendChild(mh(\"div\", \"\\xa0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n            f.style.display = \"\", f.style.left = d.other.left + \"px\", f.style.top = d.other.top + \"px\", f.style.height = .85 * (d.other.bottom - d.other.top) + \"px\"\n        }\n    }\n\n    function fc(a, b, c) {\n        function j(a, b, c, d) {\n            0 > b && (b = 0), b = Math.round(b), d = Math.round(d), f.appendChild(mh(\"div\", null, \"CodeMirror-selected\", \"position: absolute; left: \" + a + \"px; top: \" + b + \"px; width: \" + (null == c ? i - a : c) + \"px; height: \" + (d - b) + \"px\"))\n        }\n\n        function k(b, c, d) {\n            function m(c, d) {\n                return Jc(a, ob(b, c), \"div\", f, d)\n            }\n            var k, l, f = dg(e, b),\n                g = f.text.length;\n            return Lh(kg(f), c || 0, null == d ? g : d, function(a, b, e) {\n                var n, o, p, f = m(a, \"left\");\n                if (a == b) n = f, o = p = f.left;\n                else {\n                    if (n = m(b - 1, \"right\"), \"rtl\" == e) {\n                        var q = f;\n                        f = n, n = q\n                    }\n                    o = f.left, p = n.right\n                }\n                null == c && 0 == a && (o = h), n.top - f.top > 3 && (j(o, f.top, null, f.bottom), o = h, f.bottom < n.top && j(o, f.bottom, null, n.top)), null == d && b == g && (p = i), (!k || f.top < k.top || f.top == k.top && f.left < k.left) && (k = f), (!l || n.bottom > l.bottom || n.bottom == l.bottom && n.right > l.right) && (l = n), h + 1 > o && (o = h), j(o, n.top, p - o, n.bottom)\n            }), {\n                start: k,\n                end: l\n            }\n        }\n        var d = a.display,\n            e = a.doc,\n            f = document.createDocumentFragment(),\n            g = nc(a.display),\n            h = g.left,\n            i = Math.max(d.sizerWidth, pc(a) - d.sizer.offsetLeft) - g.right,\n            l = b.from(),\n            m = b.to();\n        if (l.line == m.line) k(l.line, l.ch, m.ch);\n        else {\n            var n = dg(e, l.line),\n                o = dg(e, m.line),\n                p = qf(n) == qf(o),\n                q = k(l.line, l.ch, p ? n.text.length + 1 : null).end,\n                r = k(m.line, p ? 0 : null, m.ch).start;\n            p && (q.top < r.top - 2 ? (j(q.right, q.top, null, q.bottom), j(h, r.top, r.left, r.bottom)) : j(q.right, q.top, r.left - q.right, q.bottom)), q.bottom < r.top && j(h, q.bottom, null, r.top)\n        }\n        c.appendChild(f)\n    }\n\n    function gc(a) {\n        if (a.state.focused) {\n            var b = a.display;\n            clearInterval(b.blinker);\n            var c = !0;\n            b.cursorDiv.style.visibility = \"\", a.options.cursorBlinkRate > 0 ? b.blinker = setInterval(function() {\n                b.cursorDiv.style.visibility = (c = !c) ? \"\" : \"hidden\"\n            }, a.options.cursorBlinkRate) : a.options.cursorBlinkRate < 0 && (b.cursorDiv.style.visibility = \"hidden\")\n        }\n    }\n\n    function hc(a, b) {\n        a.doc.mode.startState && a.doc.frontier < a.display.viewTo && a.state.highlight.set(b, fh(ic, a))\n    }\n\n    function ic(a) {\n        var b = a.doc;\n        if (b.frontier < b.first && (b.frontier = b.first), !(b.frontier >= a.display.viewTo)) {\n            var c = +new Date + a.options.workTime,\n                d = Ge(b.mode, kc(a, b.frontier)),\n                e = [];\n            b.iter(b.frontier, Math.min(b.first + b.size, a.display.viewTo + 500), function(f) {\n                if (b.frontier >= a.display.viewFrom) {\n                    var g = f.styles,\n                        h = If(a, f, d, !0);\n                    f.styles = h.styles;\n                    var i = f.styleClasses,\n                        j = h.classes;\n                    j ? f.styleClasses = j : i && (f.styleClasses = null);\n                    for (var k = !g || g.length != f.styles.length || i != j && (!i || !j || i.bgClass != j.bgClass || i.textClass != j.textClass), l = 0; !k && l < g.length; ++l) k = g[l] != f.styles[l];\n                    k && e.push(b.frontier), f.stateAfter = Ge(b.mode, d)\n                } else Kf(a, f.text, d), f.stateAfter = 0 == b.frontier % 5 ? Ge(b.mode, d) : null;\n                return ++b.frontier, +new Date > c ? (hc(a, a.options.workDelay), !0) : void 0\n            }), e.length && bd(a, function() {\n                for (var b = 0; b < e.length; b++) id(a, e[b], \"text\")\n            })\n        }\n    }\n\n    function jc(a, b, c) {\n        for (var d, e, f = a.doc, g = c ? -1 : b - (a.doc.mode.innerMode ? 1e3 : 100), h = b; h > g; --h) {\n            if (h <= f.first) return f.first;\n            var i = dg(f, h - 1);\n            if (i.stateAfter && (!c || h <= f.frontier)) return h;\n            var j = Wg(i.text, null, a.options.tabSize);\n            (null == e || d > j) && (e = h - 1, d = j)\n        }\n        return e\n    }\n\n    function kc(a, b, c) {\n        var d = a.doc,\n            e = a.display;\n        if (!d.mode.startState) return !0;\n        var f = jc(a, b, c),\n            g = f > d.first && dg(d, f - 1).stateAfter;\n        return g = g ? Ge(d.mode, g) : He(d.mode), d.iter(f, b, function(c) {\n            Kf(a, c.text, g);\n            var h = f == b - 1 || 0 == f % 5 || f >= e.viewFrom && f < e.viewTo;\n            c.stateAfter = h ? Ge(d.mode, g) : null, ++f\n        }), c && (d.frontier = f), g\n    }\n\n    function lc(a) {\n        return a.lineSpace.offsetTop\n    }\n\n    function mc(a) {\n        return a.mover.offsetHeight - a.lineSpace.offsetHeight\n    }\n\n    function nc(a) {\n        if (a.cachedPaddingH) return a.cachedPaddingH;\n        var b = ph(a.measure, mh(\"pre\", \"x\")),\n            c = window.getComputedStyle ? window.getComputedStyle(b) : b.currentStyle,\n            d = {\n                left: parseInt(c.paddingLeft),\n                right: parseInt(c.paddingRight)\n            };\n        return isNaN(d.left) || isNaN(d.right) || (a.cachedPaddingH = d), d\n    }\n\n    function oc(a) {\n        return Qg - a.display.nativeBarWidth\n    }\n\n    function pc(a) {\n        return a.display.scroller.clientWidth - oc(a) - a.display.barWidth\n    }\n\n    function qc(a) {\n        return a.display.scroller.clientHeight - oc(a) - a.display.barHeight\n    }\n\n    function rc(a, b, c) {\n        var d = a.options.lineWrapping,\n            e = d && pc(a);\n        if (!b.measure.heights || d && b.measure.width != e) {\n            var f = b.measure.heights = [];\n            if (d) {\n                b.measure.width = e;\n                for (var g = b.text.firstChild.getClientRects(), h = 0; h < g.length - 1; h++) {\n                    var i = g[h],\n                        j = g[h + 1];\n                    Math.abs(i.bottom - j.bottom) > 2 && f.push((i.bottom + j.top) / 2 - c.top)\n                }\n            }\n            f.push(c.bottom - c.top)\n        }\n    }\n\n    function sc(a, b, c) {\n        if (a.line == b) return {\n            map: a.measure.map,\n            cache: a.measure.cache\n        };\n        for (var d = 0; d < a.rest.length; d++)\n            if (a.rest[d] == b) return {\n                map: a.measure.maps[d],\n                cache: a.measure.caches[d]\n            };\n        for (var d = 0; d < a.rest.length; d++)\n            if (hg(a.rest[d]) > c) return {\n                map: a.measure.maps[d],\n                cache: a.measure.caches[d],\n                before: !0\n            }\n    }\n\n    function tc(a, b) {\n        b = qf(b);\n        var c = hg(b),\n            d = a.display.externalMeasured = new fd(a.doc, b, c);\n        d.lineN = c;\n        var e = d.built = Of(a, d);\n        return d.text = e.pre, ph(a.display.lineMeasure, e.pre), d\n    }\n\n    function uc(a, b, c, d) {\n        return xc(a, wc(a, b), c, d)\n    }\n\n    function vc(a, b) {\n        if (b >= a.display.viewFrom && b < a.display.viewTo) return a.display.view[kd(a, b)];\n        var c = a.display.externalMeasured;\n        return c && b >= c.lineN && b < c.lineN + c.size ? c : void 0\n    }\n\n    function wc(a, b) {\n        var c = hg(b),\n            d = vc(a, c);\n        d && !d.text ? d = null : d && d.changes && cb(a, d, c, ab(a)), d || (d = tc(a, b));\n        var e = sc(d, b, c);\n        return {\n            line: b,\n            view: d,\n            rect: null,\n            map: e.map,\n            cache: e.cache,\n            before: e.before,\n            hasHeights: !1\n        }\n    }\n\n    function xc(a, b, c, d, e) {\n        b.before && (c = -1);\n        var g, f = c + (d || \"\");\n        return b.cache.hasOwnProperty(f) ? g = b.cache[f] : (b.rect || (b.rect = b.view.text.getBoundingClientRect()), b.hasHeights || (rc(a, b.view, b.rect), b.hasHeights = !0), g = Ac(a, b, c, d), g.bogus || (b.cache[f] = g)), {\n            left: g.left,\n            right: g.right,\n            top: e ? g.rtop : g.top,\n            bottom: e ? g.rbottom : g.bottom\n        }\n    }\n\n    function zc(a, b, c) {\n        for (var d, e, f, g, h = 0; h < a.length; h += 3) {\n            var i = a[h],\n                j = a[h + 1];\n            if (i > b ? (e = 0, f = 1, g = \"left\") : j > b ? (e = b - i, f = e + 1) : (h == a.length - 3 || b == j && a[h + 3] > b) && (f = j - i, e = f - 1, b >= j && (g = \"right\")), null != e) {\n                if (d = a[h + 2], i == j && c == (d.insertLeft ? \"left\" : \"right\") && (g = c), \"left\" == c && 0 == e)\n                    for (; h && a[h - 2] == a[h - 3] && a[h - 1].insertLeft;) d = a[(h -= 3) + 2], g = \"left\";\n                if (\"right\" == c && e == j - i)\n                    for (; h < a.length - 3 && a[h + 3] == a[h + 4] && !a[h + 5].insertLeft;) d = a[(h += 3) + 2], g = \"right\";\n                break\n            }\n        }\n        return {\n            node: d,\n            start: e,\n            end: f,\n            collapse: g,\n            coverStart: i,\n            coverEnd: j\n        }\n    }\n\n    function Ac(a, b, c, f) {\n        var l, g = zc(b.map, c, f),\n            h = g.node,\n            i = g.start,\n            j = g.end,\n            k = g.collapse;\n        if (3 == h.nodeType) {\n            for (var m = 0; 4 > m; m++) {\n                for (; i && lh(b.line.text.charAt(g.coverStart + i));) --i;\n                for (; g.coverStart + j < g.coverEnd && lh(b.line.text.charAt(g.coverStart + j));) ++j;\n                if (d && 9 > e && 0 == i && j == g.coverEnd - g.coverStart) l = h.parentNode.getBoundingClientRect();\n                else if (d && a.options.lineWrapping) {\n                    var n = nh(h, i, j).getClientRects();\n                    l = n.length ? n[\"right\" == f ? n.length - 1 : 0] : yc\n                } else l = nh(h, i, j).getBoundingClientRect() || yc;\n                if (l.left || l.right || 0 == i) break;\n                j = i, i -= 1, k = \"right\"\n            }\n            d && 11 > e && (l = Bc(a.display.measure, l))\n        } else {\n            i > 0 && (k = f = \"right\");\n            var n;\n            l = a.options.lineWrapping && (n = h.getClientRects()).length > 1 ? n[\"right\" == f ? n.length - 1 : 0] : h.getBoundingClientRect()\n        }\n        if (d && 9 > e && !i && (!l || !l.left && !l.right)) {\n            var o = h.parentNode.getClientRects()[0];\n            l = o ? {\n                left: o.left,\n                right: o.left + Rc(a.display),\n                top: o.top,\n                bottom: o.bottom\n            } : yc\n        }\n        for (var p = l.top - b.rect.top, q = l.bottom - b.rect.top, r = (p + q) / 2, s = b.view.measure.heights, m = 0; m < s.length - 1 && !(r < s[m]); m++);\n        var t = m ? s[m - 1] : 0,\n            u = s[m],\n            v = {\n                left: (\"right\" == k ? l.right : l.left) - b.rect.left,\n                right: (\"left\" == k ? l.left : l.right) - b.rect.left,\n                top: t,\n                bottom: u\n            };\n        return l.left || l.right || (v.bogus = !0), a.options.singleCursorHeightPerLine || (v.rtop = p, v.rbottom = q), v\n    }\n\n    function Bc(a, b) {\n        if (!window.screen || null == screen.logicalXDPI || screen.logicalXDPI == screen.deviceXDPI || !Jh(a)) return b;\n        var c = screen.logicalXDPI / screen.deviceXDPI,\n            d = screen.logicalYDPI / screen.deviceYDPI;\n        return {\n            left: b.left * c,\n            right: b.right * c,\n            top: b.top * d,\n            bottom: b.bottom * d\n        }\n    }\n\n    function Cc(a) {\n        if (a.measure && (a.measure.cache = {}, a.measure.heights = null, a.rest))\n            for (var b = 0; b < a.rest.length; b++) a.measure.caches[b] = {}\n    }\n\n    function Dc(a) {\n        a.display.externalMeasure = null, oh(a.display.lineMeasure);\n        for (var b = 0; b < a.display.view.length; b++) Cc(a.display.view[b])\n    }\n\n    function Ec(a) {\n        Dc(a), a.display.cachedCharWidth = a.display.cachedTextHeight = a.display.cachedPaddingH = null, a.options.lineWrapping || (a.display.maxLineChanged = !0), a.display.lineNumChars = null\n    }\n\n    function Fc() {\n        return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n    }\n\n    function Gc() {\n        return window.pageYOffset || (document.documentElement || document.body).scrollTop\n    }\n\n    function Hc(a, b, c, d) {\n        if (b.widgets)\n            for (var e = 0; e < b.widgets.length; ++e)\n                if (b.widgets[e].above) {\n                    var f = yf(b.widgets[e]);\n                    c.top += f, c.bottom += f\n                } if (\"line\" == d) return c;\n        d || (d = \"local\");\n        var g = jg(b);\n        if (\"local\" == d ? g += lc(a.display) : g -= a.display.viewOffset, \"page\" == d || \"window\" == d) {\n            var h = a.display.lineSpace.getBoundingClientRect();\n            g += h.top + (\"window\" == d ? 0 : Gc());\n            var i = h.left + (\"window\" == d ? 0 : Fc());\n            c.left += i, c.right += i\n        }\n        return c.top += g, c.bottom += g, c\n    }\n\n    function Ic(a, b, c) {\n        if (\"div\" == c) return b;\n        var d = b.left,\n            e = b.top;\n        if (\"page\" == c) d -= Fc(), e -= Gc();\n        else if (\"local\" == c || !c) {\n            var f = a.display.sizer.getBoundingClientRect();\n            d += f.left, e += f.top\n        }\n        var g = a.display.lineSpace.getBoundingClientRect();\n        return {\n            left: d - g.left,\n            top: e - g.top\n        }\n    }\n\n    function Jc(a, b, c, d, e) {\n        return d || (d = dg(a.doc, b.line)), Hc(a, d, uc(a, d, b.ch, e), c)\n    }\n\n    function Kc(a, b, c, d, e, f) {\n        function g(b, g) {\n            var h = xc(a, e, b, g ? \"right\" : \"left\", f);\n            return g ? h.left = h.right : h.right = h.left, Hc(a, d, h, c)\n        }\n\n        function h(a, b) {\n            var c = i[b],\n                d = c.level % 2;\n            return a == Mh(c) && b && c.level < i[b - 1].level ? (c = i[--b], a = Nh(c) - (c.level % 2 ? 0 : 1), d = !0) : a == Nh(c) && b < i.length - 1 && c.level < i[b + 1].level && (c = i[++b], a = Mh(c) - c.level % 2, d = !1), d && a == c.to && a > c.from ? g(a - 1) : g(a, d)\n        }\n        d = d || dg(a.doc, b.line), e || (e = wc(a, d));\n        var i = kg(d),\n            j = b.ch;\n        if (!i) return g(j);\n        var k = Vh(i, j),\n            l = h(j, k);\n        return null != Uh && (l.other = h(j, Uh)), l\n    }\n\n    function Lc(a, b) {\n        var c = 0,\n            b = Nb(a.doc, b);\n        a.options.lineWrapping || (c = Rc(a.display) * b.ch);\n        var d = dg(a.doc, b.line),\n            e = jg(d) + lc(a.display);\n        return {\n            left: c,\n            right: c,\n            top: e,\n            bottom: e + d.height\n        }\n    }\n\n    function Mc(a, b, c, d) {\n        var e = ob(a, b);\n        return e.xRel = d, c && (e.outside = !0), e\n    }\n\n    function Nc(a, b, c) {\n        var d = a.doc;\n        if (c += a.display.viewOffset, 0 > c) return Mc(d.first, 0, !0, -1);\n        var e = ig(d, c),\n            f = d.first + d.size - 1;\n        if (e > f) return Mc(d.first + d.size - 1, dg(d, f).text.length, !0, 1);\n        0 > b && (b = 0);\n        for (var g = dg(d, e);;) {\n            var h = Oc(a, g, e, b, c),\n                i = of (g),\n                j = i && i.find(0, !0);\n            if (!i || !(h.ch > j.from.ch || h.ch == j.from.ch && h.xRel > 0)) return h;\n            e = hg(g = j.to.line)\n        }\n    }\n\n    function Oc(a, b, c, d, e) {\n        function j(d) {\n            var e = Kc(a, ob(c, d), \"line\", b, i);\n            return g = !0, f > e.bottom ? e.left - h : f < e.top ? e.left + h : (g = !1, e.left)\n        }\n        var f = e - jg(b),\n            g = !1,\n            h = 2 * a.display.wrapper.clientWidth,\n            i = wc(a, b),\n            k = kg(b),\n            l = b.text.length,\n            m = Oh(b),\n            n = Ph(b),\n            o = j(m),\n            p = g,\n            q = j(n),\n            r = g;\n        if (d > q) return Mc(c, n, r, 1);\n        for (;;) {\n            if (k ? n == m || n == Xh(b, m, 1) : 1 >= n - m) {\n                for (var s = o > d || q - d >= d - o ? m : n, t = d - (s == m ? o : q); lh(b.text.charAt(s));) ++s;\n                var u = Mc(c, s, s == m ? p : r, -1 > t ? -1 : t > 1 ? 1 : 0);\n                return u\n            }\n            var v = Math.ceil(l / 2),\n                w = m + v;\n            if (k) {\n                w = m;\n                for (var x = 0; v > x; ++x) w = Xh(b, w, 1)\n            }\n            var y = j(w);\n            y > d ? (n = w, q = y, (r = g) && (q += 1e3), l = v) : (m = w, o = y, p = g, l -= v)\n        }\n    }\n\n    function Qc(a) {\n        if (null != a.cachedTextHeight) return a.cachedTextHeight;\n        if (null == Pc) {\n            Pc = mh(\"pre\");\n            for (var b = 0; 49 > b; ++b) Pc.appendChild(document.createTextNode(\"x\")), Pc.appendChild(mh(\"br\"));\n            Pc.appendChild(document.createTextNode(\"x\"))\n        }\n        ph(a.measure, Pc);\n        var c = Pc.offsetHeight / 50;\n        return c > 3 && (a.cachedTextHeight = c), oh(a.measure), c || 1\n    }\n\n    function Rc(a) {\n        if (null != a.cachedCharWidth) return a.cachedCharWidth;\n        var b = mh(\"span\", \"xxxxxxxxxx\"),\n            c = mh(\"pre\", [b]);\n        ph(a.measure, c);\n        var d = b.getBoundingClientRect(),\n            e = (d.right - d.left) / 10;\n        return e > 2 && (a.cachedCharWidth = e), e || 10\n    }\n\n    function Uc(a) {\n        a.curOp = {\n            cm: a,\n            viewChanged: !1,\n            startHeight: a.doc.height,\n            forceUpdate: !1,\n            updateInput: null,\n            typing: !1,\n            changeObjs: null,\n            cursorActivityHandlers: null,\n            cursorActivityCalled: 0,\n            selectionChanged: !1,\n            updateMaxLine: !1,\n            scrollLeft: null,\n            scrollTop: null,\n            scrollToPos: null,\n            focus: !1,\n            id: ++Tc\n        }, Sc ? Sc.ops.push(a.curOp) : a.curOp.ownsGroup = Sc = {\n            ops: [a.curOp],\n            delayedCallbacks: []\n        }\n    }\n\n    function Vc(a) {\n        var b = a.delayedCallbacks,\n            c = 0;\n        do {\n            for (; c < b.length; c++) b[c]();\n            for (var d = 0; d < a.ops.length; d++) {\n                var e = a.ops[d];\n                if (e.cursorActivityHandlers)\n                    for (; e.cursorActivityCalled < e.cursorActivityHandlers.length;) e.cursorActivityHandlers[e.cursorActivityCalled++](e.cm)\n            }\n        } while (c < b.length)\n    }\n\n    function Wc(a) {\n        var b = a.curOp,\n            c = b.ownsGroup;\n        if (c) try {\n            Vc(c)\n        } finally {\n            Sc = null;\n            for (var d = 0; d < c.ops.length; d++) c.ops[d].cm.curOp = null;\n            Xc(c)\n        }\n    }\n\n    function Xc(a) {\n        for (var b = a.ops, c = 0; c < b.length; c++) Yc(b[c]);\n        for (var c = 0; c < b.length; c++) Zc(b[c]);\n        for (var c = 0; c < b.length; c++) $c(b[c]);\n        for (var c = 0; c < b.length; c++) _c(b[c]);\n        for (var c = 0; c < b.length; c++) ad(b[c])\n    }\n\n    function Yc(a) {\n        var b = a.cm,\n            c = b.display;\n        V(b), a.updateMaxLine && H(b), a.mustUpdate = a.viewChanged || a.forceUpdate || null != a.scrollTop || a.scrollToPos && (a.scrollToPos.from.line < c.viewFrom || a.scrollToPos.to.line >= c.viewTo) || c.maxLineChanged && b.options.lineWrapping, a.update = a.mustUpdate && new U(b, a.mustUpdate && {\n            top: a.scrollTop,\n            ensure: a.scrollToPos\n        }, a.forceUpdate)\n    }\n\n    function Zc(a) {\n        a.updatedDisplay = a.mustUpdate && W(a.cm, a.update)\n    }\n\n    function $c(a) {\n        var b = a.cm,\n            c = b.display;\n        a.updatedDisplay && $(b), a.barMeasure = J(b), c.maxLineChanged && !b.options.lineWrapping && (a.adjustWidthTo = uc(b, c.maxLine, c.maxLine.text.length).left + 3, b.display.sizerWidth = a.adjustWidthTo, a.barMeasure.scrollWidth = Math.max(c.scroller.clientWidth, c.sizer.offsetLeft + a.adjustWidthTo + oc(b) + b.display.barWidth), a.maxScrollLeft = Math.max(0, c.sizer.offsetLeft + a.adjustWidthTo - pc(b))), (a.updatedDisplay || a.selectionChanged) && (a.preparedSelection = c.input.prepareSelection())\n    }\n\n    function _c(a) {\n        var b = a.cm;\n        null != a.adjustWidthTo && (b.display.sizer.style.minWidth = a.adjustWidthTo + \"px\", a.maxScrollLeft < b.doc.scrollLeft && Fd(b, Math.min(b.display.scroller.scrollLeft, a.maxScrollLeft), !0), b.display.maxLineChanged = !1), a.preparedSelection && b.display.input.showSelection(a.preparedSelection), a.updatedDisplay && Z(b, a.barMeasure), (a.updatedDisplay || a.startHeight != b.doc.height) && N(b, a.barMeasure), a.selectionChanged && gc(b), b.state.focused && a.updateInput && b.display.input.reset(a.typing), a.focus && a.focus == rh() && tb(a.cm)\n    }\n\n    function ad(a) {\n        var b = a.cm,\n            c = b.display,\n            d = b.doc;\n        if (a.updatedDisplay && X(b, a.update), null == c.wheelStartX || null == a.scrollTop && null == a.scrollLeft && !a.scrollToPos || (c.wheelStartX = c.wheelStartY = null), null == a.scrollTop || c.scroller.scrollTop == a.scrollTop && !a.forceScroll || (d.scrollTop = Math.max(0, Math.min(c.scroller.scrollHeight - c.scroller.clientHeight, a.scrollTop)), c.scrollbars.setScrollTop(d.scrollTop), c.scroller.scrollTop = d.scrollTop), null == a.scrollLeft || c.scroller.scrollLeft == a.scrollLeft && !a.forceScroll || (d.scrollLeft = Math.max(0, Math.min(c.scroller.scrollWidth - pc(b), a.scrollLeft)), c.scrollbars.setScrollLeft(d.scrollLeft), c.scroller.scrollLeft = d.scrollLeft, Q(b)), a.scrollToPos) {\n            var e = me(b, Nb(d, a.scrollToPos.from), Nb(d, a.scrollToPos.to), a.scrollToPos.margin);\n            a.scrollToPos.isCursor && b.state.focused && le(b, e)\n        }\n        var f = a.maybeHiddenMarkers,\n            g = a.maybeUnhiddenMarkers;\n        if (f)\n            for (var h = 0; h < f.length; ++h) f[h].lines.length || Ig(f[h], \"hide\");\n        if (g)\n            for (var h = 0; h < g.length; ++h) g[h].lines.length && Ig(g[h], \"unhide\");\n        c.wrapper.offsetHeight && (d.scrollTop = b.display.scroller.scrollTop), a.changeObjs && Ig(b, \"changes\", b, a.changeObjs), a.update && a.update.finish()\n    }\n\n    function bd(a, b) {\n        if (a.curOp) return b();\n        Uc(a);\n        try {\n            return b()\n        } finally {\n            Wc(a)\n        }\n    }\n\n    function cd(a, b) {\n        return function() {\n            if (a.curOp) return b.apply(a, arguments);\n            Uc(a);\n            try {\n                return b.apply(a, arguments)\n            } finally {\n                Wc(a)\n            }\n        }\n    }\n\n    function dd(a) {\n        return function() {\n            if (this.curOp) return a.apply(this, arguments);\n            Uc(this);\n            try {\n                return a.apply(this, arguments)\n            } finally {\n                Wc(this)\n            }\n        }\n    }\n\n    function ed(a) {\n        return function() {\n            var b = this.cm;\n            if (!b || b.curOp) return a.apply(this, arguments);\n            Uc(b);\n            try {\n                return a.apply(this, arguments)\n            } finally {\n                Wc(b)\n            }\n        }\n    }\n\n    function fd(a, b, c) {\n        this.line = b, this.rest = rf(b), this.size = this.rest ? hg($g(this.rest)) - c + 1 : 1, this.node = this.text = null, this.hidden = uf(a, b)\n    }\n\n    function gd(a, b, c) {\n        for (var e, d = [], f = b; c > f; f = e) {\n            var g = new fd(a.doc, dg(a.doc, f), f);\n            e = f + g.size, d.push(g)\n        }\n        return d\n    }\n\n    function hd(a, b, c, d) {\n        null == b && (b = a.doc.first), null == c && (c = a.doc.first + a.doc.size), d || (d = 0);\n        var e = a.display;\n        if (d && c < e.viewTo && (null == e.updateLineNumbers || e.updateLineNumbers > b) && (e.updateLineNumbers = b), a.curOp.viewChanged = !0, b >= e.viewTo) u && sf(a.doc, b) < e.viewTo && jd(a);\n        else if (c <= e.viewFrom) u && tf(a.doc, c + d) > e.viewFrom ? jd(a) : (e.viewFrom += d, e.viewTo += d);\n        else if (b <= e.viewFrom && c >= e.viewTo) jd(a);\n        else if (b <= e.viewFrom) {\n            var f = ld(a, c, c + d, 1);\n            f ? (e.view = e.view.slice(f.index), e.viewFrom = f.lineN, e.viewTo += d) : jd(a)\n        } else if (c >= e.viewTo) {\n            var f = ld(a, b, b, -1);\n            f ? (e.view = e.view.slice(0, f.index), e.viewTo = f.lineN) : jd(a)\n        } else {\n            var g = ld(a, b, b, -1),\n                h = ld(a, c, c + d, 1);\n            g && h ? (e.view = e.view.slice(0, g.index).concat(gd(a, g.lineN, h.lineN)).concat(e.view.slice(h.index)), e.viewTo += d) : jd(a)\n        }\n        var i = e.externalMeasured;\n        i && (c < i.lineN ? i.lineN += d : b < i.lineN + i.size && (e.externalMeasured = null))\n    }\n\n    function id(a, b, c) {\n        a.curOp.viewChanged = !0;\n        var d = a.display,\n            e = a.display.externalMeasured;\n        if (e && b >= e.lineN && b < e.lineN + e.size && (d.externalMeasured = null), !(b < d.viewFrom || b >= d.viewTo)) {\n            var f = d.view[kd(a, b)];\n            if (null != f.node) {\n                var g = f.changes || (f.changes = []); - 1 == ah(g, c) && g.push(c)\n            }\n        }\n    }\n\n    function jd(a) {\n        a.display.viewFrom = a.display.viewTo = a.doc.first, a.display.view = [], a.display.viewOffset = 0\n    }\n\n    function kd(a, b) {\n        if (b >= a.display.viewTo) return null;\n        if (b -= a.display.viewFrom, 0 > b) return null;\n        for (var c = a.display.view, d = 0; d < c.length; d++)\n            if (b -= c[d].size, 0 > b) return d\n    }\n\n    function ld(a, b, c, d) {\n        var f, e = kd(a, b),\n            g = a.display.view;\n        if (!u || c == a.doc.first + a.doc.size) return {\n            index: e,\n            lineN: c\n        };\n        for (var h = 0, i = a.display.viewFrom; e > h; h++) i += g[h].size;\n        if (i != b) {\n            if (d > 0) {\n                if (e == g.length - 1) return null;\n                f = i + g[e].size - b, e++\n            } else f = i - b;\n            b += f, c += f\n        }\n        for (; sf(a.doc, c) != c;) {\n            if (e == (0 > d ? 0 : g.length - 1)) return null;\n            c += d * g[e - (0 > d ? 1 : 0)].size, e += d\n        }\n        return {\n            index: e,\n            lineN: c\n        }\n    }\n\n    function md(a, b, c) {\n        var d = a.display,\n            e = d.view;\n        0 == e.length || b >= d.viewTo || c <= d.viewFrom ? (d.view = gd(a, b, c), d.viewFrom = b) : (d.viewFrom > b ? d.view = gd(a, b, d.viewFrom).concat(d.view) : d.viewFrom < b && (d.view = d.view.slice(kd(a, b))), d.viewFrom = b, d.viewTo < c ? d.view = d.view.concat(gd(a, d.viewTo, c)) : d.viewTo > c && (d.view = d.view.slice(0, kd(a, c)))), d.viewTo = c\n    }\n\n    function nd(a) {\n        for (var b = a.display.view, c = 0, d = 0; d < b.length; d++) {\n            var e = b[d];\n            e.hidden || e.node && !e.changes || ++c\n        }\n        return c\n    }\n\n    function od(a) {\n        function g() {\n            b.activeTouch && (c = setTimeout(function() {\n                b.activeTouch = null\n            }, 1e3), f = b.activeTouch, f.end = +new Date)\n        }\n\n        function h(a) {\n            if (1 != a.touches.length) return !1;\n            var b = a.touches[0];\n            return b.radiusX <= 1 && b.radiusY <= 1\n        }\n\n        function i(a, b) {\n            if (null == b.left) return !0;\n            var c = b.left - a.left,\n                d = b.top - a.top;\n            return c * c + d * d > 400\n        }\n        var b = a.display;\n        Gg(b.scroller, \"mousedown\", cd(a, td)), d && 11 > e ? Gg(b.scroller, \"dblclick\", cd(a, function(b) {\n            if (!Mg(a, b)) {\n                var c = sd(a, b);\n                if (c && !Ad(a, b) && !rd(a.display, b)) {\n                    Ag(b);\n                    var d = a.findWordAt(c);\n                    Sb(a.doc, d.anchor, d.head)\n                }\n            }\n        })) : Gg(b.scroller, \"dblclick\", function(b) {\n            Mg(a, b) || Ag(b)\n        }), s || Gg(b.scroller, \"contextmenu\", function(b) {\n            Yd(a, b)\n        });\n        var c, f = {\n            end: 0\n        };\n        Gg(b.scroller, \"touchstart\", function(a) {\n            if (!h(a)) {\n                clearTimeout(c);\n                var d = +new Date;\n                b.activeTouch = {\n                    start: d,\n                    moved: !1,\n                    prev: d - f.end <= 300 ? f : null\n                }, 1 == a.touches.length && (b.activeTouch.left = a.touches[0].pageX, b.activeTouch.top = a.touches[0].pageY)\n            }\n        }), Gg(b.scroller, \"touchmove\", function() {\n            b.activeTouch && (b.activeTouch.moved = !0)\n        }), Gg(b.scroller, \"touchend\", function(c) {\n            var d = b.activeTouch;\n            if (d && !rd(b, c) && null != d.left && !d.moved && new Date - d.start < 300) {\n                var f, e = a.coordsChar(b.activeTouch, \"page\");\n                f = !d.prev || i(d, d.prev) ? new Jb(e, e) : !d.prev.prev || i(d, d.prev.prev) ? a.findWordAt(e) : new Jb(ob(e.line, 0), Nb(a.doc, ob(e.line + 1, 0))), a.setSelection(f.anchor, f.head), a.focus(), Ag(c)\n            }\n            g()\n        }), Gg(b.scroller, \"touchcancel\", g), Gg(b.scroller, \"scroll\", function() {\n            b.scroller.clientHeight && (Ed(a, b.scroller.scrollTop), Fd(a, b.scroller.scrollLeft, !0), Ig(a, \"scroll\", a))\n        }), Gg(b.scroller, \"mousewheel\", function(b) {\n            Jd(a, b)\n        }), Gg(b.scroller, \"DOMMouseScroll\", function(b) {\n            Jd(a, b)\n        }), Gg(b.wrapper, \"scroll\", function() {\n            b.wrapper.scrollTop = b.wrapper.scrollLeft = 0\n        }), b.dragFunctions = {\n            simple: function(b) {\n                Mg(a, b) || Dg(b)\n            },\n            start: function(b) {\n                Dd(a, b)\n            },\n            drop: cd(a, Cd)\n        };\n        var j = b.input.getField();\n        Gg(j, \"keyup\", function(b) {\n            Td.call(a, b)\n        }), Gg(j, \"keydown\", cd(a, Rd)), Gg(j, \"keypress\", cd(a, Ud)), Gg(j, \"focus\", fh(Wd, a)), Gg(j, \"blur\", fh(Xd, a))\n    }\n\n    function pd(a, b, c) {\n        var d = c && c != v.Init;\n        if (!b != !d) {\n            var e = a.display.dragFunctions,\n                f = b ? Gg : Hg;\n            f(a.display.scroller, \"dragstart\", e.start), f(a.display.scroller, \"dragenter\", e.simple), f(a.display.scroller, \"dragover\", e.simple), f(a.display.scroller, \"drop\", e.drop)\n        }\n    }\n\n    function qd(a) {\n        var b = a.display;\n        (b.lastWrapHeight != b.wrapper.clientHeight || b.lastWrapWidth != b.wrapper.clientWidth) && (b.cachedCharWidth = b.cachedTextHeight = b.cachedPaddingH = null, b.scrollbarsClipped = !1, a.setSize())\n    }\n\n    function rd(a, b) {\n        for (var c = Eg(b); c != a.wrapper; c = c.parentNode)\n            if (!c || 1 == c.nodeType && \"true\" == c.getAttribute(\"cm-ignore-events\") || c.parentNode == a.sizer && c != a.mover) return !0\n    }\n\n    function sd(a, b, c, d) {\n        var e = a.display;\n        if (!c && \"true\" == Eg(b).getAttribute(\"cm-not-content\")) return null;\n        var f, g, h = e.lineSpace.getBoundingClientRect();\n        try {\n            f = b.clientX - h.left, g = b.clientY - h.top\n        } catch (b) {\n            return null\n        }\n        var j, i = Nc(a, f, g);\n        if (d && 1 == i.xRel && (j = dg(a.doc, i.line).text).length == i.ch) {\n            var k = Wg(j, j.length, a.options.tabSize) - j.length;\n            i = ob(i.line, Math.max(0, Math.round((f - nc(a.display).left) / Rc(a.display)) - k))\n        }\n        return i\n    }\n\n    function td(a) {\n        var b = this,\n            c = b.display;\n        if (!(c.activeTouch && c.input.supportsTouch() || Mg(b, a))) {\n            if (c.shift = a.shiftKey, rd(c, a)) return f || (c.scroller.draggable = !1, setTimeout(function() {\n                c.scroller.draggable = !0\n            }, 100)), void 0;\n            if (!Ad(b, a)) {\n                var d = sd(b, a);\n                switch (window.focus(), Fg(a)) {\n                    case 1:\n                        d ? wd(b, a, d) : Eg(a) == c.scroller && Ag(a);\n                        break;\n                    case 2:\n                        f && (b.state.lastMiddleDown = +new Date), d && Sb(b.doc, d), setTimeout(function() {\n                            c.input.focus()\n                        }, 20), Ag(a);\n                        break;\n                    case 3:\n                        s ? Yd(b, a) : Vd(b)\n                }\n            }\n        }\n    }\n\n    function wd(a, b, c) {\n        d ? setTimeout(fh(tb, a), 0) : a.curOp.focus = rh();\n        var f, e = +new Date;\n        vd && vd.time > e - 400 && 0 == pb(vd.pos, c) ? f = \"triple\" : ud && ud.time > e - 400 && 0 == pb(ud.pos, c) ? (f = \"double\", vd = {\n            time: e,\n            pos: c\n        }) : (f = \"single\", ud = {\n            time: e,\n            pos: c\n        });\n        var i, g = a.doc.sel,\n            h = o ? b.metaKey : b.ctrlKey;\n        a.options.dragDrop && Ah && !ub(a) && \"single\" == f && (i = g.contains(c)) > -1 && !g.ranges[i].empty() ? xd(a, b, c, h) : yd(a, b, c, f, h)\n    }\n\n    function xd(a, b, c, g) {\n        var h = a.display,\n            i = +new Date,\n            j = cd(a, function(k) {\n                f && (h.scroller.draggable = !1), a.state.draggingText = !1, Hg(document, \"mouseup\", j), Hg(h.scroller, \"drop\", j), Math.abs(b.clientX - k.clientX) + Math.abs(b.clientY - k.clientY) < 10 && (Ag(k), !g && +new Date - 200 < i && Sb(a.doc, c), f || d && 9 == e ? setTimeout(function() {\n                    document.body.focus(), h.input.focus()\n                }, 20) : h.input.focus())\n            });\n        f && (h.scroller.draggable = !0), a.state.draggingText = j, h.scroller.dragDrop && h.scroller.dragDrop(), Gg(document, \"mouseup\", j), Gg(h.scroller, \"drop\", j)\n    }\n\n    function yd(a, b, c, d, e) {\n        function o(b) {\n            if (0 != pb(n, b))\n                if (n = b, \"rect\" == d) {\n                    for (var e = [], f = a.options.tabSize, k = Wg(dg(g, c.line).text, c.ch, f), l = Wg(dg(g, b.line).text, b.ch, f), m = Math.min(k, l), o = Math.max(k, l), p = Math.min(c.line, b.line), q = Math.min(a.lastLine(), Math.max(c.line, b.line)); q >= p; p++) {\n                        var r = dg(g, p).text,\n                            s = Xg(r, m, f);\n                        m == o ? e.push(new Jb(ob(p, s), ob(p, s))) : r.length > s && e.push(new Jb(ob(p, s), ob(p, Xg(r, o, f))))\n                    }\n                    e.length || e.push(new Jb(c, c)), Yb(g, Kb(j.ranges.slice(0, i).concat(e), i), {\n                        origin: \"*mouse\",\n                        scroll: !1\n                    }), a.scrollIntoView(b)\n                } else {\n                    var t = h,\n                        u = t.anchor,\n                        v = b;\n                    if (\"single\" != d) {\n                        if (\"double\" == d) var w = a.findWordAt(b);\n                        else var w = new Jb(ob(b.line, 0), Nb(g, ob(b.line + 1, 0)));\n                        pb(w.anchor, u) > 0 ? (v = w.head, u = sb(t.from(), w.anchor)) : (v = w.anchor, u = rb(t.to(), w.head))\n                    }\n                    var e = j.ranges.slice(0);\n                    e[i] = new Jb(Nb(g, u), v), Yb(g, Kb(e, i), Tg)\n                }\n        }\n\n        function r(b) {\n            var c = ++q,\n                e = sd(a, b, !0, \"rect\" == d);\n            if (e)\n                if (0 != pb(e, n)) {\n                    a.curOp.focus = rh(), o(e);\n                    var h = P(f, g);\n                    (e.line >= h.to || e.line < h.from) && setTimeout(cd(a, function() {\n                        q == c && r(b)\n                    }), 150)\n                } else {\n                    var i = b.clientY < p.top ? -20 : b.clientY > p.bottom ? 20 : 0;\n                    i && setTimeout(cd(a, function() {\n                        q == c && (f.scroller.scrollTop += i, r(b))\n                    }), 50)\n                }\n        }\n\n        function s(a) {\n            q = 1 / 0, Ag(a), f.input.focus(), Hg(document, \"mousemove\", t), Hg(document, \"mouseup\", u), g.history.lastSelOrigin = null\n        }\n        var f = a.display,\n            g = a.doc;\n        Ag(b);\n        var h, i, j = g.sel,\n            k = j.ranges;\n        if (e && !b.shiftKey ? (i = g.sel.contains(c), h = i > -1 ? k[i] : new Jb(c, c)) : (h = g.sel.primary(), i = g.sel.primIndex), b.altKey) d = \"rect\", e || (h = new Jb(c, c)), c = sd(a, b, !0, !0), i = -1;\n        else if (\"double\" == d) {\n            var l = a.findWordAt(c);\n            h = a.display.shift || g.extend ? Rb(g, h, l.anchor, l.head) : l\n        } else if (\"triple\" == d) {\n            var m = new Jb(ob(c.line, 0), Nb(g, ob(c.line + 1, 0)));\n            h = a.display.shift || g.extend ? Rb(g, h, m.anchor, m.head) : m\n        } else h = Rb(g, h, c);\n        e ? -1 == i ? (i = k.length, Yb(g, Kb(k.concat([h]), i), {\n            scroll: !1,\n            origin: \"*mouse\"\n        })) : k.length > 1 && k[i].empty() && \"single\" == d && !b.shiftKey ? (Yb(g, Kb(k.slice(0, i).concat(k.slice(i + 1)), 0)), j = g.sel) : Ub(g, i, h, Tg) : (i = 0, Yb(g, new Ib([h], 0), Tg), j = g.sel);\n        var n = c,\n            p = f.wrapper.getBoundingClientRect(),\n            q = 0,\n            t = cd(a, function(a) {\n                Fg(a) ? r(a) : s(a)\n            }),\n            u = cd(a, s);\n        Gg(document, \"mousemove\", t), Gg(document, \"mouseup\", u)\n    }\n\n    function zd(a, b, c, d, e) {\n        try {\n            var f = b.clientX,\n                g = b.clientY\n        } catch (b) {\n            return !1\n        }\n        if (f >= Math.floor(a.display.gutters.getBoundingClientRect().right)) return !1;\n        d && Ag(b);\n        var h = a.display,\n            i = h.lineDiv.getBoundingClientRect();\n        if (g > i.bottom || !Og(a, c)) return Cg(b);\n        g -= i.top - h.viewOffset;\n        for (var j = 0; j < a.options.gutters.length; ++j) {\n            var k = h.gutters.childNodes[j];\n            if (k && k.getBoundingClientRect().right >= f) {\n                var l = ig(a.doc, g),\n                    m = a.options.gutters[j];\n                return e(a, c, a, l, m, b), Cg(b)\n            }\n        }\n    }\n\n    function Ad(a, b) {\n        return zd(a, b, \"gutterClick\", !0, Kg)\n    }\n\n    function Cd(a) {\n        var b = this;\n        if (!Mg(b, a) && !rd(b.display, a)) {\n            Ag(a), d && (Bd = +new Date);\n            var c = sd(b, a, !0),\n                e = a.dataTransfer.files;\n            if (c && !ub(b))\n                if (e && e.length && window.FileReader && window.File)\n                    for (var f = e.length, g = Array(f), h = 0, i = function(a, d) {\n                            var e = new FileReader;\n                            e.onload = cd(b, function() {\n                                if (g[d] = e.result, ++h == f) {\n                                    c = Nb(b.doc, c);\n                                    var a = {\n                                        from: c,\n                                        to: c,\n                                        text: Fh(g.join(\"\\n\")),\n                                        origin: \"paste\"\n                                    };\n                                    ee(b.doc, a), Xb(b.doc, Lb(c, $d(a)))\n                                }\n                            }), e.readAsText(a)\n                        }, j = 0; f > j; ++j) i(e[j], j);\n                else {\n                    if (b.state.draggingText && b.doc.sel.contains(c) > -1) return b.state.draggingText(a), setTimeout(function() {\n                        b.display.input.focus()\n                    }, 20), void 0;\n                    try {\n                        var g = a.dataTransfer.getData(\"Text\");\n                        if (g) {\n                            if (b.state.draggingText && !(o ? a.altKey : a.ctrlKey)) var k = b.listSelections();\n                            if (Zb(b.doc, Lb(c, c)), k)\n                                for (var j = 0; j < k.length; ++j) ke(b.doc, \"\", k[j].anchor, k[j].head, \"drag\");\n                            b.replaceSelection(g, \"around\", \"paste\"), b.display.input.focus()\n                        }\n                    } catch (a) {}\n                }\n        }\n    }\n\n    function Dd(a, b) {\n        if (d && (!a.state.draggingText || +new Date - Bd < 100)) return Dg(b), void 0;\n        if (!Mg(a, b) && !rd(a.display, b) && (b.dataTransfer.setData(\"Text\", a.getSelection()), b.dataTransfer.setDragImage && !j)) {\n            var c = mh(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n            c.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\", i && (c.width = c.height = 1, a.display.wrapper.appendChild(c), c._top = c.offsetTop), b.dataTransfer.setDragImage(c, 0, 0), i && c.parentNode.removeChild(c)\n        }\n    }\n\n    function Ed(b, c) {\n        Math.abs(b.doc.scrollTop - c) < 2 || (b.doc.scrollTop = c, a || Y(b, {\n            top: c\n        }), b.display.scroller.scrollTop != c && (b.display.scroller.scrollTop = c), b.display.scrollbars.setScrollTop(c), a && Y(b), hc(b, 100))\n    }\n\n    function Fd(a, b, c) {\n        (c ? b == a.doc.scrollLeft : Math.abs(a.doc.scrollLeft - b) < 2) || (b = Math.min(b, a.display.scroller.scrollWidth - a.display.scroller.clientWidth), a.doc.scrollLeft = b, Q(a), a.display.scroller.scrollLeft != b && (a.display.scroller.scrollLeft = b), a.display.scrollbars.setScrollLeft(b))\n    }\n\n    function Jd(b, c) {\n        var d = Id(c),\n            e = d.x,\n            g = d.y,\n            h = b.display,\n            j = h.scroller;\n        if (e && j.scrollWidth > j.clientWidth || g && j.scrollHeight > j.clientHeight) {\n            if (g && o && f) a: for (var k = c.target, l = h.view; k != j; k = k.parentNode)\n                for (var m = 0; m < l.length; m++)\n                    if (l[m].node == k) {\n                        b.display.currentWheelTarget = k;\n                        break a\n                    } if (e && !a && !i && null != Hd) return g && Ed(b, Math.max(0, Math.min(j.scrollTop + g * Hd, j.scrollHeight - j.clientHeight))), Fd(b, Math.max(0, Math.min(j.scrollLeft + e * Hd, j.scrollWidth - j.clientWidth))), Ag(c), h.wheelStartX = null, void 0;\n            if (g && null != Hd) {\n                var n = g * Hd,\n                    p = b.doc.scrollTop,\n                    q = p + h.wrapper.clientHeight;\n                0 > n ? p = Math.max(0, p + n - 50) : q = Math.min(b.doc.height, q + n + 50), Y(b, {\n                    top: p,\n                    bottom: q\n                })\n            }\n            20 > Gd && (null == h.wheelStartX ? (h.wheelStartX = j.scrollLeft, h.wheelStartY = j.scrollTop, h.wheelDX = e, h.wheelDY = g, setTimeout(function() {\n                if (null != h.wheelStartX) {\n                    var a = j.scrollLeft - h.wheelStartX,\n                        b = j.scrollTop - h.wheelStartY,\n                        c = b && h.wheelDY && b / h.wheelDY || a && h.wheelDX && a / h.wheelDX;\n                    h.wheelStartX = h.wheelStartY = null, c && (Hd = (Hd * Gd + c) / (Gd + 1), ++Gd)\n                }\n            }, 200)) : (h.wheelDX += e, h.wheelDY += g))\n        }\n    }\n\n    function Kd(a, b, c) {\n        if (\"string\" == typeof b && (b = Ie[b], !b)) return !1;\n        a.display.input.ensurePolled();\n        var d = a.display.shift,\n            e = !1;\n        try {\n            ub(a) && (a.state.suppressEdits = !0), c && (a.display.shift = !1), e = b(a) != Rg\n        } finally {\n            a.display.shift = d, a.state.suppressEdits = !1\n        }\n        return e\n    }\n\n    function Ld(a, b, c) {\n        for (var d = 0; d < a.state.keyMaps.length; d++) {\n            var e = Le(b, a.state.keyMaps[d], c, a);\n            if (e) return e\n        }\n        return a.options.extraKeys && Le(b, a.options.extraKeys, c, a) || Le(b, a.options.keyMap, c, a)\n    }\n\n    function Nd(a, b, c, d) {\n        var e = a.state.keySeq;\n        if (e) {\n            if (Me(b)) return \"handled\";\n            Md.set(50, function() {\n                a.state.keySeq == e && (a.state.keySeq = null, a.display.input.reset())\n            }), b = e + \" \" + b\n        }\n        var f = Ld(a, b, d);\n        return \"multi\" == f && (a.state.keySeq = b), \"handled\" == f && Kg(a, \"keyHandled\", a, b, c), (\"handled\" == f || \"multi\" == f) && (Ag(c), gc(a)), e && !f && /\\'$/.test(b) ? (Ag(c), !0) : !!f\n    }\n\n    function Od(a, b) {\n        var c = Ne(b, !0);\n        return c ? b.shiftKey && !a.state.keySeq ? Nd(a, \"Shift-\" + c, b, function(b) {\n            return Kd(a, b, !0)\n        }) || Nd(a, c, b, function(b) {\n            return (\"string\" == typeof b ? /^go[A-Z]/.test(b) : b.motion) ? Kd(a, b) : void 0\n        }) : Nd(a, c, b, function(b) {\n            return Kd(a, b)\n        }) : !1\n    }\n\n    function Pd(a, b, c) {\n        return Nd(a, \"'\" + c + \"'\", b, function(b) {\n            return Kd(a, b, !0)\n        })\n    }\n\n    function Rd(a) {\n        var b = this;\n        if (b.curOp.focus = rh(), !Mg(b, a)) {\n            d && 11 > e && 27 == a.keyCode && (a.returnValue = !1);\n            var c = a.keyCode;\n            b.display.shift = 16 == c || a.shiftKey;\n            var f = Od(b, a);\n            i && (Qd = f ? c : null, !f && 88 == c && !Hh && (o ? a.metaKey : a.ctrlKey) && b.replaceSelection(\"\", null, \"cut\")), 18 != c || /\\bCodeMirror-crosshair\\b/.test(b.display.lineDiv.className) || Sd(b)\n        }\n    }\n\n    function Sd(a) {\n        function c(a) {\n            18 != a.keyCode && a.altKey || (th(b, \"CodeMirror-crosshair\"), Hg(document, \"keyup\", c), Hg(document, \"mouseover\", c))\n        }\n        var b = a.display.lineDiv;\n        uh(b, \"CodeMirror-crosshair\"), Gg(document, \"keyup\", c), Gg(document, \"mouseover\", c)\n    }\n\n    function Td(a) {\n        16 == a.keyCode && (this.doc.sel.shift = !1), Mg(this, a)\n    }\n\n    function Ud(a) {\n        var b = this;\n        if (!(rd(b.display, a) || Mg(b, a) || a.ctrlKey && !a.altKey || o && a.metaKey)) {\n            var c = a.keyCode,\n                d = a.charCode;\n            if (i && c == Qd) return Qd = null, Ag(a), void 0;\n            if (!i || a.which && !(a.which < 10) || !Od(b, a)) {\n                var e = String.fromCharCode(null == d ? c : d);\n                Pd(b, a, e) || b.display.input.onKeyPress(a)\n            }\n        }\n    }\n\n    function Vd(a) {\n        a.state.delayingBlurEvent = !0, setTimeout(function() {\n            a.state.delayingBlurEvent && (a.state.delayingBlurEvent = !1, Xd(a))\n        }, 100)\n    }\n\n    function Wd(a) {\n        a.state.delayingBlurEvent && (a.state.delayingBlurEvent = !1), \"nocursor\" != a.options.readOnly && (a.state.focused || (Ig(a, \"focus\", a), a.state.focused = !0, uh(a.display.wrapper, \"CodeMirror-focused\"), a.curOp || a.display.selForContextMenu == a.doc.sel || (a.display.input.reset(), f && setTimeout(function() {\n            a.display.input.reset(!0)\n        }, 20)), a.display.input.receivedFocus()), gc(a))\n    }\n\n    function Xd(a) {\n        a.state.delayingBlurEvent || (a.state.focused && (Ig(a, \"blur\", a), a.state.focused = !1, th(a.display.wrapper, \"CodeMirror-focused\")), clearInterval(a.display.blinker), setTimeout(function() {\n            a.state.focused || (a.display.shift = !1)\n        }, 150))\n    }\n\n    function Yd(a, b) {\n        rd(a.display, b) || Zd(a, b) || a.display.input.onContextMenu(b)\n    }\n\n    function Zd(a, b) {\n        return Og(a, \"gutterContextMenu\") ? zd(a, b, \"gutterContextMenu\", !1, Ig) : !1\n    }\n\n    function _d(a, b) {\n        if (pb(a, b.from) < 0) return a;\n        if (pb(a, b.to) <= 0) return $d(b);\n        var c = a.line + b.text.length - (b.to.line - b.from.line) - 1,\n            d = a.ch;\n        return a.line == b.to.line && (d += $d(b).ch - b.to.ch), ob(c, d)\n    }\n\n    function ae(a, b) {\n        for (var c = [], d = 0; d < a.sel.ranges.length; d++) {\n            var e = a.sel.ranges[d];\n            c.push(new Jb(_d(e.anchor, b), _d(e.head, b)))\n        }\n        return Kb(c, a.sel.primIndex)\n    }\n\n    function be(a, b, c) {\n        return a.line == b.line ? ob(c.line, a.ch - b.ch + c.ch) : ob(c.line + (a.line - b.line), a.ch)\n    }\n\n    function ce(a, b, c) {\n        for (var d = [], e = ob(a.first, 0), f = e, g = 0; g < b.length; g++) {\n            var h = b[g],\n                i = be(h.from, e, f),\n                j = be($d(h), e, f);\n            if (e = h.to, f = j, \"around\" == c) {\n                var k = a.sel.ranges[g],\n                    l = pb(k.head, k.anchor) < 0;\n                d[g] = new Jb(l ? j : i, l ? i : j)\n            } else d[g] = new Jb(i, i)\n        }\n        return new Ib(d, a.sel.primIndex)\n    }\n\n    function de(a, b, c) {\n        var d = {\n            canceled: !1,\n            from: b.from,\n            to: b.to,\n            text: b.text,\n            origin: b.origin,\n            cancel: function() {\n                this.canceled = !0\n            }\n        };\n        return c && (d.update = function(b, c, d, e) {\n            b && (this.from = Nb(a, b)), c && (this.to = Nb(a, c)), d && (this.text = d), void 0 !== e && (this.origin = e)\n        }), Ig(a, \"beforeChange\", a, d), a.cm && Ig(a.cm, \"beforeChange\", a.cm, d), d.canceled ? null : {\n            from: d.from,\n            to: d.to,\n            text: d.text,\n            origin: d.origin\n        }\n    }\n\n    function ee(a, b, c) {\n        if (a.cm) {\n            if (!a.cm.curOp) return cd(a.cm, ee)(a, b, c);\n            if (a.cm.state.suppressEdits) return\n        }\n        if (!(Og(a, \"beforeChange\") || a.cm && Og(a.cm, \"beforeChange\")) || (b = de(a, b, !0))) {\n            var d = t && !c && ff(a, b.from, b.to);\n            if (d)\n                for (var e = d.length - 1; e >= 0; --e) fe(a, {\n                    from: d[e].from,\n                    to: d[e].to,\n                    text: e ? [\"\"] : b.text\n                });\n            else fe(a, b)\n        }\n    }\n\n    function fe(a, b) {\n        if (1 != b.text.length || \"\" != b.text[0] || 0 != pb(b.from, b.to)) {\n            var c = ae(a, b);\n            pg(a, b, c, a.cm ? a.cm.curOp.id : 0 / 0), ie(a, b, c, cf(a, b));\n            var d = [];\n            bg(a, function(a, c) {\n                c || -1 != ah(d, a.history) || (zg(a.history, b), d.push(a.history)), ie(a, b, null, cf(a, b))\n            })\n        }\n    }\n\n    function ge(a, b, c) {\n        if (!a.cm || !a.cm.state.suppressEdits) {\n            for (var e, d = a.history, f = a.sel, g = \"undo\" == b ? d.done : d.undone, h = \"undo\" == b ? d.undone : d.done, i = 0; i < g.length && (e = g[i], c ? !e.ranges || e.equals(a.sel) : e.ranges); i++);\n            if (i != g.length) {\n                for (d.lastOrigin = d.lastSelOrigin = null; e = g.pop(), e.ranges;) {\n                    if (sg(e, h), c && !e.equals(a.sel)) return Yb(a, e, {\n                        clearRedo: !1\n                    }), void 0;\n                    f = e\n                }\n                var j = [];\n                sg(f, h), h.push({\n                    changes: j,\n                    generation: d.generation\n                }), d.generation = e.generation || ++d.maxGeneration;\n                for (var k = Og(a, \"beforeChange\") || a.cm && Og(a.cm, \"beforeChange\"), i = e.changes.length - 1; i >= 0; --i) {\n                    var l = e.changes[i];\n                    if (l.origin = b, k && !de(a, l, !1)) return g.length = 0, void 0;\n                    j.push(mg(a, l));\n                    var m = i ? ae(a, l) : $g(g);\n                    ie(a, l, m, ef(a, l)), !i && a.cm && a.cm.scrollIntoView({\n                        from: l.from,\n                        to: $d(l)\n                    });\n                    var n = [];\n                    bg(a, function(a, b) {\n                        b || -1 != ah(n, a.history) || (zg(a.history, l), n.push(a.history)), ie(a, l, null, ef(a, l))\n                    })\n                }\n            }\n        }\n    }\n\n    function he(a, b) {\n        if (0 != b && (a.first += b, a.sel = new Ib(bh(a.sel.ranges, function(a) {\n                return new Jb(ob(a.anchor.line + b, a.anchor.ch), ob(a.head.line + b, a.head.ch))\n            }), a.sel.primIndex), a.cm)) {\n            hd(a.cm, a.first, a.first - b, b);\n            for (var c = a.cm.display, d = c.viewFrom; d < c.viewTo; d++) id(a.cm, d, \"gutter\")\n        }\n    }\n\n    function ie(a, b, c, d) {\n        if (a.cm && !a.cm.curOp) return cd(a.cm, ie)(a, b, c, d);\n        if (b.to.line < a.first) return he(a, b.text.length - 1 - (b.to.line - b.from.line)), void 0;\n        if (!(b.from.line > a.lastLine())) {\n            if (b.from.line < a.first) {\n                var e = b.text.length - 1 - (a.first - b.from.line);\n                he(a, e), b = {\n                    from: ob(a.first, 0),\n                    to: ob(b.to.line + e, b.to.ch),\n                    text: [$g(b.text)],\n                    origin: b.origin\n                }\n            }\n            var f = a.lastLine();\n            b.to.line > f && (b = {\n                from: b.from,\n                to: ob(f, dg(a, f).text.length),\n                text: [b.text[0]],\n                origin: b.origin\n            }), b.removed = eg(a, b.from, b.to), c || (c = ae(a, b)), a.cm ? je(a.cm, b, d) : Wf(a, b, d), Zb(a, c, Sg)\n        }\n    }\n\n    function je(a, b, c) {\n        var d = a.doc,\n            e = a.display,\n            f = b.from,\n            g = b.to,\n            h = !1,\n            i = f.line;\n        a.options.lineWrapping || (i = hg(qf(dg(d, f.line))), d.iter(i, g.line + 1, function(a) {\n            return a == e.maxLine ? (h = !0, !0) : void 0\n        })), d.sel.contains(b.from, b.to) > -1 && Ng(a), Wf(d, b, c, A(a)), a.options.lineWrapping || (d.iter(i, f.line + b.text.length, function(a) {\n            var b = G(a);\n            b > e.maxLineLength && (e.maxLine = a, e.maxLineLength = b, e.maxLineChanged = !0, h = !1)\n        }), h && (a.curOp.updateMaxLine = !0)), d.frontier = Math.min(d.frontier, f.line), hc(a, 400);\n        var j = b.text.length - (g.line - f.line) - 1;\n        b.full ? hd(a) : f.line != g.line || 1 != b.text.length || Vf(a.doc, b) ? hd(a, f.line, g.line + 1, j) : id(a, f.line, \"text\");\n        var k = Og(a, \"changes\"),\n            l = Og(a, \"change\");\n        if (l || k) {\n            var m = {\n                from: f,\n                to: g,\n                text: b.text,\n                removed: b.removed,\n                origin: b.origin\n            };\n            l && Kg(a, \"change\", a, m), k && (a.curOp.changeObjs || (a.curOp.changeObjs = [])).push(m)\n        }\n        a.display.selForContextMenu = null\n    }\n\n    function ke(a, b, c, d, e) {\n        if (d || (d = c), pb(d, c) < 0) {\n            var f = d;\n            d = c, c = f\n        }\n        \"string\" == typeof b && (b = Fh(b)), ee(a, {\n            from: c,\n            to: d,\n            text: b,\n            origin: e\n        })\n    }\n\n    function le(a, b) {\n        if (!Mg(a, \"scrollCursorIntoView\")) {\n            var c = a.display,\n                d = c.sizer.getBoundingClientRect(),\n                e = null;\n            if (b.top + d.top < 0 ? e = !0 : b.bottom + d.top > (window.innerHeight || document.documentElement.clientHeight) && (e = !1), null != e && !l) {\n                var f = mh(\"div\", \"\\u200b\", null, \"position: absolute; top: \" + (b.top - c.viewOffset - lc(a.display)) + \"px; height: \" + (b.bottom - b.top + oc(a) + c.barHeight) + \"px; left: \" + b.left + \"px; width: 2px;\");\n                a.display.lineSpace.appendChild(f), f.scrollIntoView(e), a.display.lineSpace.removeChild(f)\n            }\n        }\n    }\n\n    function me(a, b, c, d) {\n        null == d && (d = 0);\n        for (var e = 0; 5 > e; e++) {\n            var f = !1,\n                g = Kc(a, b),\n                h = c && c != b ? Kc(a, c) : g,\n                i = oe(a, Math.min(g.left, h.left), Math.min(g.top, h.top) - d, Math.max(g.left, h.left), Math.max(g.bottom, h.bottom) + d),\n                j = a.doc.scrollTop,\n                k = a.doc.scrollLeft;\n            if (null != i.scrollTop && (Ed(a, i.scrollTop), Math.abs(a.doc.scrollTop - j) > 1 && (f = !0)), null != i.scrollLeft && (Fd(a, i.scrollLeft), Math.abs(a.doc.scrollLeft - k) > 1 && (f = !0)), !f) break\n        }\n        return g\n    }\n\n    function ne(a, b, c, d, e) {\n        var f = oe(a, b, c, d, e);\n        null != f.scrollTop && Ed(a, f.scrollTop), null != f.scrollLeft && Fd(a, f.scrollLeft)\n    }\n\n    function oe(a, b, c, d, e) {\n        var f = a.display,\n            g = Qc(a.display);\n        0 > c && (c = 0);\n        var h = a.curOp && null != a.curOp.scrollTop ? a.curOp.scrollTop : f.scroller.scrollTop,\n            i = qc(a),\n            j = {};\n        e - c > i && (e = c + i);\n        var k = a.doc.height + mc(f),\n            l = g > c,\n            m = e > k - g;\n        if (h > c) j.scrollTop = l ? 0 : c;\n        else if (e > h + i) {\n            var n = Math.min(c, (m ? k : e) - i);\n            n != h && (j.scrollTop = n)\n        }\n        var o = a.curOp && null != a.curOp.scrollLeft ? a.curOp.scrollLeft : f.scroller.scrollLeft,\n            p = pc(a) - (a.options.fixedGutter ? f.gutters.offsetWidth : 0),\n            q = d - b > p;\n        return q && (d = b + p), 10 > b ? j.scrollLeft = 0 : o > b ? j.scrollLeft = Math.max(0, b - (q ? 0 : 10)) : d > p + o - 3 && (j.scrollLeft = d + (q ? 0 : 10) - p), j\n    }\n\n    function pe(a, b, c) {\n        (null != b || null != c) && re(a), null != b && (a.curOp.scrollLeft = (null == a.curOp.scrollLeft ? a.doc.scrollLeft : a.curOp.scrollLeft) + b), null != c && (a.curOp.scrollTop = (null == a.curOp.scrollTop ? a.doc.scrollTop : a.curOp.scrollTop) + c)\n    }\n\n    function qe(a) {\n        re(a);\n        var b = a.getCursor(),\n            c = b,\n            d = b;\n        a.options.lineWrapping || (c = b.ch ? ob(b.line, b.ch - 1) : b, d = ob(b.line, b.ch + 1)), a.curOp.scrollToPos = {\n            from: c,\n            to: d,\n            margin: a.options.cursorScrollMargin,\n            isCursor: !0\n        }\n    }\n\n    function re(a) {\n        var b = a.curOp.scrollToPos;\n        if (b) {\n            a.curOp.scrollToPos = null;\n            var c = Lc(a, b.from),\n                d = Lc(a, b.to),\n                e = oe(a, Math.min(c.left, d.left), Math.min(c.top, d.top) - b.margin, Math.max(c.right, d.right), Math.max(c.bottom, d.bottom) + b.margin);\n            a.scrollTo(e.scrollLeft, e.scrollTop)\n        }\n    }\n\n    function se(a, b, c, d) {\n        var f, e = a.doc;\n        null == c && (c = \"add\"), \"smart\" == c && (e.mode.indent ? f = kc(a, b) : c = \"prev\");\n        var g = a.options.tabSize,\n            h = dg(e, b),\n            i = Wg(h.text, null, g);\n        h.stateAfter && (h.stateAfter = null);\n        var k, j = h.text.match(/^\\s*/)[0];\n        if (d || /\\S/.test(h.text)) {\n            if (\"smart\" == c && (k = e.mode.indent(f, h.text.slice(j.length), h.text), k == Rg || k > 150)) {\n                if (!d) return;\n                c = \"prev\"\n            }\n        } else k = 0, c = \"not\";\n        \"prev\" == c ? k = b > e.first ? Wg(dg(e, b - 1).text, null, g) : 0 : \"add\" == c ? k = i + a.options.indentUnit : \"subtract\" == c ? k = i - a.options.indentUnit : \"number\" == typeof c && (k = i + c), k = Math.max(0, k);\n        var l = \"\",\n            m = 0;\n        if (a.options.indentWithTabs)\n            for (var n = Math.floor(k / g); n; --n) m += g, l += \"\t\";\n        if (k > m && (l += Zg(k - m)), l != j) return ke(e, l, ob(b, 0), ob(b, j.length), \"+input\"), h.stateAfter = null, !0;\n        for (var n = 0; n < e.sel.ranges.length; n++) {\n            var o = e.sel.ranges[n];\n            if (o.head.line == b && o.head.ch < j.length) {\n                var m = ob(b, j.length);\n                Ub(e, n, new Jb(m, m));\n                break\n            }\n        }\n    }\n\n    function te(a, b, c, d) {\n        var e = b,\n            f = b;\n        return \"number\" == typeof b ? f = dg(a, Mb(a, b)) : e = hg(b), null == e ? null : (d(f, e) && a.cm && id(a.cm, e, c), f)\n    }\n\n    function ue(a, b) {\n        for (var c = a.doc.sel.ranges, d = [], e = 0; e < c.length; e++) {\n            for (var f = b(c[e]); d.length && pb(f.from, $g(d).to) <= 0;) {\n                var g = d.pop();\n                if (pb(g.from, f.from) < 0) {\n                    f.from = g.from;\n                    break\n                }\n            }\n            d.push(f)\n        }\n        bd(a, function() {\n            for (var b = d.length - 1; b >= 0; b--) ke(a.doc, \"\", d[b].from, d[b].to, \"+delete\");\n            qe(a)\n        })\n    }\n\n    function ve(a, b, c, d, e) {\n        function k() {\n            var b = f + c;\n            return b < a.first || b >= a.first + a.size ? j = !1 : (f = b, i = dg(a, b))\n        }\n\n        function l(a) {\n            var b = (e ? Xh : Yh)(i, g, c, !0);\n            if (null == b) {\n                if (a || !k()) return j = !1;\n                g = e ? (0 > c ? Ph : Oh)(i) : 0 > c ? i.text.length : 0\n            } else g = b;\n            return !0\n        }\n        var f = b.line,\n            g = b.ch,\n            h = c,\n            i = dg(a, f),\n            j = !0;\n        if (\"char\" == d) l();\n        else if (\"column\" == d) l(!0);\n        else if (\"word\" == d || \"group\" == d)\n            for (var m = null, n = \"group\" == d, o = a.cm && a.cm.getHelper(b, \"wordChars\"), p = !0; !(0 > c) || l(!p); p = !1) {\n                var q = i.text.charAt(g) || \"\\n\",\n                    r = ih(q, o) ? \"w\" : n && \"\\n\" == q ? \"n\" : !n || /\\s/.test(q) ? null : \"p\";\n                if (!n || p || r || (r = \"s\"), m && m != r) {\n                    0 > c && (c = 1, l());\n                    break\n                }\n                if (r && (m = r), c > 0 && !l(!p)) break\n            }\n        var s = bc(a, ob(f, g), h, !0);\n        return j || (s.hitSide = !0), s\n    }\n\n    function we(a, b, c, d) {\n        var g, e = a.doc,\n            f = b.left;\n        if (\"page\" == d) {\n            var h = Math.min(a.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n            g = b.top + c * (h - (0 > c ? 1.5 : .5) * Qc(a.display))\n        } else \"line\" == d && (g = c > 0 ? b.bottom + 3 : b.top - 3);\n        for (;;) {\n            var i = Nc(a, f, g);\n            if (!i.outside) break;\n            if (0 > c ? 0 >= g : g >= e.height) {\n                i.hitSide = !0;\n                break\n            }\n            g += 5 * c\n        }\n        return i\n    }\n\n    function ze(a, b, c, d) {\n        v.defaults[a] = b, c && (ye[a] = d ? function(a, b, d) {\n            d != Ae && c(a, b, d)\n        } : c)\n    }\n\n    function Ke(a) {\n        for (var c, d, e, f, b = a.split(/-(?!$)/), a = b[b.length - 1], g = 0; g < b.length - 1; g++) {\n            var h = b[g];\n            if (/^(cmd|meta|m)$/i.test(h)) f = !0;\n            else if (/^a(lt)?$/i.test(h)) c = !0;\n            else if (/^(c|ctrl|control)$/i.test(h)) d = !0;\n            else {\n                if (!/^s(hift)$/i.test(h)) throw new Error(\"Unrecognized modifier name: \" + h);\n                e = !0\n            }\n        }\n        return c && (a = \"Alt-\" + a), d && (a = \"Ctrl-\" + a), f && (a = \"Cmd-\" + a), e && (a = \"Shift-\" + a), a\n    }\n\n    function Oe(a) {\n        return \"string\" == typeof a ? Je[a] : a\n    }\n\n    function Se(a, b, c, d, e) {\n        if (d && d.shared) return Ue(a, b, c, d, e);\n        if (a.cm && !a.cm.curOp) return cd(a.cm, Se)(a, b, c, d, e);\n        var f = new Re(a, e),\n            g = pb(b, c);\n        if (d && eh(d, f, !1), g > 0 || 0 == g && f.clearWhenEmpty !== !1) return f;\n        if (f.replacedWith && (f.collapsed = !0, f.widgetNode = mh(\"span\", [f.replacedWith], \"CodeMirror-widget\"), d.handleMouseEvents || f.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"), d.insertLeft && (f.widgetNode.insertLeft = !0)), f.collapsed) {\n            if (pf(a, b.line, b, c, f) || b.line != c.line && pf(a, c.line, b, c, f)) throw new Error(\"Inserting collapsed marker partially overlapping an existing one\");\n            u = !0\n        }\n        f.addToHistory && pg(a, {\n            from: b,\n            to: c,\n            origin: \"markText\"\n        }, a.sel, 0 / 0);\n        var j, h = b.line,\n            i = a.cm;\n        if (a.iter(h, c.line + 1, function(a) {\n                i && f.collapsed && !i.options.lineWrapping && qf(a) == i.display.maxLine && (j = !0), f.collapsed && h != b.line && gg(a, 0), _e(a, new Ye(f, h == b.line ? b.ch : null, h == c.line ? c.ch : null)), ++h\n            }), f.collapsed && a.iter(b.line, c.line + 1, function(b) {\n                uf(a, b) && gg(b, 0)\n            }), f.clearOnEnter && Gg(f, \"beforeCursorEnter\", function() {\n                f.clear()\n            }), f.readOnly && (t = !0, (a.history.done.length || a.history.undone.length) && a.clearHistory()), f.collapsed && (f.id = ++Qe, f.atomic = !0), i) {\n            if (j && (i.curOp.updateMaxLine = !0), f.collapsed) hd(i, b.line, c.line + 1);\n            else if (f.className || f.title || f.startStyle || f.endStyle || f.css)\n                for (var k = b.line; k <= c.line; k++) id(i, k, \"text\");\n            f.atomic && _b(i.doc), Kg(i, \"markerAdded\", i, f)\n        }\n        return f\n    }\n\n    function Ue(a, b, c, d, e) {\n        d = eh(d), d.shared = !1;\n        var f = [Se(a, b, c, d, e)],\n            g = f[0],\n            h = d.widgetNode;\n        return bg(a, function(a) {\n            h && (d.widgetNode = h.cloneNode(!0)), f.push(Se(a, Nb(a, b), Nb(a, c), d, e));\n            for (var i = 0; i < a.linked.length; ++i)\n                if (a.linked[i].isParent) return;\n            g = $g(f)\n        }), new Te(f, g)\n    }\n\n    function Ve(a) {\n        return a.findMarks(ob(a.first, 0), a.clipPos(ob(a.lastLine())), function(a) {\n            return a.parent\n        })\n    }\n\n    function We(a, b) {\n        for (var c = 0; c < b.length; c++) {\n            var d = b[c],\n                e = d.find(),\n                f = a.clipPos(e.from),\n                g = a.clipPos(e.to);\n            if (pb(f, g)) {\n                var h = Se(a, f, g, d.primary, d.primary.type);\n                d.markers.push(h), h.parent = d\n            }\n        }\n    }\n\n    function Xe(a) {\n        for (var b = 0; b < a.length; b++) {\n            var c = a[b],\n                d = [c.primary.doc];\n            bg(c.primary.doc, function(a) {\n                d.push(a)\n            });\n            for (var e = 0; e < c.markers.length; e++) {\n                var f = c.markers[e]; - 1 == ah(d, f.doc) && (f.parent = null, c.markers.splice(e--, 1))\n            }\n        }\n    }\n\n    function Ye(a, b, c) {\n        this.marker = a, this.from = b, this.to = c\n    }\n\n    function Ze(a, b) {\n        if (a)\n            for (var c = 0; c < a.length; ++c) {\n                var d = a[c];\n                if (d.marker == b) return d\n            }\n    }\n\n    function $e(a, b) {\n        for (var c, d = 0; d < a.length; ++d) a[d] != b && (c || (c = [])).push(a[d]);\n        return c\n    }\n\n    function _e(a, b) {\n        a.markedSpans = a.markedSpans ? a.markedSpans.concat([b]) : [b], b.marker.attachLine(a)\n    }\n\n    function af(a, b, c) {\n        if (a)\n            for (var e, d = 0; d < a.length; ++d) {\n                var f = a[d],\n                    g = f.marker,\n                    h = null == f.from || (g.inclusiveLeft ? f.from <= b : f.from < b);\n                if (h || f.from == b && \"bookmark\" == g.type && (!c || !f.marker.insertLeft)) {\n                    var i = null == f.to || (g.inclusiveRight ? f.to >= b : f.to > b);\n                    (e || (e = [])).push(new Ye(g, f.from, i ? null : f.to))\n                }\n            }\n        return e\n    }\n\n    function bf(a, b, c) {\n        if (a)\n            for (var e, d = 0; d < a.length; ++d) {\n                var f = a[d],\n                    g = f.marker,\n                    h = null == f.to || (g.inclusiveRight ? f.to >= b : f.to > b);\n                if (h || f.from == b && \"bookmark\" == g.type && (!c || f.marker.insertLeft)) {\n                    var i = null == f.from || (g.inclusiveLeft ? f.from <= b : f.from < b);\n                    (e || (e = [])).push(new Ye(g, i ? null : f.from - b, null == f.to ? null : f.to - b))\n                }\n            }\n        return e\n    }\n\n    function cf(a, b) {\n        if (b.full) return null;\n        var c = Pb(a, b.from.line) && dg(a, b.from.line).markedSpans,\n            d = Pb(a, b.to.line) && dg(a, b.to.line).markedSpans;\n        if (!c && !d) return null;\n        var e = b.from.ch,\n            f = b.to.ch,\n            g = 0 == pb(b.from, b.to),\n            h = af(c, e, g),\n            i = bf(d, f, g),\n            j = 1 == b.text.length,\n            k = $g(b.text).length + (j ? e : 0);\n        if (h)\n            for (var l = 0; l < h.length; ++l) {\n                var m = h[l];\n                if (null == m.to) {\n                    var n = Ze(i, m.marker);\n                    n ? j && (m.to = null == n.to ? null : n.to + k) : m.to = e\n                }\n            }\n        if (i)\n            for (var l = 0; l < i.length; ++l) {\n                var m = i[l];\n                if (null != m.to && (m.to += k), null == m.from) {\n                    var n = Ze(h, m.marker);\n                    n || (m.from = k, j && (h || (h = [])).push(m))\n                } else m.from += k, j && (h || (h = [])).push(m)\n            }\n        h && (h = df(h)), i && i != h && (i = df(i));\n        var o = [h];\n        if (!j) {\n            var q, p = b.text.length - 2;\n            if (p > 0 && h)\n                for (var l = 0; l < h.length; ++l) null == h[l].to && (q || (q = [])).push(new Ye(h[l].marker, null, null));\n            for (var l = 0; p > l; ++l) o.push(q);\n            o.push(i)\n        }\n        return o\n    }\n\n    function df(a) {\n        for (var b = 0; b < a.length; ++b) {\n            var c = a[b];\n            null != c.from && c.from == c.to && c.marker.clearWhenEmpty !== !1 && a.splice(b--, 1)\n        }\n        return a.length ? a : null\n    }\n\n    function ef(a, b) {\n        var c = vg(a, b),\n            d = cf(a, b);\n        if (!c) return d;\n        if (!d) return c;\n        for (var e = 0; e < c.length; ++e) {\n            var f = c[e],\n                g = d[e];\n            if (f && g) a: for (var h = 0; h < g.length; ++h) {\n                for (var i = g[h], j = 0; j < f.length; ++j)\n                    if (f[j].marker == i.marker) continue a;\n                f.push(i)\n            } else g && (c[e] = g)\n        }\n        return c\n    }\n\n    function ff(a, b, c) {\n        var d = null;\n        if (a.iter(b.line, c.line + 1, function(a) {\n                if (a.markedSpans)\n                    for (var b = 0; b < a.markedSpans.length; ++b) {\n                        var c = a.markedSpans[b].marker;\n                        !c.readOnly || d && -1 != ah(d, c) || (d || (d = [])).push(c)\n                    }\n            }), !d) return null;\n        for (var e = [{\n                from: b,\n                to: c\n            }], f = 0; f < d.length; ++f)\n            for (var g = d[f], h = g.find(0), i = 0; i < e.length; ++i) {\n                var j = e[i];\n                if (!(pb(j.to, h.from) < 0 || pb(j.from, h.to) > 0)) {\n                    var k = [i, 1],\n                        l = pb(j.from, h.from),\n                        m = pb(j.to, h.to);\n                    (0 > l || !g.inclusiveLeft && !l) && k.push({\n                        from: j.from,\n                        to: h.from\n                    }), (m > 0 || !g.inclusiveRight && !m) && k.push({\n                        from: h.to,\n                        to: j.to\n                    }), e.splice.apply(e, k), i += k.length - 1\n                }\n            }\n        return e\n    }\n\n    function gf(a) {\n        var b = a.markedSpans;\n        if (b) {\n            for (var c = 0; c < b.length; ++c) b[c].marker.detachLine(a);\n            a.markedSpans = null\n        }\n    }\n\n    function hf(a, b) {\n        if (b) {\n            for (var c = 0; c < b.length; ++c) b[c].marker.attachLine(a);\n            a.markedSpans = b\n        }\n    }\n\n    function jf(a) {\n        return a.inclusiveLeft ? -1 : 0\n    }\n\n    function kf(a) {\n        return a.inclusiveRight ? 1 : 0\n    }\n\n    function lf(a, b) {\n        var c = a.lines.length - b.lines.length;\n        if (0 != c) return c;\n        var d = a.find(),\n            e = b.find(),\n            f = pb(d.from, e.from) || jf(a) - jf(b);\n        if (f) return -f;\n        var g = pb(d.to, e.to) || kf(a) - kf(b);\n        return g ? g : b.id - a.id\n    }\n\n    function mf(a, b) {\n        var d, c = u && a.markedSpans;\n        if (c)\n            for (var e, f = 0; f < c.length; ++f) e = c[f], e.marker.collapsed && null == (b ? e.from : e.to) && (!d || lf(d, e.marker) < 0) && (d = e.marker);\n        return d\n    }\n\n    function nf(a) {\n        return mf(a, !0)\n    }\n\n    function of (a) {\n        return mf(a, !1)\n    }\n\n    function pf(a, b, c, d, e) {\n        var f = dg(a, b),\n            g = u && f.markedSpans;\n        if (g)\n            for (var h = 0; h < g.length; ++h) {\n                var i = g[h];\n                if (i.marker.collapsed) {\n                    var j = i.marker.find(0),\n                        k = pb(j.from, c) || jf(i.marker) - jf(e),\n                        l = pb(j.to, d) || kf(i.marker) - kf(e);\n                    if (!(k >= 0 && 0 >= l || 0 >= k && l >= 0) && (0 >= k && (pb(j.to, c) > 0 || i.marker.inclusiveRight && e.inclusiveLeft) || k >= 0 && (pb(j.from, d) < 0 || i.marker.inclusiveLeft && e.inclusiveRight))) return !0\n                }\n            }\n    }\n\n    function qf(a) {\n        for (var b; b = nf(a);) a = b.find(-1, !0).line;\n        return a\n    }\n\n    function rf(a) {\n        for (var b, c; b = of (a);) a = b.find(1, !0).line, (c || (c = [])).push(a);\n        return c\n    }\n\n    function sf(a, b) {\n        var c = dg(a, b),\n            d = qf(c);\n        return c == d ? b : hg(d)\n    }\n\n    function tf(a, b) {\n        if (b > a.lastLine()) return b;\n        var d, c = dg(a, b);\n        if (!uf(a, c)) return b;\n        for (; d = of (c);) c = d.find(1, !0).line;\n        return hg(c) + 1\n    }\n\n    function uf(a, b) {\n        var c = u && b.markedSpans;\n        if (c)\n            for (var d, e = 0; e < c.length; ++e)\n                if (d = c[e], d.marker.collapsed) {\n                    if (null == d.from) return !0;\n                    if (!d.marker.widgetNode && 0 == d.from && d.marker.inclusiveLeft && vf(a, b, d)) return !0\n                }\n    }\n\n    function vf(a, b, c) {\n        if (null == c.to) {\n            var d = c.marker.find(1, !0);\n            return vf(a, d.line, Ze(d.line.markedSpans, c.marker))\n        }\n        if (c.marker.inclusiveRight && c.to == b.text.length) return !0;\n        for (var e, f = 0; f < b.markedSpans.length; ++f)\n            if (e = b.markedSpans[f], e.marker.collapsed && !e.marker.widgetNode && e.from == c.to && (null == e.to || e.to != c.from) && (e.marker.inclusiveLeft || c.marker.inclusiveRight) && vf(a, b, e)) return !0\n    }\n\n    function xf(a, b, c) {\n        jg(b) < (a.curOp && a.curOp.scrollTop || a.doc.scrollTop) && pe(a, null, c)\n    }\n\n    function yf(a) {\n        if (null != a.height) return a.height;\n        var b = a.doc.cm;\n        if (!b) return 0;\n        if (!qh(document.body, a.node)) {\n            var c = \"position: relative;\";\n            a.coverGutter && (c += \"margin-left: -\" + b.display.gutters.offsetWidth + \"px;\"), a.noHScroll && (c += \"width: \" + b.display.wrapper.clientWidth + \"px;\"), ph(b.display.measure, mh(\"div\", [a.node], null, c))\n        }\n        return a.height = a.node.offsetHeight\n    }\n\n    function zf(a, b, c, d) {\n        var e = new wf(a, c, d),\n            f = a.cm;\n        return f && e.noHScroll && (f.display.alignWidgets = !0), te(a, b, \"widget\", function(b) {\n            var c = b.widgets || (b.widgets = []);\n            if (null == e.insertAt ? c.push(e) : c.splice(Math.min(c.length - 1, Math.max(0, e.insertAt)), 0, e), e.line = b, f && !uf(a, b)) {\n                var d = jg(b) < a.scrollTop;\n                gg(b, b.height + yf(e)), d && pe(f, null, e.height), f.curOp.forceUpdate = !0\n            }\n            return !0\n        }), e\n    }\n\n    function Bf(a, b, c, d) {\n        a.text = b, a.stateAfter && (a.stateAfter = null), a.styles && (a.styles = null), null != a.order && (a.order = null), gf(a), hf(a, c);\n        var e = d ? d(a) : 1;\n        e != a.height && gg(a, e)\n    }\n\n    function Cf(a) {\n        a.parent = null, gf(a)\n    }\n\n    function Df(a, b) {\n        if (a)\n            for (;;) {\n                var c = a.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n                if (!c) break;\n                a = a.slice(0, c.index) + a.slice(c.index + c[0].length);\n                var d = c[1] ? \"bgClass\" : \"textClass\";\n                null == b[d] ? b[d] = c[2] : new RegExp(\"(?:^|s)\" + c[2] + \"(?:$|s)\").test(b[d]) || (b[d] += \" \" + c[2])\n            }\n        return a\n    }\n\n    function Ef(a, b) {\n        if (a.blankLine) return a.blankLine(b);\n        if (a.innerMode) {\n            var c = v.innerMode(a, b);\n            return c.mode.blankLine ? c.mode.blankLine(c.state) : void 0\n        }\n    }\n\n    function Ff(a, b, c, d) {\n        for (var e = 0; 10 > e; e++) {\n            d && (d[0] = v.innerMode(a, c).mode);\n            var f = a.token(b, c);\n            if (b.pos > b.start) return f\n        }\n        throw new Error(\"Mode \" + a.name + \" failed to advance stream.\")\n    }\n\n    function Gf(a, b, c, d) {\n        function e(a) {\n            return {\n                start: k.start,\n                end: k.pos,\n                string: k.current(),\n                type: h || null,\n                state: a ? Ge(f.mode, j) : j\n            }\n        }\n        var h, f = a.doc,\n            g = f.mode;\n        b = Nb(f, b);\n        var l, i = dg(f, b.line),\n            j = kc(a, b.line, c),\n            k = new Pe(i.text, a.options.tabSize);\n        for (d && (l = []);\n            (d || k.pos < b.ch) && !k.eol();) k.start = k.pos, h = Ff(g, k, j), d && l.push(e(!0));\n        return d ? l : e()\n    }\n\n    function Hf(a, b, c, d, e, f, g) {\n        var h = c.flattenSpans;\n        null == h && (h = a.options.flattenSpans);\n        var l, i = 0,\n            j = null,\n            k = new Pe(b, a.options.tabSize),\n            m = a.options.addModeClass && [null];\n        for (\"\" == b && Df(Ef(c, d), f); !k.eol();) {\n            if (k.pos > a.options.maxHighlightLength ? (h = !1, g && Kf(a, b, d, k.pos), k.pos = b.length, l = null) : l = Df(Ff(c, k, d, m), f), m) {\n                var n = m[0].name;\n                n && (l = \"m-\" + (l ? n + \" \" + l : n))\n            }\n            if (!h || j != l) {\n                for (; i < k.start;) i = Math.min(k.start, i + 5e4), e(i, j);\n                j = l\n            }\n            k.start = k.pos\n        }\n        for (; i < k.pos;) {\n            var o = Math.min(k.pos, i + 5e4);\n            e(o, j), i = o\n        }\n    }\n\n    function If(a, b, c, d) {\n        var e = [a.state.modeGen],\n            f = {};\n        Hf(a, b.text, a.doc.mode, c, function(a, b) {\n            e.push(a, b)\n        }, f, d);\n        for (var g = 0; g < a.state.overlays.length; ++g) {\n            var h = a.state.overlays[g],\n                i = 1,\n                j = 0;\n            Hf(a, b.text, h.mode, !0, function(a, b) {\n                for (var c = i; a > j;) {\n                    var d = e[i];\n                    d > a && e.splice(i, 1, a, e[i + 1], d), i += 2, j = Math.min(a, d)\n                }\n                if (b)\n                    if (h.opaque) e.splice(c, i - c, a, \"cm-overlay \" + b), i = c + 2;\n                    else\n                        for (; i > c; c += 2) {\n                            var f = e[c + 1];\n                            e[c + 1] = (f ? f + \" \" : \"\") + \"cm-overlay \" + b\n                        }\n            }, f)\n        }\n        return {\n            styles: e,\n            classes: f.bgClass || f.textClass ? f : null\n        }\n    }\n\n    function Jf(a, b, c) {\n        if (!b.styles || b.styles[0] != a.state.modeGen) {\n            var d = If(a, b, b.stateAfter = kc(a, hg(b)));\n            b.styles = d.styles, d.classes ? b.styleClasses = d.classes : b.styleClasses && (b.styleClasses = null), c === a.doc.frontier && a.doc.frontier++\n        }\n        return b.styles\n    }\n\n    function Kf(a, b, c, d) {\n        var e = a.doc.mode,\n            f = new Pe(b, a.options.tabSize);\n        for (f.start = f.pos = d || 0, \"\" == b && Ef(e, c); !f.eol() && f.pos <= a.options.maxHighlightLength;) Ff(e, f, c), f.start = f.pos\n    }\n\n    function Nf(a, b) {\n        if (!a || /^\\s*$/.test(a)) return null;\n        var c = b.addModeClass ? Mf : Lf;\n        return c[a] || (c[a] = a.replace(/\\S+/g, \"cm-$&\"))\n    }\n\n    function Of(a, b) {\n        var c = mh(\"span\", null, null, f ? \"padding-right: .1px\" : null),\n            e = {\n                pre: mh(\"pre\", [c]),\n                content: c,\n                col: 0,\n                pos: 0,\n                cm: a,\n                splitSpaces: (d || f) && a.getOption(\"lineWrapping\")\n            };\n        b.measure = {};\n        for (var g = 0; g <= (b.rest ? b.rest.length : 0); g++) {\n            var i, h = g ? b.rest[g - 1] : b.line;\n            e.pos = 0, e.addToken = Qf, Eh(a.display.measure) && (i = kg(h)) && (e.addToken = Sf(e.addToken, i)), e.map = [];\n            var j = b != a.display.externalMeasured && hg(h);\n            Uf(h, e, Jf(a, h, j)), h.styleClasses && (h.styleClasses.bgClass && (e.bgClass = vh(h.styleClasses.bgClass, e.bgClass || \"\")), h.styleClasses.textClass && (e.textClass = vh(h.styleClasses.textClass, e.textClass || \"\"))), 0 == e.map.length && e.map.push(0, 0, e.content.appendChild(Ch(a.display.measure))), 0 == g ? (b.measure.map = e.map, b.measure.cache = {}) : ((b.measure.maps || (b.measure.maps = [])).push(e.map), (b.measure.caches || (b.measure.caches = [])).push({}))\n        }\n        return f && /\\bcm-tab\\b/.test(e.content.lastChild.className) && (e.content.className = \"cm-tab-wrap-hack\"), Ig(a, \"renderLine\", a, b.line, e.pre), e.pre.className && (e.textClass = vh(e.pre.className, e.textClass || \"\")), e\n    }\n\n    function Pf(a) {\n        var b = mh(\"span\", \"\\u2022\", \"cm-invalidchar\");\n        return b.title = \"\\\\u\" + a.charCodeAt(0).toString(16), b.setAttribute(\"aria-label\", b.title), b\n    }\n\n    function Qf(a, b, c, f, g, h, i) {\n        if (b) {\n            var j = a.splitSpaces ? b.replace(/ {3,}/g, Rf) : b,\n                k = a.cm.state.specialChars,\n                l = !1;\n            if (k.test(b))\n                for (var m = document.createDocumentFragment(), n = 0;;) {\n                    k.lastIndex = n;\n                    var o = k.exec(b),\n                        p = o ? o.index - n : b.length - n;\n                    if (p) {\n                        var q = document.createTextNode(j.slice(n, n + p));\n                        d && 9 > e ? m.appendChild(mh(\"span\", [q])) : m.appendChild(q), a.map.push(a.pos, a.pos + p, q), a.col += p, a.pos += p\n                    }\n                    if (!o) break;\n                    if (n += p + 1, \"\t\" == o[0]) {\n                        var r = a.cm.options.tabSize,\n                            s = r - a.col % r,\n                            q = m.appendChild(mh(\"span\", Zg(s), \"cm-tab\"));\n                        q.setAttribute(\"role\", \"presentation\"), q.setAttribute(\"cm-text\", \"\t\"), a.col += s\n                    } else {\n                        var q = a.cm.options.specialCharPlaceholder(o[0]);\n                        q.setAttribute(\"cm-text\", o[0]), d && 9 > e ? m.appendChild(mh(\"span\", [q])) : m.appendChild(q), a.col += 1\n                    }\n                    a.map.push(a.pos, a.pos + 1, q), a.pos++\n                } else {\n                    a.col += b.length;\n                    var m = document.createTextNode(j);\n                    a.map.push(a.pos, a.pos + b.length, m), d && 9 > e && (l = !0), a.pos += b.length\n                }\n            if (c || f || g || l || i) {\n                var t = c || \"\";\n                f && (t += f), g && (t += g);\n                var u = mh(\"span\", [m], t, i);\n                return h && (u.title = h), a.content.appendChild(u)\n            }\n            a.content.appendChild(m)\n        }\n    }\n\n    function Rf(a) {\n        for (var b = \" \", c = 0; c < a.length - 2; ++c) b += c % 2 ? \" \" : \"\\xa0\";\n        return b += \" \"\n    }\n\n    function Sf(a, b) {\n        return function(c, d, e, f, g, h, i) {\n            e = e ? e + \" cm-force-border\" : \"cm-force-border\";\n            for (var j = c.pos, k = j + d.length;;) {\n                for (var l = 0; l < b.length; l++) {\n                    var m = b[l];\n                    if (m.to > j && m.from <= j) break\n                }\n                if (m.to >= k) return a(c, d, e, f, g, h, i);\n                a(c, d.slice(0, m.to - j), e, f, null, h, i), f = null, d = d.slice(m.to - j), j = m.to\n            }\n        }\n    }\n\n    function Tf(a, b, c, d) {\n        var e = !d && c.widgetNode;\n        e && a.map.push(a.pos, a.pos + b, e), !d && a.cm.display.input.needsContentAttribute && (e || (e = a.content.appendChild(document.createElement(\"span\"))), e.setAttribute(\"cm-marker\", c.id)), e && (a.cm.display.input.setUneditable(e), a.content.appendChild(e)), a.pos += b\n    }\n\n    function Uf(a, b, c) {\n        var d = a.markedSpans,\n            e = a.text,\n            f = 0;\n        if (d)\n            for (var k, l, n, o, p, q, r, h = e.length, i = 0, g = 1, j = \"\", m = 0;;) {\n                if (m == i) {\n                    n = o = p = q = l = \"\", r = null, m = 1 / 0;\n                    for (var s = [], t = 0; t < d.length; ++t) {\n                        var u = d[t],\n                            v = u.marker;\n                        \"bookmark\" == v.type && u.from == i && v.widgetNode ? s.push(v) : u.from <= i && (null == u.to || u.to > i || v.collapsed && u.to == i && u.from == i) ? (null != u.to && u.to != i && m > u.to && (m = u.to, o = \"\"), v.className && (n += \" \" + v.className), v.css && (l = v.css), v.startStyle && u.from == i && (p += \" \" + v.startStyle), v.endStyle && u.to == m && (o += \" \" + v.endStyle), v.title && !q && (q = v.title), v.collapsed && (!r || lf(r.marker, v) < 0) && (r = u)) : u.from > i && m > u.from && (m = u.from)\n                    }\n                    if (r && (r.from || 0) == i) {\n                        if (Tf(b, (null == r.to ? h + 1 : r.to) - i, r.marker, null == r.from), null == r.to) return;\n                        r.to == i && (r = !1)\n                    }\n                    if (!r && s.length)\n                        for (var t = 0; t < s.length; ++t) Tf(b, 0, s[t])\n                }\n                if (i >= h) break;\n                for (var w = Math.min(h, m);;) {\n                    if (j) {\n                        var x = i + j.length;\n                        if (!r) {\n                            var y = x > w ? j.slice(0, w - i) : j;\n                            b.addToken(b, y, k ? k + n : n, p, i + y.length == m ? o : \"\", q, l)\n                        }\n                        if (x >= w) {\n                            j = j.slice(w - i), i = w;\n                            break\n                        }\n                        i = x, p = \"\"\n                    }\n                    j = e.slice(f, f = c[g++]), k = Nf(c[g++], b.cm.options)\n                }\n            } else\n                for (var g = 1; g < c.length; g += 2) b.addToken(b, e.slice(f, f = c[g]), Nf(c[g + 1], b.cm.options))\n    }\n\n    function Vf(a, b) {\n        return 0 == b.from.ch && 0 == b.to.ch && \"\" == $g(b.text) && (!a.cm || a.cm.options.wholeLineUpdateBefore)\n    }\n\n    function Wf(a, b, c, d) {\n        function e(a) {\n            return c ? c[a] : null\n        }\n\n        function f(a, c, e) {\n            Bf(a, c, e, d), Kg(a, \"change\", a, b)\n        }\n\n        function g(a, b) {\n            for (var c = a, f = []; b > c; ++c) f.push(new Af(j[c], e(c), d));\n            return f\n        }\n        var h = b.from,\n            i = b.to,\n            j = b.text,\n            k = dg(a, h.line),\n            l = dg(a, i.line),\n            m = $g(j),\n            n = e(j.length - 1),\n            o = i.line - h.line;\n        if (b.full) a.insert(0, g(0, j.length)), a.remove(j.length, a.size - j.length);\n        else if (Vf(a, b)) {\n            var p = g(0, j.length - 1);\n            f(l, l.text, n), o && a.remove(h.line, o), p.length && a.insert(h.line, p)\n        } else if (k == l)\n            if (1 == j.length) f(k, k.text.slice(0, h.ch) + m + k.text.slice(i.ch), n);\n            else {\n                var p = g(1, j.length - 1);\n                p.push(new Af(m + k.text.slice(i.ch), n, d)), f(k, k.text.slice(0, h.ch) + j[0], e(0)), a.insert(h.line + 1, p)\n            }\n        else if (1 == j.length) f(k, k.text.slice(0, h.ch) + j[0] + l.text.slice(i.ch), e(0)), a.remove(h.line + 1, o);\n        else {\n            f(k, k.text.slice(0, h.ch) + j[0], e(0)), f(l, m + l.text.slice(i.ch), n);\n            var p = g(1, j.length - 1);\n            o > 1 && a.remove(h.line + 1, o - 1), a.insert(h.line + 1, p)\n        }\n        Kg(a, \"change\", a, b)\n    }\n\n    function Xf(a) {\n        this.lines = a, this.parent = null;\n        for (var b = 0, c = 0; b < a.length; ++b) a[b].parent = this, c += a[b].height;\n        this.height = c\n    }\n\n    function Yf(a) {\n        this.children = a;\n        for (var b = 0, c = 0, d = 0; d < a.length; ++d) {\n            var e = a[d];\n            b += e.chunkSize(), c += e.height, e.parent = this\n        }\n        this.size = b, this.height = c, this.parent = null\n    }\n\n    function bg(a, b, c) {\n        function d(a, e, f) {\n            if (a.linked)\n                for (var g = 0; g < a.linked.length; ++g) {\n                    var h = a.linked[g];\n                    if (h.doc != e) {\n                        var i = f && h.sharedHist;\n                        (!c || i) && (b(h.doc, i), d(h.doc, a, i))\n                    }\n                }\n        }\n        d(a, null, !0)\n    }\n\n    function cg(a, b) {\n        if (b.cm) throw new Error(\"This document is already in use.\");\n        a.doc = b, b.cm = a, B(a), x(a), a.options.lineWrapping || H(a), a.options.mode = b.modeOption, hd(a)\n    }\n\n    function dg(a, b) {\n        if (b -= a.first, 0 > b || b >= a.size) throw new Error(\"There is no line \" + (b + a.first) + \" in the document.\");\n        for (var c = a; !c.lines;)\n            for (var d = 0;; ++d) {\n                var e = c.children[d],\n                    f = e.chunkSize();\n                if (f > b) {\n                    c = e;\n                    break\n                }\n                b -= f\n            }\n        return c.lines[b]\n    }\n\n    function eg(a, b, c) {\n        var d = [],\n            e = b.line;\n        return a.iter(b.line, c.line + 1, function(a) {\n            var f = a.text;\n            e == c.line && (f = f.slice(0, c.ch)), e == b.line && (f = f.slice(b.ch)), d.push(f), ++e\n        }), d\n    }\n\n    function fg(a, b, c) {\n        var d = [];\n        return a.iter(b, c, function(a) {\n            d.push(a.text)\n        }), d\n    }\n\n    function gg(a, b) {\n        var c = b - a.height;\n        if (c)\n            for (var d = a; d; d = d.parent) d.height += c\n    }\n\n    function hg(a) {\n        if (null == a.parent) return null;\n        for (var b = a.parent, c = ah(b.lines, a), d = b.parent; d; b = d, d = d.parent)\n            for (var e = 0; d.children[e] != b; ++e) c += d.children[e].chunkSize();\n        return c + b.first\n    }\n\n    function ig(a, b) {\n        var c = a.first;\n        a: do {\n            for (var d = 0; d < a.children.length; ++d) {\n                var e = a.children[d],\n                    f = e.height;\n                if (f > b) {\n                    a = e;\n                    continue a\n                }\n                b -= f, c += e.chunkSize()\n            }\n            return c\n        } while (!a.lines);\n        for (var d = 0; d < a.lines.length; ++d) {\n            var g = a.lines[d],\n                h = g.height;\n            if (h > b) break;\n            b -= h\n        }\n        return c + d\n    }\n\n    function jg(a) {\n        a = qf(a);\n        for (var b = 0, c = a.parent, d = 0; d < c.lines.length; ++d) {\n            var e = c.lines[d];\n            if (e == a) break;\n            b += e.height\n        }\n        for (var f = c.parent; f; c = f, f = c.parent)\n            for (var d = 0; d < f.children.length; ++d) {\n                var g = f.children[d];\n                if (g == c) break;\n                b += g.height\n            }\n        return b\n    }\n\n    function kg(a) {\n        var b = a.order;\n        return null == b && (b = a.order = Zh(a.text)), b\n    }\n\n    function lg(a) {\n        this.done = [], this.undone = [], this.undoDepth = 1 / 0, this.lastModTime = this.lastSelTime = 0, this.lastOp = this.lastSelOp = null, this.lastOrigin = this.lastSelOrigin = null, this.generation = this.maxGeneration = a || 1\n    }\n\n    function mg(a, b) {\n        var c = {\n            from: qb(b.from),\n            to: $d(b),\n            text: eg(a, b.from, b.to)\n        };\n        return tg(a, c, b.from.line, b.to.line + 1), bg(a, function(a) {\n            tg(a, c, b.from.line, b.to.line + 1)\n        }, !0), c\n    }\n\n    function ng(a) {\n        for (; a.length;) {\n            var b = $g(a);\n            if (!b.ranges) break;\n            a.pop()\n        }\n    }\n\n    function og(a, b) {\n        return b ? (ng(a.done), $g(a.done)) : a.done.length && !$g(a.done).ranges ? $g(a.done) : a.done.length > 1 && !a.done[a.done.length - 2].ranges ? (a.done.pop(), $g(a.done)) : void 0\n    }\n\n    function pg(a, b, c, d) {\n        var e = a.history;\n        e.undone.length = 0;\n        var g, f = +new Date;\n        if ((e.lastOp == d || e.lastOrigin == b.origin && b.origin && (\"+\" == b.origin.charAt(0) && a.cm && e.lastModTime > f - a.cm.options.historyEventDelay || \"*\" == b.origin.charAt(0))) && (g = og(e, e.lastOp == d))) {\n            var h = $g(g.changes);\n            0 == pb(b.from, b.to) && 0 == pb(b.from, h.to) ? h.to = $d(b) : g.changes.push(mg(a, b))\n        } else {\n            var i = $g(e.done);\n            for (i && i.ranges || sg(a.sel, e.done), g = {\n                    changes: [mg(a, b)],\n                    generation: e.generation\n                }, e.done.push(g); e.done.length > e.undoDepth;) e.done.shift(), e.done[0].ranges || e.done.shift()\n        }\n        e.done.push(c), e.generation = ++e.maxGeneration, e.lastModTime = e.lastSelTime = f, e.lastOp = e.lastSelOp = d, e.lastOrigin = e.lastSelOrigin = b.origin, h || Ig(a, \"historyAdded\")\n    }\n\n    function qg(a, b, c, d) {\n        var e = b.charAt(0);\n        return \"*\" == e || \"+\" == e && c.ranges.length == d.ranges.length && c.somethingSelected() == d.somethingSelected() && new Date - a.history.lastSelTime <= (a.cm ? a.cm.options.historyEventDelay : 500)\n    }\n\n    function rg(a, b, c, d) {\n        var e = a.history,\n            f = d && d.origin;\n        c == e.lastSelOp || f && e.lastSelOrigin == f && (e.lastModTime == e.lastSelTime && e.lastOrigin == f || qg(a, f, $g(e.done), b)) ? e.done[e.done.length - 1] = b : sg(b, e.done), e.lastSelTime = +new Date, e.lastSelOrigin = f, e.lastSelOp = c, d && d.clearRedo !== !1 && ng(e.undone)\n    }\n\n    function sg(a, b) {\n        var c = $g(b);\n        c && c.ranges && c.equals(a) || b.push(a)\n    }\n\n    function tg(a, b, c, d) {\n        var e = b[\"spans_\" + a.id],\n            f = 0;\n        a.iter(Math.max(a.first, c), Math.min(a.first + a.size, d), function(c) {\n            c.markedSpans && ((e || (e = b[\"spans_\" + a.id] = {}))[f] = c.markedSpans), ++f\n        })\n    }\n\n    function ug(a) {\n        if (!a) return null;\n        for (var c, b = 0; b < a.length; ++b) a[b].marker.explicitlyCleared ? c || (c = a.slice(0, b)) : c && c.push(a[b]);\n        return c ? c.length ? c : null : a\n    }\n\n    function vg(a, b) {\n        var c = b[\"spans_\" + a.id];\n        if (!c) return null;\n        for (var d = 0, e = []; d < b.text.length; ++d) e.push(ug(c[d]));\n        return e\n    }\n\n    function wg(a, b, c) {\n        for (var d = 0, e = []; d < a.length; ++d) {\n            var f = a[d];\n            if (f.ranges) e.push(c ? Ib.prototype.deepCopy.call(f) : f);\n            else {\n                var g = f.changes,\n                    h = [];\n                e.push({\n                    changes: h\n                });\n                for (var i = 0; i < g.length; ++i) {\n                    var k, j = g[i];\n                    if (h.push({\n                            from: j.from,\n                            to: j.to,\n                            text: j.text\n                        }), b)\n                        for (var l in j)(k = l.match(/^spans_(\\d+)$/)) && ah(b, Number(k[1])) > -1 && ($g(h)[l] = j[l], delete j[l])\n                }\n            }\n        }\n        return e\n    }\n\n    function xg(a, b, c, d) {\n        c < a.line ? a.line += d : b < a.line && (a.line = b, a.ch = 0)\n    }\n\n    function yg(a, b, c, d) {\n        for (var e = 0; e < a.length; ++e) {\n            var f = a[e],\n                g = !0;\n            if (f.ranges) {\n                f.copied || (f = a[e] = f.deepCopy(), f.copied = !0);\n                for (var h = 0; h < f.ranges.length; h++) xg(f.ranges[h].anchor, b, c, d), xg(f.ranges[h].head, b, c, d)\n            } else {\n                for (var h = 0; h < f.changes.length; ++h) {\n                    var i = f.changes[h];\n                    if (c < i.from.line) i.from = ob(i.from.line + d, i.from.ch), i.to = ob(i.to.line + d, i.to.ch);\n                    else if (b <= i.to.line) {\n                        g = !1;\n                        break\n                    }\n                }\n                g || (a.splice(0, e + 1), e = 0)\n            }\n        }\n    }\n\n    function zg(a, b) {\n        var c = b.from.line,\n            d = b.to.line,\n            e = b.text.length - (d - c) - 1;\n        yg(a.done, c, d, e), yg(a.undone, c, d, e)\n    }\n\n    function Cg(a) {\n        return null != a.defaultPrevented ? a.defaultPrevented : 0 == a.returnValue\n    }\n\n    function Eg(a) {\n        return a.target || a.srcElement\n    }\n\n    function Fg(a) {\n        var b = a.which;\n        return null == b && (1 & a.button ? b = 1 : 2 & a.button ? b = 3 : 4 & a.button && (b = 2)), o && a.ctrlKey && 1 == b && (b = 3), b\n    }\n\n    function Kg(a, b) {\n        function f(a) {\n            return function() {\n                a.apply(null, d)\n            }\n        }\n        var c = a._handlers && a._handlers[b];\n        if (c) {\n            var e, d = Array.prototype.slice.call(arguments, 2);\n            Sc ? e = Sc.delayedCallbacks : Jg ? e = Jg : (e = Jg = [], setTimeout(Lg, 0));\n            for (var g = 0; g < c.length; ++g) e.push(f(c[g]))\n        }\n    }\n\n    function Lg() {\n        var a = Jg;\n        Jg = null;\n        for (var b = 0; b < a.length; ++b) a[b]()\n    }\n\n    function Mg(a, b, c) {\n        return \"string\" == typeof b && (b = {\n            type: b,\n            preventDefault: function() {\n                this.defaultPrevented = !0\n            }\n        }), Ig(a, c || b.type, a, b), Cg(b) || b.codemirrorIgnore\n    }\n\n    function Ng(a) {\n        var b = a._handlers && a._handlers.cursorActivity;\n        if (b)\n            for (var c = a.curOp.cursorActivityHandlers || (a.curOp.cursorActivityHandlers = []), d = 0; d < b.length; ++d) - 1 == ah(c, b[d]) && c.push(b[d])\n    }\n\n    function Og(a, b) {\n        var c = a._handlers && a._handlers[b];\n        return c && c.length > 0\n    }\n\n    function Pg(a) {\n        a.prototype.on = function(a, b) {\n            Gg(this, a, b)\n        }, a.prototype.off = function(a, b) {\n            Hg(this, a, b)\n        }\n    }\n\n    function Vg() {\n        this.id = null\n    }\n\n    function Xg(a, b, c) {\n        for (var d = 0, e = 0;;) {\n            var f = a.indexOf(\"\t\", d); - 1 == f && (f = a.length);\n            var g = f - d;\n            if (f == a.length || e + g >= b) return d + Math.min(g, b - e);\n            if (e += f - d, e += c - e % c, d = f + 1, e >= b) return d\n        }\n    }\n\n    function Zg(a) {\n        for (; Yg.length <= a;) Yg.push($g(Yg) + \" \");\n        return Yg[a]\n    }\n\n    function $g(a) {\n        return a[a.length - 1]\n    }\n\n    function ah(a, b) {\n        for (var c = 0; c < a.length; ++c)\n            if (a[c] == b) return c;\n        return -1\n    }\n\n    function bh(a, b) {\n        for (var c = [], d = 0; d < a.length; d++) c[d] = b(a[d], d);\n        return c\n    }\n\n    function ch() {}\n\n    function dh(a, b) {\n        var c;\n        return Object.create ? c = Object.create(a) : (ch.prototype = a, c = new ch), b && eh(b, c), c\n    }\n\n    function eh(a, b, c) {\n        b || (b = {});\n        for (var d in a) !a.hasOwnProperty(d) || c === !1 && b.hasOwnProperty(d) || (b[d] = a[d]);\n        return b\n    }\n\n    function fh(a) {\n        var b = Array.prototype.slice.call(arguments, 1);\n        return function() {\n            return a.apply(null, b)\n        }\n    }\n\n    function ih(a, b) {\n        return b ? b.source.indexOf(\"\\\\w\") > -1 && hh(a) ? !0 : b.test(a) : hh(a)\n    }\n\n    function jh(a) {\n        for (var b in a)\n            if (a.hasOwnProperty(b) && a[b]) return !1;\n        return !0\n    }\n\n    function lh(a) {\n        return a.charCodeAt(0) >= 768 && kh.test(a)\n    }\n\n    function mh(a, b, c, d) {\n        var e = document.createElement(a);\n        if (c && (e.className = c), d && (e.style.cssText = d), \"string\" == typeof b) e.appendChild(document.createTextNode(b));\n        else if (b)\n            for (var f = 0; f < b.length; ++f) e.appendChild(b[f]);\n        return e\n    }\n\n    function oh(a) {\n        for (var b = a.childNodes.length; b > 0; --b) a.removeChild(a.firstChild);\n        return a\n    }\n\n    function ph(a, b) {\n        return oh(a).appendChild(b)\n    }\n\n    function rh() {\n        return document.activeElement\n    }\n\n    function sh(a) {\n        return new RegExp(\"(^|\\\\s)\" + a + \"(?:$|\\\\s)\\\\s*\")\n    }\n\n    function vh(a, b) {\n        for (var c = a.split(\" \"), d = 0; d < c.length; d++) c[d] && !sh(c[d]).test(b) && (b += \" \" + c[d]);\n        return b\n    }\n\n    function wh(a) {\n        if (document.body.getElementsByClassName)\n            for (var b = document.body.getElementsByClassName(\"CodeMirror\"), c = 0; c < b.length; c++) {\n                var d = b[c].CodeMirror;\n                d && a(d)\n            }\n    }\n\n    function yh() {\n        xh || (zh(), xh = !0)\n    }\n\n    function zh() {\n        var a;\n        Gg(window, \"resize\", function() {\n            null == a && (a = setTimeout(function() {\n                a = null, wh(qd)\n            }, 100))\n        }), Gg(window, \"blur\", function() {\n            wh(Xd)\n        })\n    }\n\n    function Ch(a) {\n        if (null == Bh) {\n            var b = mh(\"span\", \"\\u200b\");\n            ph(a, mh(\"span\", [b, document.createTextNode(\"x\")])), 0 != a.firstChild.offsetHeight && (Bh = b.offsetWidth <= 1 && b.offsetHeight > 2 && !(d && 8 > e))\n        }\n        var c = Bh ? mh(\"span\", \"\\u200b\") : mh(\"span\", \"\\xa0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n        return c.setAttribute(\"cm-text\", \"\"), c\n    }\n\n    function Eh(a) {\n        if (null != Dh) return Dh;\n        var b = ph(a, document.createTextNode(\"A\\u062eA\")),\n            c = nh(b, 0, 1).getBoundingClientRect();\n        if (!c || c.left == c.right) return !1;\n        var d = nh(b, 1, 2).getBoundingClientRect();\n        return Dh = d.right - c.right < 3\n    }\n\n    function Jh(a) {\n        if (null != Ih) return Ih;\n        var b = ph(a, mh(\"span\", \"x\")),\n            c = b.getBoundingClientRect(),\n            d = nh(b, 0, 1).getBoundingClientRect();\n        return Ih = Math.abs(c.left - d.left) > 1\n    }\n\n    function Lh(a, b, c, d) {\n        if (!a) return d(b, c, \"ltr\");\n        for (var e = !1, f = 0; f < a.length; ++f) {\n            var g = a[f];\n            (g.from < c && g.to > b || b == c && g.to == b) && (d(Math.max(g.from, b), Math.min(g.to, c), 1 == g.level ? \"rtl\" : \"ltr\"), e = !0)\n        }\n        e || d(b, c, \"ltr\")\n    }\n\n    function Mh(a) {\n        return a.level % 2 ? a.to : a.from\n    }\n\n    function Nh(a) {\n        return a.level % 2 ? a.from : a.to\n    }\n\n    function Oh(a) {\n        var b = kg(a);\n        return b ? Mh(b[0]) : 0\n    }\n\n    function Ph(a) {\n        var b = kg(a);\n        return b ? Nh($g(b)) : a.text.length\n    }\n\n    function Qh(a, b) {\n        var c = dg(a.doc, b),\n            d = qf(c);\n        d != c && (b = hg(d));\n        var e = kg(d),\n            f = e ? e[0].level % 2 ? Ph(d) : Oh(d) : 0;\n        return ob(b, f)\n    }\n\n    function Rh(a, b) {\n        for (var c, d = dg(a.doc, b); c = of (d);) d = c.find(1, !0).line, b = null;\n        var e = kg(d),\n            f = e ? e[0].level % 2 ? Oh(d) : Ph(d) : d.text.length;\n        return ob(null == b ? hg(d) : b, f)\n    }\n\n    function Sh(a, b) {\n        var c = Qh(a, b.line),\n            d = dg(a.doc, c.line),\n            e = kg(d);\n        if (!e || 0 == e[0].level) {\n            var f = Math.max(0, d.text.search(/\\S/)),\n                g = b.line == c.line && b.ch <= f && b.ch;\n            return ob(c.line, g ? 0 : f)\n        }\n        return c\n    }\n\n    function Th(a, b, c) {\n        var d = a[0].level;\n        return b == d ? !0 : c == d ? !1 : c > b\n    }\n\n    function Vh(a, b) {\n        Uh = null;\n        for (var d, c = 0; c < a.length; ++c) {\n            var e = a[c];\n            if (e.from < b && e.to > b) return c;\n            if (e.from == b || e.to == b) {\n                if (null != d) return Th(a, e.level, a[d].level) ? (e.from != e.to && (Uh = d), c) : (e.from != e.to && (Uh = c), d);\n                d = c\n            }\n        }\n        return d\n    }\n\n    function Wh(a, b, c, d) {\n        if (!d) return b + c;\n        do b += c; while (b > 0 && lh(a.text.charAt(b)));\n        return b\n    }\n\n    function Xh(a, b, c, d) {\n        var e = kg(a);\n        if (!e) return Yh(a, b, c, d);\n        for (var f = Vh(e, b), g = e[f], h = Wh(a, b, g.level % 2 ? -c : c, d);;) {\n            if (h > g.from && h < g.to) return h;\n            if (h == g.from || h == g.to) return Vh(e, h) == f ? h : (g = e[f += c], c > 0 == g.level % 2 ? g.to : g.from);\n            if (g = e[f += c], !g) return null;\n            h = c > 0 == g.level % 2 ? Wh(a, g.to, -1, d) : Wh(a, g.from, 1, d)\n        }\n    }\n\n    function Yh(a, b, c, d) {\n        var e = b + c;\n        if (d)\n            for (; e > 0 && lh(a.text.charAt(e));) e += c;\n        return 0 > e || e > a.text.length ? null : e\n    }\n    var a = /gecko\\/\\d/i.test(navigator.userAgent),\n        b = /MSIE \\d/.test(navigator.userAgent),\n        c = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(navigator.userAgent),\n        d = b || c,\n        e = d && (b ? document.documentMode || 6 : c[1]),\n        f = /WebKit\\//.test(navigator.userAgent),\n        g = f && /Qt\\/\\d+\\.\\d+/.test(navigator.userAgent),\n        h = /Chrome\\//.test(navigator.userAgent),\n        i = /Opera\\//.test(navigator.userAgent),\n        j = /Apple Computer/.test(navigator.vendor),\n        k = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(navigator.userAgent),\n        l = /PhantomJS/.test(navigator.userAgent),\n        m = /AppleWebKit/.test(navigator.userAgent) && /Mobile\\/\\w+/.test(navigator.userAgent),\n        n = m || /Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),\n        o = m || /Mac/.test(navigator.platform),\n        p = /win/i.test(navigator.platform),\n        q = i && navigator.userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n    q && (q = Number(q[1])), q && q >= 15 && (i = !1, f = !0);\n    var r = o && (g || i && (null == q || 12.11 > q)),\n        s = a || d && e >= 9,\n        t = !1,\n        u = !1;\n    K.prototype = eh({\n        update: function(a) {\n            var b = a.scrollWidth > a.clientWidth + 1,\n                c = a.scrollHeight > a.clientHeight + 1,\n                d = a.nativeBarWidth;\n            if (c) {\n                this.vert.style.display = \"block\", this.vert.style.bottom = b ? d + \"px\" : \"0\";\n                var e = a.viewHeight - (b ? d : 0);\n                this.vert.firstChild.style.height = Math.max(0, a.scrollHeight - a.clientHeight + e) + \"px\"\n            } else this.vert.style.display = \"\", this.vert.firstChild.style.height = \"0\";\n            if (b) {\n                this.horiz.style.display = \"block\", this.horiz.style.right = c ? d + \"px\" : \"0\", this.horiz.style.left = a.barLeft + \"px\";\n                var f = a.viewWidth - a.barLeft - (c ? d : 0);\n                this.horiz.firstChild.style.width = a.scrollWidth - a.clientWidth + f + \"px\"\n            } else this.horiz.style.display = \"\", this.horiz.firstChild.style.width = \"0\";\n            return !this.checkedOverlay && a.clientHeight > 0 && (0 == d && this.overlayHack(), this.checkedOverlay = !0), {\n                right: c ? d : 0,\n                bottom: b ? d : 0\n            }\n        },\n        setScrollLeft: function(a) {\n            this.horiz.scrollLeft != a && (this.horiz.scrollLeft = a)\n        },\n        setScrollTop: function(a) {\n            this.vert.scrollTop != a && (this.vert.scrollTop = a)\n        },\n        overlayHack: function() {\n            var a = o && !k ? \"12px\" : \"18px\";\n            this.horiz.style.minHeight = this.vert.style.minWidth = a;\n            var b = this,\n                c = function(a) {\n                    Eg(a) != b.vert && Eg(a) != b.horiz && cd(b.cm, td)(a)\n                };\n            Gg(this.vert, \"mousedown\", c), Gg(this.horiz, \"mousedown\", c)\n        },\n        clear: function() {\n            var a = this.horiz.parentNode;\n            a.removeChild(this.horiz), a.removeChild(this.vert)\n        }\n    }, K.prototype), L.prototype = eh({\n        update: function() {\n            return {\n                bottom: 0,\n                right: 0\n            }\n        },\n        setScrollLeft: function() {},\n        setScrollTop: function() {},\n        clear: function() {}\n    }, L.prototype), v.scrollbarModel = {\n        \"native\": K,\n        \"null\": L\n    }, U.prototype.signal = function(a, b) {\n        Og(a, b) && this.events.push(arguments)\n    }, U.prototype.finish = function() {\n        for (var a = 0; a < this.events.length; a++) Ig.apply(null, this.events[a])\n    };\n    var ob = v.Pos = function(a, b) {\n            return this instanceof ob ? (this.line = a, this.ch = b, void 0) : new ob(a, b)\n        },\n        pb = v.cmpPos = function(a, b) {\n            return a.line - b.line || a.ch - b.ch\n        },\n        vb = null;\n    Ab.prototype = eh({\n        init: function(a) {\n            function i(a) {\n                if (c.somethingSelected()) vb = c.getSelections(), b.inaccurateSelection && (b.prevInput = \"\", b.inaccurateSelection = !1, h.value = vb.join(\"\\n\"), _g(h));\n                else {\n                    if (!c.options.lineWiseCopyCut) return;\n                    var d = yb(c);\n                    vb = d.text, \"cut\" == a.type ? c.setSelections(d.ranges, null, Sg) : (b.prevInput = \"\", h.value = d.text.join(\"\\n\"), _g(h))\n                }\n                \"cut\" == a.type && (c.state.cutIncoming = !0)\n            }\n            var b = this,\n                c = this.cm,\n                g = this.wrapper = Bb(),\n                h = this.textarea = g.firstChild;\n            a.wrapper.insertBefore(g, a.wrapper.firstChild), m && (h.style.width = \"0px\"), Gg(h, \"input\", function() {\n                d && e >= 9 && b.hasSelection && (b.hasSelection = null), b.poll()\n            }), Gg(h, \"paste\", function() {\n                if (f && !c.state.fakedLastChar && !(new Date - c.state.lastMiddleDown < 200)) {\n                    var a = h.selectionStart,\n                        d = h.selectionEnd;\n                    h.value += \"$\", h.selectionEnd = d, h.selectionStart = a, c.state.fakedLastChar = !0\n                }\n                c.state.pasteIncoming = !0, b.fastPoll()\n            }), Gg(h, \"cut\", i), Gg(h, \"copy\", i), Gg(a.scroller, \"paste\", function(d) {\n                rd(a, d) || (c.state.pasteIncoming = !0, b.focus())\n            }), Gg(a.lineSpace, \"selectstart\", function(b) {\n                rd(a, b) || Ag(b)\n            }), Gg(h, \"compositionstart\", function() {\n                var a = c.getCursor(\"from\");\n                b.composing = {\n                    start: a,\n                    range: c.markText(a, c.getCursor(\"to\"), {\n                        className: \"CodeMirror-composing\"\n                    })\n                }\n            }), Gg(h, \"compositionend\", function() {\n                b.composing && (b.poll(), b.composing.range.clear(), b.composing = null)\n            })\n        },\n        prepareSelection: function() {\n            var a = this.cm,\n                b = a.display,\n                c = a.doc,\n                d = dc(a);\n            if (a.options.moveInputWithCursor) {\n                var e = Kc(a, c.sel.primary().head, \"div\"),\n                    f = b.wrapper.getBoundingClientRect(),\n                    g = b.lineDiv.getBoundingClientRect();\n                d.teTop = Math.max(0, Math.min(b.wrapper.clientHeight - 10, e.top + g.top - f.top)), d.teLeft = Math.max(0, Math.min(b.wrapper.clientWidth - 10, e.left + g.left - f.left))\n            }\n            return d\n        },\n        showSelection: function(a) {\n            var b = this.cm,\n                c = b.display;\n            ph(c.cursorDiv, a.cursors), ph(c.selectionDiv, a.selection), null != a.teTop && (this.wrapper.style.top = a.teTop + \"px\", this.wrapper.style.left = a.teLeft + \"px\")\n        },\n        reset: function(a) {\n            if (!this.contextMenuPending) {\n                var b, c, f = this.cm,\n                    g = f.doc;\n                if (f.somethingSelected()) {\n                    this.prevInput = \"\";\n                    var h = g.sel.primary();\n                    b = Hh && (h.to().line - h.from().line > 100 || (c = f.getSelection()).length > 1e3);\n                    var i = b ? \"-\" : c || f.getSelection();\n                    this.textarea.value = i, f.state.focused && _g(this.textarea), d && e >= 9 && (this.hasSelection = i)\n                } else a || (this.prevInput = this.textarea.value = \"\", d && e >= 9 && (this.hasSelection = null));\n                this.inaccurateSelection = b\n            }\n        },\n        getField: function() {\n            return this.textarea\n        },\n        supportsTouch: function() {\n            return !1\n        },\n        focus: function() {\n            if (\"nocursor\" != this.cm.options.readOnly && (!n || rh() != this.textarea)) try {\n                this.textarea.focus()\n            } catch (a) {}\n        },\n        blur: function() {\n            this.textarea.blur()\n        },\n        resetPosition: function() {\n            this.wrapper.style.top = this.wrapper.style.left = 0\n        },\n        receivedFocus: function() {\n            this.slowPoll()\n        },\n        slowPoll: function() {\n            var a = this;\n            a.pollingFast || a.polling.set(this.cm.options.pollInterval, function() {\n                a.poll(), a.cm.state.focused && a.slowPoll()\n            })\n        },\n        fastPoll: function() {\n            function c() {\n                var d = b.poll();\n                d || a ? (b.pollingFast = !1, b.slowPoll()) : (a = !0, b.polling.set(60, c))\n            }\n            var a = !1,\n                b = this;\n            b.pollingFast = !0, b.polling.set(20, c)\n        },\n        poll: function() {\n            var a = this.cm,\n                b = this.textarea,\n                c = this.prevInput;\n            if (this.contextMenuPending || !a.state.focused || Gh(b) && !c || ub(a) || a.options.disableInput || a.state.keySeq) return !1;\n            a.state.pasteIncoming && a.state.fakedLastChar && (b.value = b.value.substring(0, b.value.length - 1), a.state.fakedLastChar = !1);\n            var f = b.value;\n            if (f == c && !a.somethingSelected()) return !1;\n            if (d && e >= 9 && this.hasSelection === f || o && /[\\uf700-\\uf7ff]/.test(f)) return a.display.input.reset(), !1;\n            if (a.doc.sel == a.display.selForContextMenu) {\n                var g = f.charCodeAt(0);\n                if (8203 != g || c || (c = \"\\u200b\"), 8666 == g) return this.reset(), this.cm.execCommand(\"undo\")\n            }\n            for (var h = 0, i = Math.min(c.length, f.length); i > h && c.charCodeAt(h) == f.charCodeAt(h);) ++h;\n            var j = this;\n            return bd(a, function() {\n                wb(a, f.slice(h), c.length - h, null, j.composing ? \"*compose\" : null), f.length > 1e3 || f.indexOf(\"\\n\") > -1 ? b.value = j.prevInput = \"\" : j.prevInput = f, j.composing && (j.composing.range.clear(), j.composing.range = a.markText(j.composing.start, a.getCursor(\"to\"), {\n                    className: \"CodeMirror-composing\"\n                }))\n            }), !0\n        },\n        ensurePolled: function() {\n            this.pollingFast && this.poll() && (this.pollingFast = !1)\n        },\n        onKeyPress: function() {\n            d && e >= 9 && (this.hasSelection = null), this.fastPoll()\n        },\n        onContextMenu: function(a) {\n            function o() {\n                if (null != h.selectionStart) {\n                    var a = c.somethingSelected(),\n                        d = \"\\u200b\" + (a ? h.value : \"\");\n                    h.value = \"\\u21da\", h.value = d, b.prevInput = a ? \"\" : \"\\u200b\", h.selectionStart = 1, h.selectionEnd = d.length, g.selForContextMenu = c.doc.sel\n                }\n            }\n\n            function p() {\n                if (b.contextMenuPending = !1, b.wrapper.style.position = \"relative\", h.style.cssText = m, d && 9 > e && g.scrollbars.setScrollTop(g.scroller.scrollTop = k), null != h.selectionStart) {\n                    (!d || d && 9 > e) && o();\n                    var a = 0,\n                        f = function() {\n                            g.selForContextMenu == c.doc.sel && 0 == h.selectionStart && h.selectionEnd > 0 && \"\\u200b\" == b.prevInput ? cd(c, Ie.selectAll)(c) : a++ < 10 ? g.detectingSelectAll = setTimeout(f, 500) : g.input.reset()\n                        };\n                    g.detectingSelectAll = setTimeout(f, 200)\n                }\n            }\n            var b = this,\n                c = b.cm,\n                g = c.display,\n                h = b.textarea,\n                j = sd(c, a),\n                k = g.scroller.scrollTop;\n            if (j && !i) {\n                var l = c.options.resetSelectionOnContextMenu;\n                l && -1 == c.doc.sel.contains(j) && cd(c, Yb)(c.doc, Lb(j), Sg);\n                var m = h.style.cssText;\n                if (b.wrapper.style.position = \"absolute\", h.style.cssText = \"position: fixed; width: 30px; height: 30px; top: \" + (a.clientY - 5) + \"px; left: \" + (a.clientX - 5) + \"px; z-index: 1000; background: \" + (d ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\", f) var n = window.scrollY;\n                if (g.input.focus(), f && window.scrollTo(null, n), g.input.reset(), c.somethingSelected() || (h.value = b.prevInput = \" \"), b.contextMenuPending = !0, g.selForContextMenu = c.doc.sel, clearTimeout(g.detectingSelectAll), d && e >= 9 && o(), s) {\n                    Dg(a);\n                    var q = function() {\n                        Hg(window, \"mouseup\", q), setTimeout(p, 20)\n                    };\n                    Gg(window, \"mouseup\", q)\n                } else setTimeout(p, 50)\n            }\n        },\n        setUneditable: ch,\n        needsContentAttribute: !1\n    }, Ab.prototype), Cb.prototype = eh({\n        init: function(a) {\n            function e(a) {\n                if (c.somethingSelected()) vb = c.getSelections(), \"cut\" == a.type && c.replaceSelection(\"\", null, \"cut\");\n                else {\n                    if (!c.options.lineWiseCopyCut) return;\n                    var b = yb(c);\n                    vb = b.text, \"cut\" == a.type && c.operation(function() {\n                        c.setSelections(b.ranges, 0, Sg), c.replaceSelection(\"\", null, \"cut\")\n                    })\n                }\n                if (a.clipboardData && !m) a.preventDefault(), a.clipboardData.clearData(), a.clipboardData.setData(\"text/plain\", vb.join(\"\\n\"));\n                else {\n                    var d = Bb(),\n                        e = d.firstChild;\n                    c.display.lineSpace.insertBefore(d, c.display.lineSpace.firstChild), e.value = vb.join(\"\\n\");\n                    var f = document.activeElement;\n                    _g(e), setTimeout(function() {\n                        c.display.lineSpace.removeChild(d), f.focus()\n                    }, 50)\n                }\n            }\n            var b = this,\n                c = b.cm,\n                d = b.div = a.lineDiv;\n            d.contentEditable = \"true\", zb(d), Gg(d, \"paste\", function(a) {\n                var b = a.clipboardData && a.clipboardData.getData(\"text/plain\");\n                b && (a.preventDefault(), c.replaceSelection(b, null, \"paste\"))\n            }), Gg(d, \"compositionstart\", function(a) {\n                var d = a.data;\n                if (b.composing = {\n                        sel: c.doc.sel,\n                        data: d,\n                        startData: d\n                    }, d) {\n                    var e = c.doc.sel.primary(),\n                        f = c.getLine(e.head.line),\n                        g = f.indexOf(d, Math.max(0, e.head.ch - d.length));\n                    g > -1 && g <= e.head.ch && (b.composing.sel = Lb(ob(e.head.line, g), ob(e.head.line, g + d.length)))\n                }\n            }), Gg(d, \"compositionupdate\", function(a) {\n                b.composing.data = a.data\n            }), Gg(d, \"compositionend\", function(a) {\n                var c = b.composing;\n                c && (a.data == c.startData || /\\u200b/.test(a.data) || (c.data = a.data), setTimeout(function() {\n                    c.handled || b.applyComposition(c), b.composing == c && (b.composing = null)\n                }, 50))\n            }), Gg(d, \"touchstart\", function() {\n                b.forceCompositionEnd()\n            }), Gg(d, \"input\", function() {\n                b.composing || b.pollContent() || bd(b.cm, function() {\n                    hd(c)\n                })\n            }), Gg(d, \"copy\", e), Gg(d, \"cut\", e)\n        },\n        prepareSelection: function() {\n            var a = dc(this.cm, !1);\n            return a.focus = this.cm.state.focused, a\n        },\n        showSelection: function(a) {\n            a && this.cm.display.view.length && (a.focus && this.showPrimarySelection(), this.showMultipleSelections(a))\n        },\n        showPrimarySelection: function() {\n            var b = window.getSelection(),\n                c = this.cm.doc.sel.primary(),\n                d = Fb(this.cm, b.anchorNode, b.anchorOffset),\n                e = Fb(this.cm, b.focusNode, b.focusOffset);\n            if (!d || d.bad || !e || e.bad || 0 != pb(sb(d, e), c.from()) || 0 != pb(rb(d, e), c.to())) {\n                var f = Db(this.cm, c.from()),\n                    g = Db(this.cm, c.to());\n                if (f || g) {\n                    var h = this.cm.display.view,\n                        i = b.rangeCount && b.getRangeAt(0);\n                    if (f) {\n                        if (!g) {\n                            var j = h[h.length - 1].measure,\n                                k = j.maps ? j.maps[j.maps.length - 1] : j.map;\n                            g = {\n                                node: k[k.length - 1],\n                                offset: k[k.length - 2] - k[k.length - 3]\n                            }\n                        }\n                    } else f = {\n                        node: h[0].measure.map[2],\n                        offset: 0\n                    };\n                    try {\n                        var l = nh(f.node, f.offset, g.offset, g.node)\n                    } catch (m) {}\n                    l && (b.removeAllRanges(), b.addRange(l), i && null == b.anchorNode ? b.addRange(i) : a && this.startGracePeriod()), this.rememberSelection()\n                }\n            }\n        },\n        startGracePeriod: function() {\n            var a = this;\n            clearTimeout(this.gracePeriod), this.gracePeriod = setTimeout(function() {\n                a.gracePeriod = !1, a.selectionChanged() && a.cm.operation(function() {\n                    a.cm.curOp.selectionChanged = !0\n                })\n            }, 20)\n        },\n        showMultipleSelections: function(a) {\n            ph(this.cm.display.cursorDiv, a.cursors), ph(this.cm.display.selectionDiv, a.selection)\n        },\n        rememberSelection: function() {\n            var a = window.getSelection();\n            this.lastAnchorNode = a.anchorNode, this.lastAnchorOffset = a.anchorOffset, this.lastFocusNode = a.focusNode, this.lastFocusOffset = a.focusOffset\n        },\n        selectionInEditor: function() {\n            var a = window.getSelection();\n            if (!a.rangeCount) return !1;\n            var b = a.getRangeAt(0).commonAncestorContainer;\n            return qh(this.div, b)\n        },\n        focus: function() {\n            \"nocursor\" != this.cm.options.readOnly && this.div.focus()\n        },\n        blur: function() {\n            this.div.blur()\n        },\n        getField: function() {\n            return this.div\n        },\n        supportsTouch: function() {\n            return !0\n        },\n        receivedFocus: function() {\n            function b() {\n                a.cm.state.focused && (a.pollSelection(), a.polling.set(a.cm.options.pollInterval, b))\n            }\n            var a = this;\n            this.selectionInEditor() ? this.pollSelection() : bd(this.cm, function() {\n                a.cm.curOp.selectionChanged = !0\n            }), this.polling.set(this.cm.options.pollInterval, b)\n        },\n        selectionChanged: function() {\n            var a = window.getSelection();\n            return a.anchorNode != this.lastAnchorNode || a.anchorOffset != this.lastAnchorOffset || a.focusNode != this.lastFocusNode || a.focusOffset != this.lastFocusOffset\n        },\n        pollSelection: function() {\n            if (!this.composing && !this.gracePeriod && this.selectionChanged()) {\n                var a = window.getSelection(),\n                    b = this.cm;\n                this.rememberSelection();\n                var c = Fb(b, a.anchorNode, a.anchorOffset),\n                    d = Fb(b, a.focusNode, a.focusOffset);\n                c && d && bd(b, function() {\n                    Yb(b.doc, Lb(c, d), Sg), (c.bad || d.bad) && (b.curOp.selectionChanged = !0)\n                })\n            }\n        },\n        pollContent: function() {\n            var a = this.cm,\n                b = a.display,\n                c = a.doc.sel.primary(),\n                d = c.from(),\n                e = c.to();\n            if (d.line < b.viewFrom || e.line > b.viewTo - 1) return !1;\n            var f;\n            if (d.line == b.viewFrom || 0 == (f = kd(a, d.line))) var g = hg(b.view[0].line),\n                h = b.view[0].node;\n            else var g = hg(b.view[f].line),\n                h = b.view[f - 1].node.nextSibling;\n            var i = kd(a, e.line);\n            if (i == b.view.length - 1) var j = b.viewTo - 1,\n                k = b.view[i].node;\n            else var j = hg(b.view[i + 1].line) - 1,\n                k = b.view[i + 1].node.previousSibling;\n            for (var l = Fh(Hb(a, h, k, g, j)), m = eg(a.doc, ob(g, 0), ob(j, dg(a.doc, j).text.length)); l.length > 1 && m.length > 1;)\n                if ($g(l) == $g(m)) l.pop(), m.pop(), j--;\n                else {\n                    if (l[0] != m[0]) break;\n                    l.shift(), m.shift(), g++\n                } for (var n = 0, o = 0, p = l[0], q = m[0], r = Math.min(p.length, q.length); r > n && p.charCodeAt(n) == q.charCodeAt(n);) ++n;\n            for (var s = $g(l), t = $g(m), u = Math.min(s.length - (1 == l.length ? n : 0), t.length - (1 == m.length ? n : 0)); u > o && s.charCodeAt(s.length - o - 1) == t.charCodeAt(t.length - o - 1);) ++o;\n            l[l.length - 1] = s.slice(0, s.length - o), l[0] = l[0].slice(n);\n            var v = ob(g, n),\n                w = ob(j, m.length ? $g(m).length - o : 0);\n            return l.length > 1 || l[0] || pb(v, w) ? (ke(a.doc, l, v, w, \"+input\"), !0) : void 0\n        },\n        ensurePolled: function() {\n            this.forceCompositionEnd()\n        },\n        reset: function() {\n            this.forceCompositionEnd()\n        },\n        forceCompositionEnd: function() {\n            this.composing && !this.composing.handled && (this.applyComposition(this.composing), this.composing.handled = !0, this.div.blur(), this.div.focus())\n        },\n        applyComposition: function(a) {\n            a.data && a.data != a.startData && cd(this.cm, wb)(this.cm, a.data, 0, a.sel)\n        },\n        setUneditable: function(a) {\n            a.setAttribute(\"contenteditable\", \"false\")\n        },\n        onKeyPress: function(a) {\n            a.preventDefault(), cd(this.cm, wb)(this.cm, String.fromCharCode(null == a.charCode ? a.keyCode : a.charCode), 0)\n        },\n        onContextMenu: ch,\n        resetPosition: ch,\n        needsContentAttribute: !0\n    }, Cb.prototype), v.inputStyles = {\n        textarea: Ab,\n        contenteditable: Cb\n    }, Ib.prototype = {\n        primary: function() {\n            return this.ranges[this.primIndex]\n        },\n        equals: function(a) {\n            if (a == this) return !0;\n            if (a.primIndex != this.primIndex || a.ranges.length != this.ranges.length) return !1;\n            for (var b = 0; b < this.ranges.length; b++) {\n                var c = this.ranges[b],\n                    d = a.ranges[b];\n                if (0 != pb(c.anchor, d.anchor) || 0 != pb(c.head, d.head)) return !1\n            }\n            return !0\n        },\n        deepCopy: function() {\n            for (var a = [], b = 0; b < this.ranges.length; b++) a[b] = new Jb(qb(this.ranges[b].anchor), qb(this.ranges[b].head));\n            return new Ib(a, this.primIndex)\n        },\n        somethingSelected: function() {\n            for (var a = 0; a < this.ranges.length; a++)\n                if (!this.ranges[a].empty()) return !0;\n            return !1\n        },\n        contains: function(a, b) {\n            b || (b = a);\n            for (var c = 0; c < this.ranges.length; c++) {\n                var d = this.ranges[c];\n                if (pb(b, d.from()) >= 0 && pb(a, d.to()) <= 0) return c\n            }\n            return -1\n        }\n    }, Jb.prototype = {\n        from: function() {\n            return sb(this.anchor, this.head)\n        },\n        to: function() {\n            return rb(this.anchor, this.head)\n        },\n        empty: function() {\n            return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch\n        }\n    };\n    var Pc, ud, vd, yc = {\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0\n        },\n        Sc = null,\n        Tc = 0,\n        Bd = 0,\n        Gd = 0,\n        Hd = null;\n    d ? Hd = -.53 : a ? Hd = 15 : h ? Hd = -.7 : j && (Hd = -1 / 3);\n    var Id = function(a) {\n        var b = a.wheelDeltaX,\n            c = a.wheelDeltaY;\n        return null == b && a.detail && a.axis == a.HORIZONTAL_AXIS && (b = a.detail), null == c && a.detail && a.axis == a.VERTICAL_AXIS ? c = a.detail : null == c && (c = a.wheelDelta), {\n            x: b,\n            y: c\n        }\n    };\n    v.wheelEventPixels = function(a) {\n        var b = Id(a);\n        return b.x *= Hd, b.y *= Hd, b\n    };\n    var Md = new Vg,\n        Qd = null,\n        $d = v.changeEnd = function(a) {\n            return a.text ? ob(a.from.line + a.text.length - 1, $g(a.text).length + (1 == a.text.length ? a.from.ch : 0)) : a.to\n        };\n    v.prototype = {\n        constructor: v,\n        focus: function() {\n            window.focus(), this.display.input.focus()\n        },\n        setOption: function(a, b) {\n            var c = this.options,\n                d = c[a];\n            (c[a] != b || \"mode\" == a) && (c[a] = b, ye.hasOwnProperty(a) && cd(this, ye[a])(this, b, d))\n        },\n        getOption: function(a) {\n            return this.options[a]\n        },\n        getDoc: function() {\n            return this.doc\n        },\n        addKeyMap: function(a, b) {\n            this.state.keyMaps[b ? \"push\" : \"unshift\"](Oe(a))\n        },\n        removeKeyMap: function(a) {\n            for (var b = this.state.keyMaps, c = 0; c < b.length; ++c)\n                if (b[c] == a || b[c].name == a) return b.splice(c, 1), !0\n        },\n        addOverlay: dd(function(a, b) {\n            var c = a.token ? a : v.getMode(this.options, a);\n            if (c.startState) throw new Error(\"Overlays may not be stateful.\");\n            this.state.overlays.push({\n                mode: c,\n                modeSpec: a,\n                opaque: b && b.opaque\n            }), this.state.modeGen++, hd(this)\n        }),\n        removeOverlay: dd(function(a) {\n            for (var b = this.state.overlays, c = 0; c < b.length; ++c) {\n                var d = b[c].modeSpec;\n                if (d == a || \"string\" == typeof a && d.name == a) return b.splice(c, 1), this.state.modeGen++, hd(this), void 0\n            }\n        }),\n        indentLine: dd(function(a, b, c) {\n            \"string\" != typeof b && \"number\" != typeof b && (b = null == b ? this.options.smartIndent ? \"smart\" : \"prev\" : b ? \"add\" : \"subtract\"), Pb(this.doc, a) && se(this, a, b, c)\n        }),\n        indentSelection: dd(function(a) {\n            for (var b = this.doc.sel.ranges, c = -1, d = 0; d < b.length; d++) {\n                var e = b[d];\n                if (e.empty()) e.head.line > c && (se(this, e.head.line, a, !0), c = e.head.line, d == this.doc.sel.primIndex && qe(this));\n                else {\n                    var f = e.from(),\n                        g = e.to(),\n                        h = Math.max(c, f.line);\n                    c = Math.min(this.lastLine(), g.line - (g.ch ? 0 : 1)) + 1;\n                    for (var i = h; c > i; ++i) se(this, i, a);\n                    var j = this.doc.sel.ranges;\n                    0 == f.ch && b.length == j.length && j[d].from().ch > 0 && Ub(this.doc, d, new Jb(f, j[d].to()), Sg)\n                }\n            }\n        }),\n        getTokenAt: function(a, b) {\n            return Gf(this, a, b)\n        },\n        getLineTokens: function(a, b) {\n            return Gf(this, ob(a), b, !0)\n        },\n        getTokenTypeAt: function(a) {\n            a = Nb(this.doc, a);\n            var f, b = Jf(this, dg(this.doc, a.line)),\n                c = 0,\n                d = (b.length - 1) / 2,\n                e = a.ch;\n            if (0 == e) f = b[2];\n            else\n                for (;;) {\n                    var g = c + d >> 1;\n                    if ((g ? b[2 * g - 1] : 0) >= e) d = g;\n                    else {\n                        if (!(b[2 * g + 1] < e)) {\n                            f = b[2 * g + 2];\n                            break\n                        }\n                        c = g + 1\n                    }\n                }\n            var h = f ? f.indexOf(\"cm-overlay \") : -1;\n            return 0 > h ? f : 0 == h ? null : f.slice(0, h - 1)\n        },\n        getModeAt: function(a) {\n            var b = this.doc.mode;\n            return b.innerMode ? v.innerMode(b, this.getTokenAt(a).state).mode : b\n        },\n        getHelper: function(a, b) {\n            return this.getHelpers(a, b)[0]\n        },\n        getHelpers: function(a, b) {\n            var c = [];\n            if (!Fe.hasOwnProperty(b)) return c;\n            var d = Fe[b],\n                e = this.getModeAt(a);\n            if (\"string\" == typeof e[b]) d[e[b]] && c.push(d[e[b]]);\n            else if (e[b])\n                for (var f = 0; f < e[b].length; f++) {\n                    var g = d[e[b][f]];\n                    g && c.push(g)\n                } else e.helperType && d[e.helperType] ? c.push(d[e.helperType]) : d[e.name] && c.push(d[e.name]);\n            for (var f = 0; f < d._global.length; f++) {\n                var h = d._global[f];\n                h.pred(e, this) && -1 == ah(c, h.val) && c.push(h.val)\n            }\n            return c\n        },\n        getStateAfter: function(a, b) {\n            var c = this.doc;\n            return a = Mb(c, null == a ? c.first + c.size - 1 : a), kc(this, a + 1, b)\n        },\n        cursorCoords: function(a, b) {\n            var c, d = this.doc.sel.primary();\n            return c = null == a ? d.head : \"object\" == typeof a ? Nb(this.doc, a) : a ? d.from() : d.to(), Kc(this, c, b || \"page\")\n        },\n        charCoords: function(a, b) {\n            return Jc(this, Nb(this.doc, a), b || \"page\")\n        },\n        coordsChar: function(a, b) {\n            return a = Ic(this, a, b || \"page\"), Nc(this, a.left, a.top)\n        },\n        lineAtHeight: function(a, b) {\n            return a = Ic(this, {\n                top: a,\n                left: 0\n            }, b || \"page\").top, ig(this.doc, a + this.display.viewOffset)\n        },\n        heightAtLine: function(a, b) {\n            var d, c = !1;\n            if (\"number\" == typeof a) {\n                var e = this.doc.first + this.doc.size - 1;\n                a < this.doc.first ? a = this.doc.first : a > e && (a = e, c = !0), d = dg(this.doc, a)\n            } else d = a;\n            return Hc(this, d, {\n                top: 0,\n                left: 0\n            }, b || \"page\").top + (c ? this.doc.height - jg(d) : 0)\n        },\n        defaultTextHeight: function() {\n            return Qc(this.display)\n        },\n        defaultCharWidth: function() {\n            return Rc(this.display)\n        },\n        setGutterMarker: dd(function(a, b, c) {\n            return te(this.doc, a, \"gutter\", function(a) {\n                var d = a.gutterMarkers || (a.gutterMarkers = {});\n                return d[b] = c, !c && jh(d) && (a.gutterMarkers = null), !0\n            })\n        }),\n        clearGutter: dd(function(a) {\n            var b = this,\n                c = b.doc,\n                d = c.first;\n            c.iter(function(c) {\n                c.gutterMarkers && c.gutterMarkers[a] && (c.gutterMarkers[a] = null, id(b, d, \"gutter\"), jh(c.gutterMarkers) && (c.gutterMarkers = null)), ++d\n            })\n        }),\n        lineInfo: function(a) {\n            if (\"number\" == typeof a) {\n                if (!Pb(this.doc, a)) return null;\n                var b = a;\n                if (a = dg(this.doc, a), !a) return null\n            } else {\n                var b = hg(a);\n                if (null == b) return null\n            }\n            return {\n                line: b,\n                handle: a,\n                text: a.text,\n                gutterMarkers: a.gutterMarkers,\n                textClass: a.textClass,\n                bgClass: a.bgClass,\n                wrapClass: a.wrapClass,\n                widgets: a.widgets\n            }\n        },\n        getViewport: function() {\n            return {\n                from: this.display.viewFrom,\n                to: this.display.viewTo\n            }\n        },\n        addWidget: function(a, b, c, d, e) {\n            var f = this.display;\n            a = Kc(this, Nb(this.doc, a));\n            var g = a.bottom,\n                h = a.left;\n            if (b.style.position = \"absolute\", b.setAttribute(\"cm-ignore-events\", \"true\"), this.display.input.setUneditable(b), f.sizer.appendChild(b), \"over\" == d) g = a.top;\n            else if (\"above\" == d || \"near\" == d) {\n                var i = Math.max(f.wrapper.clientHeight, this.doc.height),\n                    j = Math.max(f.sizer.clientWidth, f.lineSpace.clientWidth);\n                (\"above\" == d || a.bottom + b.offsetHeight > i) && a.top > b.offsetHeight ? g = a.top - b.offsetHeight : a.bottom + b.offsetHeight <= i && (g = a.bottom), h + b.offsetWidth > j && (h = j - b.offsetWidth)\n            }\n            b.style.top = g + \"px\", b.style.left = b.style.right = \"\", \"right\" == e ? (h = f.sizer.clientWidth - b.offsetWidth, b.style.right = \"0px\") : (\"left\" == e ? h = 0 : \"middle\" == e && (h = (f.sizer.clientWidth - b.offsetWidth) / 2), b.style.left = h + \"px\"), c && ne(this, h, g, h + b.offsetWidth, g + b.offsetHeight)\n        },\n        triggerOnKeyDown: dd(Rd),\n        triggerOnKeyPress: dd(Ud),\n        triggerOnKeyUp: Td,\n        execCommand: function(a) {\n            return Ie.hasOwnProperty(a) ? Ie[a](this) : void 0\n        },\n        triggerElectric: dd(function(a) {\n            xb(this, a)\n        }),\n        findPosH: function(a, b, c, d) {\n            var e = 1;\n            0 > b && (e = -1, b = -b);\n            for (var f = 0, g = Nb(this.doc, a); b > f && (g = ve(this.doc, g, e, c, d), !g.hitSide); ++f);\n            return g\n        },\n        moveH: dd(function(a, b) {\n            var c = this;\n            c.extendSelectionsBy(function(d) {\n                return c.display.shift || c.doc.extend || d.empty() ? ve(c.doc, d.head, a, b, c.options.rtlMoveVisually) : 0 > a ? d.from() : d.to()\n            }, Ug)\n        }),\n        deleteH: dd(function(a, b) {\n            var c = this.doc.sel,\n                d = this.doc;\n            c.somethingSelected() ? d.replaceSelection(\"\", null, \"+delete\") : ue(this, function(c) {\n                var e = ve(d, c.head, a, b, !1);\n                return 0 > a ? {\n                    from: e,\n                    to: c.head\n                } : {\n                    from: c.head,\n                    to: e\n                }\n            })\n        }),\n        findPosV: function(a, b, c, d) {\n            var e = 1,\n                f = d;\n            0 > b && (e = -1, b = -b);\n            for (var g = 0, h = Nb(this.doc, a); b > g; ++g) {\n                var i = Kc(this, h, \"div\");\n                if (null == f ? f = i.left : i.left = f, h = we(this, i, e, c), h.hitSide) break\n            }\n            return h\n        },\n        moveV: dd(function(a, b) {\n            var c = this,\n                d = this.doc,\n                e = [],\n                f = !c.display.shift && !d.extend && d.sel.somethingSelected();\n            if (d.extendSelectionsBy(function(g) {\n                    if (f) return 0 > a ? g.from() : g.to();\n                    var h = Kc(c, g.head, \"div\");\n                    null != g.goalColumn && (h.left = g.goalColumn), e.push(h.left);\n                    var i = we(c, h, a, b);\n                    return \"page\" == b && g == d.sel.primary() && pe(c, null, Jc(c, i, \"div\").top - h.top), i\n                }, Ug), e.length)\n                for (var g = 0; g < d.sel.ranges.length; g++) d.sel.ranges[g].goalColumn = e[g]\n        }),\n        findWordAt: function(a) {\n            var b = this.doc,\n                c = dg(b, a.line).text,\n                d = a.ch,\n                e = a.ch;\n            if (c) {\n                var f = this.getHelper(a, \"wordChars\");\n                (a.xRel < 0 || e == c.length) && d ? --d : ++e;\n                for (var g = c.charAt(d), h = ih(g, f) ? function(a) {\n                        return ih(a, f)\n                    } : /\\s/.test(g) ? function(a) {\n                        return /\\s/.test(a)\n                    } : function(a) {\n                        return !/\\s/.test(a) && !ih(a)\n                    }; d > 0 && h(c.charAt(d - 1));) --d;\n                for (; e < c.length && h(c.charAt(e));) ++e\n            }\n            return new Jb(ob(a.line, d), ob(a.line, e))\n        },\n        toggleOverwrite: function(a) {\n            (null == a || a != this.state.overwrite) && ((this.state.overwrite = !this.state.overwrite) ? uh(this.display.cursorDiv, \"CodeMirror-overwrite\") : th(this.display.cursorDiv, \"CodeMirror-overwrite\"), Ig(this, \"overwriteToggle\", this, this.state.overwrite))\n        },\n        hasFocus: function() {\n            return this.display.input.getField() == rh()\n        },\n        scrollTo: dd(function(a, b) {\n            (null != a || null != b) && re(this), null != a && (this.curOp.scrollLeft = a), null != b && (this.curOp.scrollTop = b)\n        }),\n        getScrollInfo: function() {\n            var a = this.display.scroller;\n            return {\n                left: a.scrollLeft,\n                top: a.scrollTop,\n                height: a.scrollHeight - oc(this) - this.display.barHeight,\n                width: a.scrollWidth - oc(this) - this.display.barWidth,\n                clientHeight: qc(this),\n                clientWidth: pc(this)\n            }\n        },\n        scrollIntoView: dd(function(a, b) {\n            if (null == a ? (a = {\n                    from: this.doc.sel.primary().head,\n                    to: null\n                }, null == b && (b = this.options.cursorScrollMargin)) : \"number\" == typeof a ? a = {\n                    from: ob(a, 0),\n                    to: null\n                } : null == a.from && (a = {\n                    from: a,\n                    to: null\n                }), a.to || (a.to = a.from), a.margin = b || 0, null != a.from.line) re(this), this.curOp.scrollToPos = a;\n            else {\n                var c = oe(this, Math.min(a.from.left, a.to.left), Math.min(a.from.top, a.to.top) - a.margin, Math.max(a.from.right, a.to.right), Math.max(a.from.bottom, a.to.bottom) + a.margin);\n                this.scrollTo(c.scrollLeft, c.scrollTop)\n            }\n        }),\n        setSize: dd(function(a, b) {\n            function d(a) {\n                return \"number\" == typeof a || /^\\d+$/.test(String(a)) ? a + \"px\" : a\n            }\n            var c = this;\n            null != a && (c.display.wrapper.style.width = d(a)), null != b && (c.display.wrapper.style.height = d(b)), c.options.lineWrapping && Dc(this);\n            var e = c.display.viewFrom;\n            c.doc.iter(e, c.display.viewTo, function(a) {\n                if (a.widgets)\n                    for (var b = 0; b < a.widgets.length; b++)\n                        if (a.widgets[b].noHScroll) {\n                            id(c, e, \"widget\");\n                            break\n                        }++ e\n            }), c.curOp.forceUpdate = !0, Ig(c, \"refresh\", this)\n        }),\n        operation: function(a) {\n            return bd(this, a)\n        },\n        refresh: dd(function() {\n            var a = this.display.cachedTextHeight;\n            hd(this), this.curOp.forceUpdate = !0, Ec(this), this.scrollTo(this.doc.scrollLeft, this.doc.scrollTop), F(this), (null == a || Math.abs(a - Qc(this.display)) > .5) && B(this), Ig(this, \"refresh\", this)\n        }),\n        swapDoc: dd(function(a) {\n            var b = this.doc;\n            return b.cm = null, cg(this, a), Ec(this), this.display.input.reset(), this.scrollTo(a.scrollLeft, a.scrollTop), this.curOp.forceScroll = !0, Kg(this, \"swapDoc\", this, b), b\n        }),\n        getInputField: function() {\n            return this.display.input.getField()\n        },\n        getWrapperElement: function() {\n            return this.display.wrapper\n        },\n        getScrollerElement: function() {\n            return this.display.scroller\n        },\n        getGutterElement: function() {\n            return this.display.gutters\n        }\n    }, Pg(v);\n    var xe = v.defaults = {},\n        ye = v.optionHandlers = {},\n        Ae = v.Init = {\n            toString: function() {\n                return \"CodeMirror.Init\"\n            }\n        };\n    ze(\"value\", \"\", function(a, b) {\n        a.setValue(b)\n    }, !0), ze(\"mode\", null, function(a, b) {\n        a.doc.modeOption = b, x(a)\n    }, !0), ze(\"indentUnit\", 2, x, !0), ze(\"indentWithTabs\", !1), ze(\"smartIndent\", !0), ze(\"tabSize\", 4, function(a) {\n        y(a), Ec(a), hd(a)\n    }, !0), ze(\"specialChars\", /[\\t\\u0000-\\u0019\\u00ad\\u200b-\\u200f\\u2028\\u2029\\ufeff]/g, function(a, b, c) {\n        a.state.specialChars = new RegExp(b.source + (b.test(\"\t\") ? \"\" : \"|\t\"), \"g\"), c != v.Init && a.refresh()\n    }), ze(\"specialCharPlaceholder\", Pf, function(a) {\n        a.refresh()\n    }, !0), ze(\"electricChars\", !0), ze(\"inputStyle\", n ? \"contenteditable\" : \"textarea\", function() {\n        throw new Error(\"inputStyle can not (yet) be changed in a running editor\")\n    }, !0), ze(\"rtlMoveVisually\", !p), ze(\"wholeLineUpdateBefore\", !0), ze(\"theme\", \"default\", function(a) {\n        C(a), D(a)\n    }, !0), ze(\"keyMap\", \"default\", function(a, b, c) {\n        var d = Oe(b),\n            e = c != v.Init && Oe(c);\n        e && e.detach && e.detach(a, d), d.attach && d.attach(a, e || null)\n    }), ze(\"extraKeys\", null), ze(\"lineWrapping\", !1, z, !0), ze(\"gutters\", [], function(a) {\n        I(a.options), D(a)\n    }, !0), ze(\"fixedGutter\", !0, function(a, b) {\n        a.display.gutters.style.left = b ? T(a.display) + \"px\" : \"0\", a.refresh()\n    }, !0), ze(\"coverGutterNextToScrollbar\", !1, function(a) {\n        N(a)\n    }, !0), ze(\"scrollbarStyle\", \"native\", function(a) {\n        M(a), N(a), a.display.scrollbars.setScrollTop(a.doc.scrollTop), a.display.scrollbars.setScrollLeft(a.doc.scrollLeft)\n    }, !0), ze(\"lineNumbers\", !1, function(a) {\n        I(a.options), D(a)\n    }, !0), ze(\"firstLineNumber\", 1, D, !0), ze(\"lineNumberFormatter\", function(a) {\n        return a\n    }, D, !0), ze(\"showCursorWhenSelecting\", !1, cc, !0), ze(\"resetSelectionOnContextMenu\", !0), ze(\"lineWiseCopyCut\", !0), ze(\"readOnly\", !1, function(a, b) {\n        \"nocursor\" == b ? (Xd(a), a.display.input.blur(), a.display.disabled = !0) : (a.display.disabled = !1, b || a.display.input.reset())\n    }), ze(\"disableInput\", !1, function(a, b) {\n        b || a.display.input.reset()\n    }, !0), ze(\"dragDrop\", !0, pd), ze(\"cursorBlinkRate\", 530), ze(\"cursorScrollMargin\", 0), ze(\"cursorHeight\", 1, cc, !0), ze(\"singleCursorHeightPerLine\", !0, cc, !0), ze(\"workTime\", 100), ze(\"workDelay\", 100), ze(\"flattenSpans\", !0, y, !0), ze(\"addModeClass\", !1, y, !0), ze(\"pollInterval\", 100), ze(\"undoDepth\", 200, function(a, b) {\n        a.doc.history.undoDepth = b\n    }), ze(\"historyEventDelay\", 1250), ze(\"viewportMargin\", 10, function(a) {\n        a.refresh()\n    }, !0), ze(\"maxHighlightLength\", 1e4, y, !0), ze(\"moveInputWithCursor\", !0, function(a, b) {\n        b || a.display.input.resetPosition()\n    }), ze(\"tabindex\", null, function(a, b) {\n        a.display.input.getField().tabIndex = b || \"\"\n    }), ze(\"autofocus\", null);\n    var Be = v.modes = {},\n        Ce = v.mimeModes = {};\n    v.defineMode = function(a, b) {\n        v.defaults.mode || \"null\" == a || (v.defaults.mode = a), arguments.length > 2 && (b.dependencies = Array.prototype.slice.call(arguments, 2)), Be[a] = b\n    }, v.defineMIME = function(a, b) {\n        Ce[a] = b\n    }, v.resolveMode = function(a) {\n        if (\"string\" == typeof a && Ce.hasOwnProperty(a)) a = Ce[a];\n        else if (a && \"string\" == typeof a.name && Ce.hasOwnProperty(a.name)) {\n            var b = Ce[a.name];\n            \"string\" == typeof b && (b = {\n                name: b\n            }), a = dh(b, a), a.name = b.name\n        } else if (\"string\" == typeof a && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(a)) return v.resolveMode(\"application/xml\");\n        return \"string\" == typeof a ? {\n            name: a\n        } : a || {\n            name: \"null\"\n        }\n    }, v.getMode = function(a, b) {\n        var b = v.resolveMode(b),\n            c = Be[b.name];\n        if (!c) return v.getMode(a, \"text/plain\");\n        var d = c(a, b);\n        if (De.hasOwnProperty(b.name)) {\n            var e = De[b.name];\n            for (var f in e) e.hasOwnProperty(f) && (d.hasOwnProperty(f) && (d[\"_\" + f] = d[f]), d[f] = e[f])\n        }\n        if (d.name = b.name, b.helperType && (d.helperType = b.helperType), b.modeProps)\n            for (var f in b.modeProps) d[f] = b.modeProps[f];\n        return d\n    }, v.defineMode(\"null\", function() {\n        return {\n            token: function(a) {\n                a.skipToEnd()\n            }\n        }\n    }), v.defineMIME(\"text/plain\", \"null\");\n    var De = v.modeExtensions = {};\n    v.extendMode = function(a, b) {\n        var c = De.hasOwnProperty(a) ? De[a] : De[a] = {};\n        eh(b, c)\n    }, v.defineExtension = function(a, b) {\n        v.prototype[a] = b\n    }, v.defineDocExtension = function(a, b) {\n        $f.prototype[a] = b\n    }, v.defineOption = ze;\n    var Ee = [];\n    v.defineInitHook = function(a) {\n        Ee.push(a)\n    };\n    var Fe = v.helpers = {};\n    v.registerHelper = function(a, b, c) {\n        Fe.hasOwnProperty(a) || (Fe[a] = v[a] = {\n            _global: []\n        }), Fe[a][b] = c\n    }, v.registerGlobalHelper = function(a, b, c, d) {\n        v.registerHelper(a, b, d), Fe[a]._global.push({\n            pred: c,\n            val: d\n        })\n    };\n    var Ge = v.copyState = function(a, b) {\n            if (b === !0) return b;\n            if (a.copyState) return a.copyState(b);\n            var c = {};\n            for (var d in b) {\n                var e = b[d];\n                e instanceof Array && (e = e.concat([])), c[d] = e\n            }\n            return c\n        },\n        He = v.startState = function(a, b, c) {\n            return a.startState ? a.startState(b, c) : !0\n        };\n    v.innerMode = function(a, b) {\n        for (; a.innerMode;) {\n            var c = a.innerMode(b);\n            if (!c || c.mode == a) break;\n            b = c.state, a = c.mode\n        }\n        return c || {\n            mode: a,\n            state: b\n        }\n    };\n    var Ie = v.commands = {\n            selectAll: function(a) {\n                a.setSelection(ob(a.firstLine(), 0), ob(a.lastLine()), Sg)\n            },\n            singleSelection: function(a) {\n                a.setSelection(a.getCursor(\"anchor\"), a.getCursor(\"head\"), Sg)\n            },\n            killLine: function(a) {\n                ue(a, function(b) {\n                    if (b.empty()) {\n                        var c = dg(a.doc, b.head.line).text.length;\n                        return b.head.ch == c && b.head.line < a.lastLine() ? {\n                            from: b.head,\n                            to: ob(b.head.line + 1, 0)\n                        } : {\n                            from: b.head,\n                            to: ob(b.head.line, c)\n                        }\n                    }\n                    return {\n                        from: b.from(),\n                        to: b.to()\n                    }\n                })\n            },\n            deleteLine: function(a) {\n                ue(a, function(b) {\n                    return {\n                        from: ob(b.from().line, 0),\n                        to: Nb(a.doc, ob(b.to().line + 1, 0))\n                    }\n                })\n            },\n            delLineLeft: function(a) {\n                ue(a, function(a) {\n                    return {\n                        from: ob(a.from().line, 0),\n                        to: a.from()\n                    }\n                })\n            },\n            delWrappedLineLeft: function(a) {\n                ue(a, function(b) {\n                    var c = a.charCoords(b.head, \"div\").top + 5,\n                        d = a.coordsChar({\n                            left: 0,\n                            top: c\n                        }, \"div\");\n                    return {\n                        from: d,\n                        to: b.from()\n                    }\n                })\n            },\n            delWrappedLineRight: function(a) {\n                ue(a, function(b) {\n                    var c = a.charCoords(b.head, \"div\").top + 5,\n                        d = a.coordsChar({\n                            left: a.display.lineDiv.offsetWidth + 100,\n                            top: c\n                        }, \"div\");\n                    return {\n                        from: b.from(),\n                        to: d\n                    }\n                })\n            },\n            undo: function(a) {\n                a.undo()\n            },\n            redo: function(a) {\n                a.redo()\n            },\n            undoSelection: function(a) {\n                a.undoSelection()\n            },\n            redoSelection: function(a) {\n                a.redoSelection()\n            },\n            goDocStart: function(a) {\n                a.extendSelection(ob(a.firstLine(), 0))\n            },\n            goDocEnd: function(a) {\n                a.extendSelection(ob(a.lastLine()))\n            },\n            goLineStart: function(a) {\n                a.extendSelectionsBy(function(b) {\n                    return Qh(a, b.head.line)\n                }, {\n                    origin: \"+move\",\n                    bias: 1\n                })\n            },\n            goLineStartSmart: function(a) {\n                a.extendSelectionsBy(function(b) {\n                    return Sh(a, b.head)\n                }, {\n                    origin: \"+move\",\n                    bias: 1\n                })\n            },\n            goLineEnd: function(a) {\n                a.extendSelectionsBy(function(b) {\n                    return Rh(a, b.head.line)\n                }, {\n                    origin: \"+move\",\n                    bias: -1\n                })\n            },\n            goLineRight: function(a) {\n                a.extendSelectionsBy(function(b) {\n                    var c = a.charCoords(b.head, \"div\").top + 5;\n                    return a.coordsChar({\n                        left: a.display.lineDiv.offsetWidth + 100,\n                        top: c\n                    }, \"div\")\n                }, Ug)\n            },\n            goLineLeft: function(a) {\n                a.extendSelectionsBy(function(b) {\n                    var c = a.charCoords(b.head, \"div\").top + 5;\n                    return a.coordsChar({\n                        left: 0,\n                        top: c\n                    }, \"div\")\n                }, Ug)\n            },\n            goLineLeftSmart: function(a) {\n                a.extendSelectionsBy(function(b) {\n                    var c = a.charCoords(b.head, \"div\").top + 5,\n                        d = a.coordsChar({\n                            left: 0,\n                            top: c\n                        }, \"div\");\n                    return d.ch < a.getLine(d.line).search(/\\S/) ? Sh(a, b.head) : d\n                }, Ug)\n            },\n            goLineUp: function(a) {\n                a.moveV(-1, \"line\")\n            },\n            goLineDown: function(a) {\n                a.moveV(1, \"line\")\n            },\n            goPageUp: function(a) {\n                a.moveV(-1, \"page\")\n            },\n            goPageDown: function(a) {\n                a.moveV(1, \"page\")\n            },\n            goCharLeft: function(a) {\n                a.moveH(-1, \"char\")\n            },\n            goCharRight: function(a) {\n                a.moveH(1, \"char\")\n            },\n            goColumnLeft: function(a) {\n                a.moveH(-1, \"column\")\n            },\n            goColumnRight: function(a) {\n                a.moveH(1, \"column\")\n            },\n            goWordLeft: function(a) {\n                a.moveH(-1, \"word\")\n            },\n            goGroupRight: function(a) {\n                a.moveH(1, \"group\")\n            },\n            goGroupLeft: function(a) {\n                a.moveH(-1, \"group\")\n            },\n            goWordRight: function(a) {\n                a.moveH(1, \"word\")\n            },\n            delCharBefore: function(a) {\n                a.deleteH(-1, \"char\")\n            },\n            delCharAfter: function(a) {\n                a.deleteH(1, \"char\")\n            },\n            delWordBefore: function(a) {\n                a.deleteH(-1, \"word\")\n            },\n            delWordAfter: function(a) {\n                a.deleteH(1, \"word\")\n            },\n            delGroupBefore: function(a) {\n                a.deleteH(-1, \"group\")\n            },\n            delGroupAfter: function(a) {\n                a.deleteH(1, \"group\")\n            },\n            indentAuto: function(a) {\n                a.indentSelection(\"smart\")\n            },\n            indentMore: function(a) {\n                a.indentSelection(\"add\")\n            },\n            indentLess: function(a) {\n                a.indentSelection(\"subtract\")\n            },\n            insertTab: function(a) {\n                a.replaceSelection(\"\t\")\n            },\n            insertSoftTab: function(a) {\n                for (var b = [], c = a.listSelections(), d = a.options.tabSize, e = 0; e < c.length; e++) {\n                    var f = c[e].from(),\n                        g = Wg(a.getLine(f.line), f.ch, d);\n                    b.push(new Array(d - g % d + 1).join(\" \"))\n                }\n                a.replaceSelections(b)\n            },\n            defaultTab: function(a) {\n                a.somethingSelected() ? a.indentSelection(\"add\") : a.execCommand(\"insertTab\")\n            },\n            transposeChars: function(a) {\n                bd(a, function() {\n                    for (var b = a.listSelections(), c = [], d = 0; d < b.length; d++) {\n                        var e = b[d].head,\n                            f = dg(a.doc, e.line).text;\n                        if (f)\n                            if (e.ch == f.length && (e = new ob(e.line, e.ch - 1)), e.ch > 0) e = new ob(e.line, e.ch + 1), a.replaceRange(f.charAt(e.ch - 1) + f.charAt(e.ch - 2), ob(e.line, e.ch - 2), e, \"+transpose\");\n                            else if (e.line > a.doc.first) {\n                            var g = dg(a.doc, e.line - 1).text;\n                            g && a.replaceRange(f.charAt(0) + \"\\n\" + g.charAt(g.length - 1), ob(e.line - 1, g.length - 1), ob(e.line, 1), \"+transpose\")\n                        }\n                        c.push(new Jb(e, e))\n                    }\n                    a.setSelections(c)\n                })\n            },\n            newlineAndIndent: function(a) {\n                bd(a, function() {\n                    for (var b = a.listSelections().length, c = 0; b > c; c++) {\n                        var d = a.listSelections()[c];\n                        a.replaceRange(\"\\n\", d.anchor, d.head, \"+input\"), a.indentLine(d.from().line + 1, null, !0), qe(a)\n                    }\n                })\n            },\n            toggleOverwrite: function(a) {\n                a.toggleOverwrite()\n            }\n        },\n        Je = v.keyMap = {};\n    Je.basic = {\n        Left: \"goCharLeft\",\n        Right: \"goCharRight\",\n        Up: \"goLineUp\",\n        Down: \"goLineDown\",\n        End: \"goLineEnd\",\n        Home: \"goLineStartSmart\",\n        PageUp: \"goPageUp\",\n        PageDown: \"goPageDown\",\n        Delete: \"delCharAfter\",\n        Backspace: \"delCharBefore\",\n        \"Shift-Backspace\": \"delCharBefore\",\n        Tab: \"defaultTab\",\n        \"Shift-Tab\": \"indentAuto\",\n        Enter: \"newlineAndIndent\",\n        Insert: \"toggleOverwrite\",\n        Esc: \"singleSelection\"\n    }, Je.pcDefault = {\n        \"Ctrl-A\": \"selectAll\",\n        \"Ctrl-D\": \"deleteLine\",\n        \"Ctrl-Z\": \"undo\",\n        \"Shift-Ctrl-Z\": \"redo\",\n        \"Ctrl-Y\": \"redo\",\n        \"Ctrl-Home\": \"goDocStart\",\n        \"Ctrl-End\": \"goDocEnd\",\n        \"Ctrl-Up\": \"goLineUp\",\n        \"Ctrl-Down\": \"goLineDown\",\n        \"Ctrl-Left\": \"goGroupLeft\",\n        \"Ctrl-Right\": \"goGroupRight\",\n        \"Alt-Left\": \"goLineStart\",\n        \"Alt-Right\": \"goLineEnd\",\n        \"Ctrl-Backspace\": \"delGroupBefore\",\n        \"Ctrl-Delete\": \"delGroupAfter\",\n        \"Ctrl-S\": \"save\",\n        \"Ctrl-F\": \"find\",\n        \"Ctrl-G\": \"findNext\",\n        \"Shift-Ctrl-G\": \"findPrev\",\n        \"Shift-Ctrl-F\": \"replace\",\n        \"Shift-Ctrl-R\": \"replaceAll\",\n        \"Ctrl-[\": \"indentLess\",\n        \"Ctrl-]\": \"indentMore\",\n        \"Ctrl-U\": \"undoSelection\",\n        \"Shift-Ctrl-U\": \"redoSelection\",\n        \"Alt-U\": \"redoSelection\",\n        fallthrough: \"basic\"\n    }, Je.emacsy = {\n        \"Ctrl-F\": \"goCharRight\",\n        \"Ctrl-B\": \"goCharLeft\",\n        \"Ctrl-P\": \"goLineUp\",\n        \"Ctrl-N\": \"goLineDown\",\n        \"Alt-F\": \"goWordRight\",\n        \"Alt-B\": \"goWordLeft\",\n        \"Ctrl-A\": \"goLineStart\",\n        \"Ctrl-E\": \"goLineEnd\",\n        \"Ctrl-V\": \"goPageDown\",\n        \"Shift-Ctrl-V\": \"goPageUp\",\n        \"Ctrl-D\": \"delCharAfter\",\n        \"Ctrl-H\": \"delCharBefore\",\n        \"Alt-D\": \"delWordAfter\",\n        \"Alt-Backspace\": \"delWordBefore\",\n        \"Ctrl-K\": \"killLine\",\n        \"Ctrl-T\": \"transposeChars\"\n    }, Je.macDefault = {\n        \"Cmd-A\": \"selectAll\",\n        \"Cmd-D\": \"deleteLine\",\n        \"Cmd-Z\": \"undo\",\n        \"Shift-Cmd-Z\": \"redo\",\n        \"Cmd-Y\": \"redo\",\n        \"Cmd-Home\": \"goDocStart\",\n        \"Cmd-Up\": \"goDocStart\",\n        \"Cmd-End\": \"goDocEnd\",\n        \"Cmd-Down\": \"goDocEnd\",\n        \"Alt-Left\": \"goGroupLeft\",\n        \"Alt-Right\": \"goGroupRight\",\n        \"Cmd-Left\": \"goLineLeft\",\n        \"Cmd-Right\": \"goLineRight\",\n        \"Alt-Backspace\": \"delGroupBefore\",\n        \"Ctrl-Alt-Backspace\": \"delGroupAfter\",\n        \"Alt-Delete\": \"delGroupAfter\",\n        \"Cmd-S\": \"save\",\n        \"Cmd-F\": \"find\",\n        \"Cmd-G\": \"findNext\",\n        \"Shift-Cmd-G\": \"findPrev\",\n        \"Cmd-Alt-F\": \"replace\",\n        \"Shift-Cmd-Alt-F\": \"replaceAll\",\n        \"Cmd-[\": \"indentLess\",\n        \"Cmd-]\": \"indentMore\",\n        \"Cmd-Backspace\": \"delWrappedLineLeft\",\n        \"Cmd-Delete\": \"delWrappedLineRight\",\n        \"Cmd-U\": \"undoSelection\",\n        \"Shift-Cmd-U\": \"redoSelection\",\n        \"Ctrl-Up\": \"goDocStart\",\n        \"Ctrl-Down\": \"goDocEnd\",\n        fallthrough: [\"basic\", \"emacsy\"]\n    }, Je[\"default\"] = o ? Je.macDefault : Je.pcDefault, v.normalizeKeyMap = function(a) {\n        var b = {};\n        for (var c in a)\n            if (a.hasOwnProperty(c)) {\n                var d = a[c];\n                if (/^(name|fallthrough|(de|at)tach)$/.test(c)) continue;\n                if (\"...\" == d) {\n                    delete a[c];\n                    continue\n                }\n                for (var e = bh(c.split(\" \"), Ke), f = 0; f < e.length; f++) {\n                    var g, h;\n                    f == e.length - 1 ? (h = e.join(\" \"), g = d) : (h = e.slice(0, f + 1).join(\" \"), g = \"...\");\n                    var i = b[h];\n                    if (i) {\n                        if (i != g) throw new Error(\"Inconsistent bindings for \" + h)\n                    } else b[h] = g\n                }\n                delete a[c]\n            } for (var j in b) a[j] = b[j];\n        return a\n    };\n    var Le = v.lookupKey = function(a, b, c, d) {\n            b = Oe(b);\n            var e = b.call ? b.call(a, d) : b[a];\n            if (e === !1) return \"nothing\";\n            if (\"...\" === e) return \"multi\";\n            if (null != e && c(e)) return \"handled\";\n            if (b.fallthrough) {\n                if (\"[object Array]\" != Object.prototype.toString.call(b.fallthrough)) return Le(a, b.fallthrough, c, d);\n                for (var f = 0; f < b.fallthrough.length; f++) {\n                    var g = Le(a, b.fallthrough[f], c, d);\n                    if (g) return g\n                }\n            }\n        },\n        Me = v.isModifierKey = function(a) {\n            var b = \"string\" == typeof a ? a : Kh[a.keyCode];\n            return \"Ctrl\" == b || \"Alt\" == b || \"Shift\" == b || \"Mod\" == b\n        },\n        Ne = v.keyName = function(a, b) {\n            if (i && 34 == a.keyCode && a[\"char\"]) return !1;\n            var c = Kh[a.keyCode],\n                d = c;\n            return null == d || a.altGraphKey ? !1 : (a.altKey && \"Alt\" != c && (d = \"Alt-\" + d), (r ? a.metaKey : a.ctrlKey) && \"Ctrl\" != c && (d = \"Ctrl-\" + d), (r ? a.ctrlKey : a.metaKey) && \"Cmd\" != c && (d = \"Cmd-\" + d), !b && a.shiftKey && \"Shift\" != c && (d = \"Shift-\" + d), d)\n        };\n    v.fromTextArea = function(a, b) {\n        function d() {\n            a.value = i.getValue()\n        }\n        if (b = b ? eh(b) : {}, b.value = a.value, !b.tabindex && a.tabIndex && (b.tabindex = a.tabIndex), !b.placeholder && a.placeholder && (b.placeholder = a.placeholder), null == b.autofocus) {\n            var c = rh();\n            b.autofocus = c == a || null != a.getAttribute(\"autofocus\") && c == document.body\n        }\n        if (a.form && (Gg(a.form, \"submit\", d), !b.leaveSubmitMethodAlone)) {\n            var e = a.form,\n                f = e.submit;\n            try {\n                var g = e.submit = function() {\n                    d(), e.submit = f, e.submit(), e.submit = g\n                }\n            } catch (h) {}\n        }\n        b.finishInit = function(b) {\n            b.save = d, b.getTextArea = function() {\n                return a\n            }, b.toTextArea = function() {\n                b.toTextArea = isNaN, d(), a.parentNode.removeChild(b.getWrapperElement()), a.style.display = \"\", a.form && (Hg(a.form, \"submit\", d), \"function\" == typeof a.form.submit && (a.form.submit = f))\n            }\n        }, a.style.display = \"none\";\n        var i = v(function(b) {\n            a.parentNode.insertBefore(b, a.nextSibling)\n        }, b);\n        return i\n    };\n    var Pe = v.StringStream = function(a, b) {\n        this.pos = this.start = 0, this.string = a, this.tabSize = b || 8, this.lastColumnPos = this.lastColumnValue = 0, this.lineStart = 0\n    };\n    Pe.prototype = {\n        eol: function() {\n            return this.pos >= this.string.length\n        },\n        sol: function() {\n            return this.pos == this.lineStart\n        },\n        peek: function() {\n            return this.string.charAt(this.pos) || void 0\n        },\n        next: function() {\n            return this.pos < this.string.length ? this.string.charAt(this.pos++) : void 0\n        },\n        eat: function(a) {\n            var b = this.string.charAt(this.pos);\n            if (\"string\" == typeof a) var c = b == a;\n            else var c = b && (a.test ? a.test(b) : a(b));\n            return c ? (++this.pos, b) : void 0\n        },\n        eatWhile: function(a) {\n            for (var b = this.pos; this.eat(a););\n            return this.pos > b\n        },\n        eatSpace: function() {\n            for (var a = this.pos;\n                /[\\s\\u00a0]/.test(this.string.charAt(this.pos));) ++this.pos;\n            return this.pos > a\n        },\n        skipToEnd: function() {\n            this.pos = this.string.length\n        },\n        skipTo: function(a) {\n            var b = this.string.indexOf(a, this.pos);\n            return b > -1 ? (this.pos = b, !0) : void 0\n        },\n        backUp: function(a) {\n            this.pos -= a\n        },\n        column: function() {\n            return this.lastColumnPos < this.start && (this.lastColumnValue = Wg(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue), this.lastColumnPos = this.start), this.lastColumnValue - (this.lineStart ? Wg(this.string, this.lineStart, this.tabSize) : 0)\n        },\n        indentation: function() {\n            return Wg(this.string, null, this.tabSize) - (this.lineStart ? Wg(this.string, this.lineStart, this.tabSize) : 0)\n        },\n        match: function(a, b, c) {\n            if (\"string\" != typeof a) {\n                var f = this.string.slice(this.pos).match(a);\n                return f && f.index > 0 ? null : (f && b !== !1 && (this.pos += f[0].length), f)\n            }\n            var d = function(a) {\n                    return c ? a.toLowerCase() : a\n                },\n                e = this.string.substr(this.pos, a.length);\n            return d(e) == d(a) ? (b !== !1 && (this.pos += a.length), !0) : void 0\n        },\n        current: function() {\n            return this.string.slice(this.start, this.pos)\n        },\n        hideFirstChars: function(a, b) {\n            this.lineStart += a;\n            try {\n                return b()\n            } finally {\n                this.lineStart -= a\n            }\n        }\n    };\n    var Qe = 0,\n        Re = v.TextMarker = function(a, b) {\n            this.lines = [], this.type = b, this.doc = a, this.id = ++Qe\n        };\n    Pg(Re), Re.prototype.clear = function() {\n        if (!this.explicitlyCleared) {\n            var a = this.doc.cm,\n                b = a && !a.curOp;\n            if (b && Uc(a), Og(this, \"clear\")) {\n                var c = this.find();\n                c && Kg(this, \"clear\", c.from, c.to)\n            }\n            for (var d = null, e = null, f = 0; f < this.lines.length; ++f) {\n                var g = this.lines[f],\n                    h = Ze(g.markedSpans, this);\n                a && !this.collapsed ? id(a, hg(g), \"text\") : a && (null != h.to && (e = hg(g)), null != h.from && (d = hg(g))), g.markedSpans = $e(g.markedSpans, h), null == h.from && this.collapsed && !uf(this.doc, g) && a && gg(g, Qc(a.display))\n            }\n            if (a && this.collapsed && !a.options.lineWrapping)\n                for (var f = 0; f < this.lines.length; ++f) {\n                    var i = qf(this.lines[f]),\n                        j = G(i);\n                    j > a.display.maxLineLength && (a.display.maxLine = i, a.display.maxLineLength = j, a.display.maxLineChanged = !0)\n                }\n            null != d && a && this.collapsed && hd(a, d, e + 1), this.lines.length = 0, this.explicitlyCleared = !0, this.atomic && this.doc.cantEdit && (this.doc.cantEdit = !1, a && _b(a.doc)), a && Kg(a, \"markerCleared\", a, this), b && Wc(a), this.parent && this.parent.clear()\n        }\n    }, Re.prototype.find = function(a, b) {\n        null == a && \"bookmark\" == this.type && (a = 1);\n        for (var c, d, e = 0; e < this.lines.length; ++e) {\n            var f = this.lines[e],\n                g = Ze(f.markedSpans, this);\n            if (null != g.from && (c = ob(b ? f : hg(f), g.from), -1 == a)) return c;\n            if (null != g.to && (d = ob(b ? f : hg(f), g.to), 1 == a)) return d\n        }\n        return c && {\n            from: c,\n            to: d\n        }\n    }, Re.prototype.changed = function() {\n        var a = this.find(-1, !0),\n            b = this,\n            c = this.doc.cm;\n        a && c && bd(c, function() {\n            var d = a.line,\n                e = hg(a.line),\n                f = vc(c, e);\n            if (f && (Cc(f), c.curOp.selectionChanged = c.curOp.forceUpdate = !0), c.curOp.updateMaxLine = !0, !uf(b.doc, d) && null != b.height) {\n                var g = b.height;\n                b.height = null;\n                var h = yf(b) - g;\n                h && gg(d, d.height + h)\n            }\n        })\n    }, Re.prototype.attachLine = function(a) {\n        if (!this.lines.length && this.doc.cm) {\n            var b = this.doc.cm.curOp;\n            b.maybeHiddenMarkers && -1 != ah(b.maybeHiddenMarkers, this) || (b.maybeUnhiddenMarkers || (b.maybeUnhiddenMarkers = [])).push(this)\n        }\n        this.lines.push(a)\n    }, Re.prototype.detachLine = function(a) {\n        if (this.lines.splice(ah(this.lines, a), 1), !this.lines.length && this.doc.cm) {\n            var b = this.doc.cm.curOp;\n            (b.maybeHiddenMarkers || (b.maybeHiddenMarkers = [])).push(this)\n        }\n    };\n    var Qe = 0,\n        Te = v.SharedTextMarker = function(a, b) {\n            this.markers = a, this.primary = b;\n            for (var c = 0; c < a.length; ++c) a[c].parent = this\n        };\n    Pg(Te), Te.prototype.clear = function() {\n        if (!this.explicitlyCleared) {\n            this.explicitlyCleared = !0;\n            for (var a = 0; a < this.markers.length; ++a) this.markers[a].clear();\n            Kg(this, \"clear\")\n        }\n    }, Te.prototype.find = function(a, b) {\n        return this.primary.find(a, b)\n    };\n    var wf = v.LineWidget = function(a, b, c) {\n        if (c)\n            for (var d in c) c.hasOwnProperty(d) && (this[d] = c[d]);\n        this.doc = a, this.node = b\n    };\n    Pg(wf), wf.prototype.clear = function() {\n        var a = this.doc.cm,\n            b = this.line.widgets,\n            c = this.line,\n            d = hg(c);\n        if (null != d && b) {\n            for (var e = 0; e < b.length; ++e) b[e] == this && b.splice(e--, 1);\n            b.length || (c.widgets = null);\n            var f = yf(this);\n            gg(c, Math.max(0, c.height - f)), a && bd(a, function() {\n                xf(a, c, -f), id(a, d, \"widget\")\n            })\n        }\n    }, wf.prototype.changed = function() {\n        var a = this.height,\n            b = this.doc.cm,\n            c = this.line;\n        this.height = null;\n        var d = yf(this) - a;\n        d && (gg(c, c.height + d), b && bd(b, function() {\n            b.curOp.forceUpdate = !0, xf(b, c, d)\n        }))\n    };\n    var Af = v.Line = function(a, b, c) {\n        this.text = a, hf(this, b), this.height = c ? c(this) : 1\n    };\n    Pg(Af), Af.prototype.lineNo = function() {\n        return hg(this)\n    };\n    var Lf = {},\n        Mf = {};\n    Xf.prototype = {\n        chunkSize: function() {\n            return this.lines.length\n        },\n        removeInner: function(a, b) {\n            for (var c = a, d = a + b; d > c; ++c) {\n                var e = this.lines[c];\n                this.height -= e.height, Cf(e), Kg(e, \"delete\")\n            }\n            this.lines.splice(a, b)\n        },\n        collapse: function(a) {\n            a.push.apply(a, this.lines)\n        },\n        insertInner: function(a, b, c) {\n            this.height += c, this.lines = this.lines.slice(0, a).concat(b).concat(this.lines.slice(a));\n            for (var d = 0; d < b.length; ++d) b[d].parent = this\n        },\n        iterN: function(a, b, c) {\n            for (var d = a + b; d > a; ++a)\n                if (c(this.lines[a])) return !0\n        }\n    }, Yf.prototype = {\n        chunkSize: function() {\n            return this.size\n        },\n        removeInner: function(a, b) {\n            this.size -= b;\n            for (var c = 0; c < this.children.length; ++c) {\n                var d = this.children[c],\n                    e = d.chunkSize();\n                if (e > a) {\n                    var f = Math.min(b, e - a),\n                        g = d.height;\n                    if (d.removeInner(a, f), this.height -= g - d.height, e == f && (this.children.splice(c--, 1), d.parent = null), 0 == (b -= f)) break;\n                    a = 0\n                } else a -= e\n            }\n            if (this.size - b < 25 && (this.children.length > 1 || !(this.children[0] instanceof Xf))) {\n                var h = [];\n                this.collapse(h), this.children = [new Xf(h)], this.children[0].parent = this\n            }\n        },\n        collapse: function(a) {\n            for (var b = 0; b < this.children.length; ++b) this.children[b].collapse(a)\n        },\n        insertInner: function(a, b, c) {\n            this.size += b.length, this.height += c;\n            for (var d = 0; d < this.children.length; ++d) {\n                var e = this.children[d],\n                    f = e.chunkSize();\n                if (f >= a) {\n                    if (e.insertInner(a, b, c), e.lines && e.lines.length > 50) {\n                        for (; e.lines.length > 50;) {\n                            var g = e.lines.splice(e.lines.length - 25, 25),\n                                h = new Xf(g);\n                            e.height -= h.height, this.children.splice(d + 1, 0, h), h.parent = this\n                        }\n                        this.maybeSpill()\n                    }\n                    break\n                }\n                a -= f\n            }\n        },\n        maybeSpill: function() {\n            if (!(this.children.length <= 10)) {\n                var a = this;\n                do {\n                    var b = a.children.splice(a.children.length - 5, 5),\n                        c = new Yf(b);\n                    if (a.parent) {\n                        a.size -= c.size, a.height -= c.height;\n                        var e = ah(a.parent.children, a);\n                        a.parent.children.splice(e + 1, 0, c)\n                    } else {\n                        var d = new Yf(a.children);\n                        d.parent = a, a.children = [d, c], a = d\n                    }\n                    c.parent = a.parent\n                } while (a.children.length > 10);\n                a.parent.maybeSpill()\n            }\n        },\n        iterN: function(a, b, c) {\n            for (var d = 0; d < this.children.length; ++d) {\n                var e = this.children[d],\n                    f = e.chunkSize();\n                if (f > a) {\n                    var g = Math.min(b, f - a);\n                    if (e.iterN(a, g, c)) return !0;\n                    if (0 == (b -= g)) break;\n                    a = 0\n                } else a -= f\n            }\n        }\n    };\n    var Zf = 0,\n        $f = v.Doc = function(a, b, c) {\n            if (!(this instanceof $f)) return new $f(a, b, c);\n            null == c && (c = 0), Yf.call(this, [new Xf([new Af(\"\", null)])]), this.first = c, this.scrollTop = this.scrollLeft = 0, this.cantEdit = !1, this.cleanGeneration = 1, this.frontier = c;\n            var d = ob(c, 0);\n            this.sel = Lb(d), this.history = new lg(null), this.id = ++Zf, this.modeOption = b, \"string\" == typeof a && (a = Fh(a)), Wf(this, {\n                from: d,\n                to: d,\n                text: a\n            }), Yb(this, Lb(d), Sg)\n        };\n    $f.prototype = dh(Yf.prototype, {\n        constructor: $f,\n        iter: function(a, b, c) {\n            c ? this.iterN(a - this.first, b - a, c) : this.iterN(this.first, this.first + this.size, a)\n        },\n        insert: function(a, b) {\n            for (var c = 0, d = 0; d < b.length; ++d) c += b[d].height;\n            this.insertInner(a - this.first, b, c)\n        },\n        remove: function(a, b) {\n            this.removeInner(a - this.first, b)\n        },\n        getValue: function(a) {\n            var b = fg(this, this.first, this.first + this.size);\n            return a === !1 ? b : b.join(a || \"\\n\")\n        },\n        setValue: ed(function(a) {\n            var b = ob(this.first, 0),\n                c = this.first + this.size - 1;\n            ee(this, {\n                from: b,\n                to: ob(c, dg(this, c).text.length),\n                text: Fh(a),\n                origin: \"setValue\",\n                full: !0\n            }, !0), Yb(this, Lb(b))\n        }),\n        replaceRange: function(a, b, c, d) {\n            b = Nb(this, b), c = c ? Nb(this, c) : b, ke(this, a, b, c, d)\n        },\n        getRange: function(a, b, c) {\n            var d = eg(this, Nb(this, a), Nb(this, b));\n            return c === !1 ? d : d.join(c || \"\\n\")\n        },\n        getLine: function(a) {\n            var b = this.getLineHandle(a);\n            return b && b.text\n        },\n        getLineHandle: function(a) {\n            return Pb(this, a) ? dg(this, a) : void 0\n        },\n        getLineNumber: function(a) {\n            return hg(a)\n        },\n        getLineHandleVisualStart: function(a) {\n            return \"number\" == typeof a && (a = dg(this, a)), qf(a)\n        },\n        lineCount: function() {\n            return this.size\n        },\n        firstLine: function() {\n            return this.first\n        },\n        lastLine: function() {\n            return this.first + this.size - 1\n        },\n        clipPos: function(a) {\n            return Nb(this, a)\n        },\n        getCursor: function(a) {\n            var c, b = this.sel.primary();\n            return c = null == a || \"head\" == a ? b.head : \"anchor\" == a ? b.anchor : \"end\" == a || \"to\" == a || a === !1 ? b.to() : b.from()\n        },\n        listSelections: function() {\n            return this.sel.ranges\n        },\n        somethingSelected: function() {\n            return this.sel.somethingSelected()\n        },\n        setCursor: ed(function(a, b, c) {\n            Vb(this, Nb(this, \"number\" == typeof a ? ob(a, b || 0) : a), null, c)\n        }),\n        setSelection: ed(function(a, b, c) {\n            Vb(this, Nb(this, a), Nb(this, b || a), c)\n        }),\n        extendSelection: ed(function(a, b, c) {\n            Sb(this, Nb(this, a), b && Nb(this, b), c)\n        }),\n        extendSelections: ed(function(a, b) {\n            Tb(this, Qb(this, a, b))\n        }),\n        extendSelectionsBy: ed(function(a, b) {\n            Tb(this, bh(this.sel.ranges, a), b)\n        }),\n        setSelections: ed(function(a, b, c) {\n            if (a.length) {\n                for (var d = 0, e = []; d < a.length; d++) e[d] = new Jb(Nb(this, a[d].anchor), Nb(this, a[d].head));\n                null == b && (b = Math.min(a.length - 1, this.sel.primIndex)), Yb(this, Kb(e, b), c)\n            }\n        }),\n        addSelection: ed(function(a, b, c) {\n            var d = this.sel.ranges.slice(0);\n            d.push(new Jb(Nb(this, a), Nb(this, b || a))), Yb(this, Kb(d, d.length - 1), c)\n        }),\n        getSelection: function(a) {\n            for (var c, b = this.sel.ranges, d = 0; d < b.length; d++) {\n                var e = eg(this, b[d].from(), b[d].to());\n                c = c ? c.concat(e) : e\n            }\n            return a === !1 ? c : c.join(a || \"\\n\")\n        },\n        getSelections: function(a) {\n            for (var b = [], c = this.sel.ranges, d = 0; d < c.length; d++) {\n                var e = eg(this, c[d].from(), c[d].to());\n                a !== !1 && (e = e.join(a || \"\\n\")), b[d] = e\n            }\n            return b\n        },\n        replaceSelection: function(a, b, c) {\n            for (var d = [], e = 0; e < this.sel.ranges.length; e++) d[e] = a;\n            this.replaceSelections(d, b, c || \"+input\")\n        },\n        replaceSelections: ed(function(a, b, c) {\n            for (var d = [], e = this.sel, f = 0; f < e.ranges.length; f++) {\n                var g = e.ranges[f];\n                d[f] = {\n                    from: g.from(),\n                    to: g.to(),\n                    text: Fh(a[f]),\n                    origin: c\n                }\n            }\n            for (var h = b && \"end\" != b && ce(this, d, b), f = d.length - 1; f >= 0; f--) ee(this, d[f]);\n            h ? Xb(this, h) : this.cm && qe(this.cm)\n        }),\n        undo: ed(function() {\n            ge(this, \"undo\")\n        }),\n        redo: ed(function() {\n            ge(this, \"redo\")\n        }),\n        undoSelection: ed(function() {\n            ge(this, \"undo\", !0)\n        }),\n        redoSelection: ed(function() {\n            ge(this, \"redo\", !0)\n        }),\n        setExtending: function(a) {\n            this.extend = a\n        },\n        getExtending: function() {\n            return this.extend\n        },\n        historySize: function() {\n            for (var a = this.history, b = 0, c = 0, d = 0; d < a.done.length; d++) a.done[d].ranges || ++b;\n            for (var d = 0; d < a.undone.length; d++) a.undone[d].ranges || ++c;\n            return {\n                undo: b,\n                redo: c\n            }\n        },\n        clearHistory: function() {\n            this.history = new lg(this.history.maxGeneration)\n        },\n        markClean: function() {\n            this.cleanGeneration = this.changeGeneration(!0)\n        },\n        changeGeneration: function(a) {\n            return a && (this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null), this.history.generation\n        },\n        isClean: function(a) {\n            return this.history.generation == (a || this.cleanGeneration)\n        },\n        getHistory: function() {\n            return {\n                done: wg(this.history.done),\n                undone: wg(this.history.undone)\n            }\n        },\n        setHistory: function(a) {\n            var b = this.history = new lg(this.history.maxGeneration);\n            b.done = wg(a.done.slice(0), null, !0), b.undone = wg(a.undone.slice(0), null, !0)\n        },\n        addLineClass: ed(function(a, b, c) {\n            return te(this, a, \"gutter\" == b ? \"gutter\" : \"class\", function(a) {\n                var d = \"text\" == b ? \"textClass\" : \"background\" == b ? \"bgClass\" : \"gutter\" == b ? \"gutterClass\" : \"wrapClass\";\n                if (a[d]) {\n                    if (sh(c).test(a[d])) return !1;\n                    a[d] += \" \" + c\n                } else a[d] = c;\n                return !0\n            })\n        }),\n        removeLineClass: ed(function(a, b, c) {\n            return te(this, a, \"gutter\" == b ? \"gutter\" : \"class\", function(a) {\n                var d = \"text\" == b ? \"textClass\" : \"background\" == b ? \"bgClass\" : \"gutter\" == b ? \"gutterClass\" : \"wrapClass\",\n                    e = a[d];\n                if (!e) return !1;\n                if (null == c) a[d] = null;\n                else {\n                    var f = e.match(sh(c));\n                    if (!f) return !1;\n                    var g = f.index + f[0].length;\n                    a[d] = e.slice(0, f.index) + (f.index && g != e.length ? \" \" : \"\") + e.slice(g) || null\n                }\n                return !0\n            })\n        }),\n        addLineWidget: ed(function(a, b, c) {\n            return zf(this, a, b, c)\n        }),\n        removeLineWidget: function(a) {\n            a.clear()\n        },\n        markText: function(a, b, c) {\n            return Se(this, Nb(this, a), Nb(this, b), c, \"range\")\n        },\n        setBookmark: function(a, b) {\n            var c = {\n                replacedWith: b && (null == b.nodeType ? b.widget : b),\n                insertLeft: b && b.insertLeft,\n                clearWhenEmpty: !1,\n                shared: b && b.shared,\n                handleMouseEvents: b && b.handleMouseEvents\n            };\n            return a = Nb(this, a), Se(this, a, a, c, \"bookmark\")\n        },\n        findMarksAt: function(a) {\n            a = Nb(this, a);\n            var b = [],\n                c = dg(this, a.line).markedSpans;\n            if (c)\n                for (var d = 0; d < c.length; ++d) {\n                    var e = c[d];\n                    (null == e.from || e.from <= a.ch) && (null == e.to || e.to >= a.ch) && b.push(e.marker.parent || e.marker)\n                }\n            return b\n        },\n        findMarks: function(a, b, c) {\n            a = Nb(this, a), b = Nb(this, b);\n            var d = [],\n                e = a.line;\n            return this.iter(a.line, b.line + 1, function(f) {\n                var g = f.markedSpans;\n                if (g)\n                    for (var h = 0; h < g.length; h++) {\n                        var i = g[h];\n                        e == a.line && a.ch > i.to || null == i.from && e != a.line || e == b.line && i.from > b.ch || c && !c(i.marker) || d.push(i.marker.parent || i.marker)\n                    }++e\n            }), d\n        },\n        getAllMarks: function() {\n            var a = [];\n            return this.iter(function(b) {\n                var c = b.markedSpans;\n                if (c)\n                    for (var d = 0; d < c.length; ++d) null != c[d].from && a.push(c[d].marker)\n            }), a\n        },\n        posFromIndex: function(a) {\n            var b, c = this.first;\n            return this.iter(function(d) {\n                var e = d.text.length + 1;\n                return e > a ? (b = a, !0) : (a -= e, ++c, void 0)\n            }), Nb(this, ob(c, b))\n        },\n        indexFromPos: function(a) {\n            a = Nb(this, a);\n            var b = a.ch;\n            return a.line < this.first || a.ch < 0 ? 0 : (this.iter(this.first, a.line, function(a) {\n                b += a.text.length + 1\n            }), b)\n        },\n        copy: function(a) {\n            var b = new $f(fg(this, this.first, this.first + this.size), this.modeOption, this.first);\n            return b.scrollTop = this.scrollTop, b.scrollLeft = this.scrollLeft, b.sel = this.sel, b.extend = !1, a && (b.history.undoDepth = this.history.undoDepth, b.setHistory(this.getHistory())), b\n        },\n        linkedDoc: function(a) {\n            a || (a = {});\n            var b = this.first,\n                c = this.first + this.size;\n            null != a.from && a.from > b && (b = a.from), null != a.to && a.to < c && (c = a.to);\n            var d = new $f(fg(this, b, c), a.mode || this.modeOption, b);\n            return a.sharedHist && (d.history = this.history), (this.linked || (this.linked = [])).push({\n                doc: d,\n                sharedHist: a.sharedHist\n            }), d.linked = [{\n                doc: this,\n                isParent: !0,\n                sharedHist: a.sharedHist\n            }], We(d, Ve(this)), d\n        },\n        unlinkDoc: function(a) {\n            if (a instanceof v && (a = a.doc), this.linked)\n                for (var b = 0; b < this.linked.length; ++b) {\n                    var c = this.linked[b];\n                    if (c.doc == a) {\n                        this.linked.splice(b, 1), a.unlinkDoc(this), Xe(Ve(this));\n                        break\n                    }\n                }\n            if (a.history == this.history) {\n                var d = [a.id];\n                bg(a, function(a) {\n                    d.push(a.id)\n                }, !0), a.history = new lg(null), a.history.done = wg(this.history.done, d), a.history.undone = wg(this.history.undone, d)\n            }\n        },\n        iterLinkedDocs: function(a) {\n            bg(this, a)\n        },\n        getMode: function() {\n            return this.mode\n        },\n        getEditor: function() {\n            return this.cm\n        }\n    }), $f.prototype.eachLine = $f.prototype.iter;\n    var _f = \"iter insert remove copy getEditor\".split(\" \");\n    for (var ag in $f.prototype) $f.prototype.hasOwnProperty(ag) && ah(_f, ag) < 0 && (v.prototype[ag] = function(a) {\n        return function() {\n            return a.apply(this.doc, arguments)\n        }\n    }($f.prototype[ag]));\n    Pg($f);\n    var Ag = v.e_preventDefault = function(a) {\n            a.preventDefault ? a.preventDefault() : a.returnValue = !1\n        },\n        Bg = v.e_stopPropagation = function(a) {\n            a.stopPropagation ? a.stopPropagation() : a.cancelBubble = !0\n        },\n        Dg = v.e_stop = function(a) {\n            Ag(a), Bg(a)\n        },\n        Gg = v.on = function(a, b, c) {\n            if (a.addEventListener) a.addEventListener(b, c, !1);\n            else if (a.attachEvent) a.attachEvent(\"on\" + b, c);\n            else {\n                var d = a._handlers || (a._handlers = {}),\n                    e = d[b] || (d[b] = []);\n                e.push(c)\n            }\n        },\n        Hg = v.off = function(a, b, c) {\n            if (a.removeEventListener) a.removeEventListener(b, c, !1);\n            else if (a.detachEvent) a.detachEvent(\"on\" + b, c);\n            else {\n                var d = a._handlers && a._handlers[b];\n                if (!d) return;\n                for (var e = 0; e < d.length; ++e)\n                    if (d[e] == c) {\n                        d.splice(e, 1);\n                        break\n                    }\n            }\n        },\n        Ig = v.signal = function(a, b) {\n            var c = a._handlers && a._handlers[b];\n            if (c)\n                for (var d = Array.prototype.slice.call(arguments, 2), e = 0; e < c.length; ++e) c[e].apply(null, d)\n        },\n        Jg = null,\n        Qg = 30,\n        Rg = v.Pass = {\n            toString: function() {\n                return \"CodeMirror.Pass\"\n            }\n        },\n        Sg = {\n            scroll: !1\n        },\n        Tg = {\n            origin: \"*mouse\"\n        },\n        Ug = {\n            origin: \"+move\"\n        };\n    Vg.prototype.set = function(a, b) {\n        clearTimeout(this.id), this.id = setTimeout(b, a)\n    };\n    var Wg = v.countColumn = function(a, b, c, d, e) {\n            null == b && (b = a.search(/[^\\s\\u00a0]/), -1 == b && (b = a.length));\n            for (var f = d || 0, g = e || 0;;) {\n                var h = a.indexOf(\"\t\", f);\n                if (0 > h || h >= b) return g + (b - f);\n                g += h - f, g += c - g % c, f = h + 1\n            }\n        },\n        Yg = [\"\"],\n        _g = function(a) {\n            a.select()\n        };\n    m ? _g = function(a) {\n        a.selectionStart = 0, a.selectionEnd = a.value.length\n    } : d && (_g = function(a) {\n        try {\n            a.select()\n        } catch (b) {}\n    });\n    var nh, gh = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/,\n        hh = v.isWordChar = function(a) {\n            return /\\w/.test(a) || a > \"\\x80\" && (a.toUpperCase() != a.toLowerCase() || gh.test(a))\n        },\n        kh = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n    nh = document.createRange ? function(a, b, c, d) {\n        var e = document.createRange();\n        return e.setEnd(d || a, c), e.setStart(a, b), e\n    } : function(a, b, c) {\n        var d = document.body.createTextRange();\n        try {\n            d.moveToElementText(a.parentNode)\n        } catch (e) {\n            return d\n        }\n        return d.collapse(!0), d.moveEnd(\"character\", c), d.moveStart(\"character\", b), d\n    };\n    var qh = v.contains = function(a, b) {\n        if (3 == b.nodeType && (b = b.parentNode), a.contains) return a.contains(b);\n        do\n            if (11 == b.nodeType && (b = b.host), b == a) return !0; while (b = b.parentNode)\n    };\n    d && 11 > e && (rh = function() {\n        try {\n            return document.activeElement\n        } catch (a) {\n            return document.body\n        }\n    });\n    var Bh, Dh, th = v.rmClass = function(a, b) {\n            var c = a.className,\n                d = sh(b).exec(c);\n            if (d) {\n                var e = c.slice(d.index + d[0].length);\n                a.className = c.slice(0, d.index) + (e ? d[1] + e : \"\")\n            }\n        },\n        uh = v.addClass = function(a, b) {\n            var c = a.className;\n            sh(b).test(c) || (a.className += (c ? \" \" : \"\") + b)\n        },\n        xh = !1,\n        Ah = function() {\n            if (d && 9 > e) return !1;\n            var a = mh(\"div\");\n            return \"draggable\" in a || \"dragDrop\" in a\n        }(),\n        Fh = v.splitLines = 3 != \"\\n\\nb\".split(/\\n/).length ? function(a) {\n            for (var b = 0, c = [], d = a.length; d >= b;) {\n                var e = a.indexOf(\"\\n\", b); - 1 == e && (e = a.length);\n                var f = a.slice(b, \"\\r\" == a.charAt(e - 1) ? e - 1 : e),\n                    g = f.indexOf(\"\\r\"); - 1 != g ? (c.push(f.slice(0, g)), b += g + 1) : (c.push(f), b = e + 1)\n            }\n            return c\n        } : function(a) {\n            return a.split(/\\r\\n?|\\n/)\n        },\n        Gh = window.getSelection ? function(a) {\n            try {\n                return a.selectionStart != a.selectionEnd\n            } catch (b) {\n                return !1\n            }\n        } : function(a) {\n            try {\n                var b = a.ownerDocument.selection.createRange()\n            } catch (c) {}\n            return b && b.parentElement() == a ? 0 != b.compareEndPoints(\"StartToEnd\", b) : !1\n        },\n        Hh = function() {\n            var a = mh(\"div\");\n            return \"oncopy\" in a ? !0 : (a.setAttribute(\"oncopy\", \"return;\"), \"function\" == typeof a.oncopy)\n        }(),\n        Ih = null,\n        Kh = {\n            3: \"Enter\",\n            8: \"Backspace\",\n            9: \"Tab\",\n            13: \"Enter\",\n            16: \"Shift\",\n            17: \"Ctrl\",\n            18: \"Alt\",\n            19: \"Pause\",\n            20: \"CapsLock\",\n            27: \"Esc\",\n            32: \"Space\",\n            33: \"PageUp\",\n            34: \"PageDown\",\n            35: \"End\",\n            36: \"Home\",\n            37: \"Left\",\n            38: \"Up\",\n            39: \"Right\",\n            40: \"Down\",\n            44: \"PrintScrn\",\n            45: \"Insert\",\n            46: \"Delete\",\n            59: \";\",\n            61: \"=\",\n            91: \"Mod\",\n            92: \"Mod\",\n            93: \"Mod\",\n            107: \"=\",\n            109: \"-\",\n            127: \"Delete\",\n            173: \"-\",\n            186: \";\",\n            187: \"=\",\n            188: \",\",\n            189: \"-\",\n            190: \".\",\n            191: \"/\",\n            192: \"`\",\n            219: \"[\",\n            220: \"\\\\\",\n            221: \"]\",\n            222: \"'\",\n            63232: \"Up\",\n            63233: \"Down\",\n            63234: \"Left\",\n            63235: \"Right\",\n            63272: \"Delete\",\n            63273: \"Home\",\n            63275: \"End\",\n            63276: \"PageUp\",\n            63277: \"PageDown\",\n            63302: \"Insert\"\n        };\n    v.keyNames = Kh,\n        function() {\n            for (var a = 0; 10 > a; a++) Kh[a + 48] = Kh[a + 96] = String(a);\n            for (var a = 65; 90 >= a; a++) Kh[a] = String.fromCharCode(a);\n            for (var a = 1; 12 >= a; a++) Kh[a + 111] = Kh[a + 63235] = \"F\" + a\n        }();\n    var Uh, Zh = function() {\n        function c(c) {\n            return 247 >= c ? a.charAt(c) : c >= 1424 && 1524 >= c ? \"R\" : c >= 1536 && 1773 >= c ? b.charAt(c - 1536) : c >= 1774 && 2220 >= c ? \"r\" : c >= 8192 && 8203 >= c ? \"w\" : 8204 == c ? \"b\" : \"L\"\n        }\n\n        function j(a, b, c) {\n            this.level = a, this.from = b, this.to = c\n        }\n        var a = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\",\n            b = \"rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm\",\n            d = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/,\n            e = /[stwN]/,\n            f = /[LRr]/,\n            g = /[Lb1n]/,\n            h = /[1n]/,\n            i = \"L\";\n        return function(a) {\n            if (!d.test(a)) return !1;\n            for (var m, b = a.length, k = [], l = 0; b > l; ++l) k.push(m = c(a.charCodeAt(l)));\n            for (var l = 0, n = i; b > l; ++l) {\n                var m = k[l];\n                \"m\" == m ? k[l] = n : n = m\n            }\n            for (var l = 0, o = i; b > l; ++l) {\n                var m = k[l];\n                \"1\" == m && \"r\" == o ? k[l] = \"n\" : f.test(m) && (o = m, \"r\" == m && (k[l] = \"R\"))\n            }\n            for (var l = 1, n = k[0]; b - 1 > l; ++l) {\n                var m = k[l];\n                \"+\" == m && \"1\" == n && \"1\" == k[l + 1] ? k[l] = \"1\" : \",\" != m || n != k[l + 1] || \"1\" != n && \"n\" != n || (k[l] = n), n = m\n            }\n            for (var l = 0; b > l; ++l) {\n                var m = k[l];\n                if (\",\" == m) k[l] = \"N\";\n                else if (\"%\" == m) {\n                    for (var p = l + 1; b > p && \"%\" == k[p]; ++p);\n                    for (var q = l && \"!\" == k[l - 1] || b > p && \"1\" == k[p] ? \"1\" : \"N\", r = l; p > r; ++r) k[r] = q;\n                    l = p - 1\n                }\n            }\n            for (var l = 0, o = i; b > l; ++l) {\n                var m = k[l];\n                \"L\" == o && \"1\" == m ? k[l] = \"L\" : f.test(m) && (o = m)\n            }\n            for (var l = 0; b > l; ++l)\n                if (e.test(k[l])) {\n                    for (var p = l + 1; b > p && e.test(k[p]); ++p);\n                    for (var s = \"L\" == (l ? k[l - 1] : i), t = \"L\" == (b > p ? k[p] : i), q = s || t ? \"L\" : \"R\", r = l; p > r; ++r) k[r] = q;\n                    l = p - 1\n                } for (var v, u = [], l = 0; b > l;)\n                if (g.test(k[l])) {\n                    var w = l;\n                    for (++l; b > l && g.test(k[l]); ++l);\n                    u.push(new j(0, w, l))\n                } else {\n                    var x = l,\n                        y = u.length;\n                    for (++l; b > l && \"L\" != k[l]; ++l);\n                    for (var r = x; l > r;)\n                        if (h.test(k[r])) {\n                            r > x && u.splice(y, 0, new j(1, x, r));\n                            var z = r;\n                            for (++r; l > r && h.test(k[r]); ++r);\n                            u.splice(y, 0, new j(2, z, r)), x = r\n                        } else ++r;\n                    l > x && u.splice(y, 0, new j(1, x, l))\n                } return 1 == u[0].level && (v = a.match(/^\\s+/)) && (u[0].from = v[0].length, u.unshift(new j(0, 0, v[0].length))), 1 == $g(u).level && (v = a.match(/\\s+$/)) && ($g(u).to -= v[0].length, u.push(new j(0, b - v[0].length, b))), 2 == u[0].level && u.unshift(new j(1, u[0].to, u[0].to)), u[0].level != $g(u).level && u.push(new j(u[0].level, b, b)), u\n        }\n    }();\n    return v.version = \"5.3.1\", v\n}),\nfunction(a) {\n    \"object\" == typeof exports && \"object\" == typeof module ? a(require(\"../lib/codemirror\")) : \"function\" == typeof define && define.amd ? define([\"../lib/codemirror\"], a) : a(CodeMirror)\n}(function(a) {\n    function e(a, b, e, g) {\n        var h = a.getLineHandle(b.line),\n            i = b.ch - 1,\n            j = i >= 0 && d[h.text.charAt(i)] || d[h.text.charAt(++i)];\n        if (!j) return null;\n        var k = \">\" == j.charAt(1) ? 1 : -1;\n        if (e && k > 0 != (i == b.ch)) return null;\n        var l = a.getTokenTypeAt(c(b.line, i + 1)),\n            m = f(a, c(b.line, i + (k > 0 ? 1 : 0)), k, l || null, g);\n        return null == m ? null : {\n            from: c(b.line, i),\n            to: m && m.pos,\n            match: m && m.ch == j.charAt(0),\n            forward: k > 0\n        }\n    }\n\n    function f(a, b, e, f, g) {\n        for (var h = g && g.maxScanLineLength || 1e4, i = g && g.maxScanLines || 1e3, j = [], k = g && g.bracketRegex ? g.bracketRegex : /[(){}[\\]]/, l = e > 0 ? Math.min(b.line + i, a.lastLine() + 1) : Math.max(a.firstLine() - 1, b.line - i), m = b.line; m != l; m += e) {\n            var n = a.getLine(m);\n            if (n) {\n                var o = e > 0 ? 0 : n.length - 1,\n                    p = e > 0 ? n.length : -1;\n                if (!(n.length > h))\n                    for (m == b.line && (o = b.ch - (0 > e ? 1 : 0)); o != p; o += e) {\n                        var q = n.charAt(o);\n                        if (k.test(q) && (void 0 === f || a.getTokenTypeAt(c(m, o + 1)) == f)) {\n                            var r = d[q];\n                            if (\">\" == r.charAt(1) == e > 0) j.push(q);\n                            else {\n                                if (!j.length) return {\n                                    pos: c(m, o),\n                                    ch: q\n                                };\n                                j.pop()\n                            }\n                        }\n                    }\n            }\n        }\n        return m - e == (e > 0 ? a.lastLine() : a.firstLine()) ? !1 : null\n    }\n\n    function g(a, d, f) {\n        for (var g = a.state.matchBrackets.maxHighlightLineLength || 1e3, h = [], i = a.listSelections(), j = 0; j < i.length; j++) {\n            var k = i[j].empty() && e(a, i[j].head, !1, f);\n            if (k && a.getLine(k.from.line).length <= g) {\n                var l = k.match ? \"CodeMirror-matchingbracket\" : \"CodeMirror-nonmatchingbracket\";\n                h.push(a.markText(k.from, c(k.from.line, k.from.ch + 1), {\n                    className: l\n                })), k.to && a.getLine(k.to.line).length <= g && h.push(a.markText(k.to, c(k.to.line, k.to.ch + 1), {\n                    className: l\n                }))\n            }\n        }\n        if (h.length) {\n            b && a.state.focused && a.focus();\n            var m = function() {\n                a.operation(function() {\n                    for (var a = 0; a < h.length; a++) h[a].clear()\n                })\n            };\n            if (!d) return m;\n            setTimeout(m, 800)\n        }\n    }\n\n    function i(a) {\n        a.operation(function() {\n            h && (h(), h = null), h = g(a, !1, a.state.matchBrackets)\n        })\n    }\n    var b = /MSIE \\d/.test(navigator.userAgent) && (null == document.documentMode || document.documentMode < 8),\n        c = a.Pos,\n        d = {\n            \"(\": \")>\",\n            \")\": \"(<\",\n            \"[\": \"]>\",\n            \"]\": \"[<\",\n            \"{\": \"}>\",\n            \"}\": \"{<\"\n        },\n        h = null;\n    a.defineOption(\"matchBrackets\", !1, function(b, c, d) {\n        d && d != a.Init && b.off(\"cursorActivity\", i), c && (b.state.matchBrackets = \"object\" == typeof c ? c : {}, b.on(\"cursorActivity\", i))\n    }), a.defineExtension(\"matchBrackets\", function() {\n        g(this, !0)\n    }), a.defineExtension(\"findMatchingBracket\", function(a, b, c) {\n        return e(this, a, b, c)\n    }), a.defineExtension(\"scanForBracket\", function(a, b, c, d) {\n        return f(this, a, b, c, d)\n    })\n}),\nfunction(a) {\n    \"object\" == typeof exports && \"object\" == typeof module ? a(require(\"../lib/codemirror\"),require(\"../addon/search/searchcursor\"), require(\"../addon/edit/matchbrackets\")) : \"function\" == typeof define && define.amd ? define([\"../lib/codemirror\", \"../addon/search/searchcursor\", \"../addon/edit/matchbrackets\"], a) : a(CodeMirror)\n}(function(a) {\n    \"use strict\";\n\n    function g(b, c, e) {\n        if (0 > e && 0 == c.ch) return b.clipPos(d(c.line - 1));\n        var f = b.getLine(c.line);\n        if (e > 0 && c.ch >= f.length) return b.clipPos(d(c.line + 1, 0));\n        for (var h, g = \"start\", i = c.ch, j = 0 > e ? 0 : f.length, k = 0; i != j; i += e, k++) {\n            var l = f.charAt(0 > e ? i - 1 : i),\n                m = \"_\" != l && a.isWordChar(l) ? \"w\" : \"o\";\n            if (\"w\" == m && l.toUpperCase() == l && (m = \"W\"), \"start\" == g) \"o\" != m && (g = \"in\", h = m);\n            else if (\"in\" == g && h != m) {\n                if (\"w\" == h && \"W\" == m && 0 > e && i--, \"W\" == h && \"w\" == m && e > 0) {\n                    h = \"w\";\n                    continue\n                }\n                break\n            }\n        }\n        return d(c.line, i)\n    }\n\n    function h(a, b) {\n        a.extendSelectionsBy(function(c) {\n            return a.display.shift || a.doc.extend || c.empty() ? g(a.doc, c.head, b) : 0 > b ? c.from() : c.to()\n        })\n    }\n\n    function i(a, b) {\n        a.operation(function() {\n            for (var c = a.listSelections().length, e = [], f = -1, g = 0; c > g; g++) {\n                var h = a.listSelections()[g].head;\n                if (!(h.line <= f)) {\n                    var i = d(h.line + (b ? 0 : 1), 0);\n                    a.replaceRange(\"\\n\", i, null, \"+insertLine\"), a.indentLine(i.line, null, !0), e.push({\n                        head: i,\n                        anchor: i\n                    }), f = h.line + 1\n                }\n            }\n            a.setSelections(e)\n        })\n    }\n\n    function j(b, c) {\n        for (var e = c.ch, f = e, g = b.getLine(c.line); e && a.isWordChar(g.charAt(e - 1));) --e;\n        for (; f < g.length && a.isWordChar(g.charAt(f));) ++f;\n        return {\n            from: d(c.line, e),\n            to: d(c.line, f),\n            word: g.slice(e, f)\n        }\n    }\n\n    function l(a) {\n        var b = a.getCursor(),\n            c = a.scanForBracket(b, -1);\n        if (c)\n            for (;;) {\n                var e = a.scanForBracket(b, 1);\n                if (!e) return;\n                if (e.ch == k.charAt(k.indexOf(c.ch) + 1)) return a.setSelection(d(c.pos.line, c.pos.ch + 1), e.pos, !1), !0;\n                b = d(e.pos.line, e.pos.ch + 1)\n            }\n    }\n\n    function n(a, b) {\n        for (var f, c = a.listSelections(), e = [], g = 0; g < c.length; g++) {\n            var h = c[g];\n            if (!h.empty()) {\n                for (var i = h.from().line, j = h.to().line; g < c.length - 1 && c[g + 1].from().line == j;) j = h[++g].to().line;\n                e.push(i, j)\n            }\n        }\n        e.length ? f = !0 : e.push(a.firstLine(), a.lastLine()), a.operation(function() {\n            for (var c = [], g = 0; g < e.length; g += 2) {\n                var h = e[g],\n                    i = e[g + 1],\n                    j = d(h, 0),\n                    k = d(i),\n                    l = a.getRange(j, k, !1);\n                b ? l.sort() : l.sort(function(a, b) {\n                    var c = a.toUpperCase(),\n                        d = b.toUpperCase();\n                    return c != d && (a = c, b = d), b > a ? -1 : a == b ? 0 : 1\n                }), a.replaceRange(l, j, k), f && c.push({\n                    anchor: j,\n                    head: k\n                })\n            }\n            f && a.setSelections(c, 0)\n        })\n    }\n\n    function p(b, c) {\n        b.operation(function() {\n            for (var d = b.listSelections(), e = [], f = [], g = 0; g < d.length; g++) {\n                var h = d[g];\n                h.empty() ? (e.push(g), f.push(\"\")) : f.push(c(b.getRange(h.from(), h.to())))\n            }\n            b.replaceSelections(f, \"around\", \"case\");\n            for (var i, g = e.length - 1; g >= 0; g--) {\n                var h = d[e[g]];\n                if (!(i && a.cmpPos(h.head, i) > 0)) {\n                    var k = j(b, h.head);\n                    i = k.from, b.replaceRange(c(k.word), k.from, k.to)\n                }\n            }\n        })\n    }\n\n    function q(b) {\n        var c = b.getCursor(\"from\"),\n            d = b.getCursor(\"to\");\n        if (0 == a.cmpPos(c, d)) {\n            var e = j(b, c);\n            if (!e.word) return;\n            c = e.from, d = e.to\n        }\n        return {\n            from: c,\n            to: d,\n            query: b.getRange(c, d),\n            word: e\n        }\n    }\n\n    function r(a, b) {\n        var c = q(a);\n        if (c) {\n            var e = c.query,\n                f = a.getSearchCursor(e, b ? c.to : c.from);\n            (b ? f.findNext() : f.findPrevious()) ? a.setSelection(f.from(), f.to()): (f = a.getSearchCursor(e, b ? d(a.firstLine(), 0) : a.clipPos(d(a.lastLine()))), (b ? f.findNext() : f.findPrevious()) ? a.setSelection(f.from(), f.to()) : c.word && a.setSelection(c.from, c.to))\n        }\n    }\n    var b = a.keyMap.sublime = {\n            fallthrough: \"default\"\n        },\n        c = a.commands,\n        d = a.Pos,\n        e = a.keyMap[\"default\"] == a.keyMap.macDefault,\n        f = e ? \"Cmd-\" : \"Ctrl-\";\n    c[b[\"Alt-Left\"] = \"goSubwordLeft\"] = function(a) {\n        h(a, -1)\n    }, c[b[\"Alt-Right\"] = \"goSubwordRight\"] = function(a) {\n        h(a, 1)\n    }, c[b[f + \"Up\"] = \"scrollLineUp\"] = function(a) {\n        var b = a.getScrollInfo();\n        if (!a.somethingSelected()) {\n            var c = a.lineAtHeight(b.top + b.clientHeight, \"local\");\n            a.getCursor().line >= c && a.execCommand(\"goLineUp\")\n        }\n        a.scrollTo(null, b.top - a.defaultTextHeight())\n    }, c[b[f + \"Down\"] = \"scrollLineDown\"] = function(a) {\n        var b = a.getScrollInfo();\n        if (!a.somethingSelected()) {\n            var c = a.lineAtHeight(b.top, \"local\") + 1;\n            a.getCursor().line <= c && a.execCommand(\"goLineDown\")\n        }\n        a.scrollTo(null, b.top + a.defaultTextHeight())\n    }, c[b[\"Shift-\" + f + \"L\"] = \"splitSelectionByLine\"] = function(a) {\n        for (var b = a.listSelections(), c = [], e = 0; e < b.length; e++)\n            for (var f = b[e].from(), g = b[e].to(), h = f.line; h <= g.line; ++h) g.line > f.line && h == g.line && 0 == g.ch || c.push({\n                anchor: h == f.line ? f : d(h, 0),\n                head: h == g.line ? g : d(h)\n            });\n        a.setSelections(c, 0)\n    }, b[\"Shift-Tab\"] = \"indentLess\", c[b.Esc = \"singleSelectionTop\"] = function(a) {\n        var b = a.listSelections()[0];\n        a.setSelection(b.anchor, b.head, {\n            scroll: !1\n        })\n    }, c[b[f + \"L\"] = \"selectLine\"] = function(a) {\n        for (var b = a.listSelections(), c = [], e = 0; e < b.length; e++) {\n            var f = b[e];\n            c.push({\n                anchor: d(f.from().line, 0),\n                head: d(f.to().line + 1, 0)\n            })\n        }\n        a.setSelections(c)\n    }, b[\"Shift-\" + f + \"K\"] = \"deleteLine\", c[b[f + \"Enter\"] = \"insertLineAfter\"] = function(a) {\n        i(a, !1)\n    }, c[b[\"Shift-\" + f + \"Enter\"] = \"insertLineBefore\"] = function(a) {\n        i(a, !0)\n    }, c[b[f + \"D\"] = \"selectNextOccurrence\"] = function(b) {\n        var c = b.getCursor(\"from\"),\n            e = b.getCursor(\"to\"),\n            f = b.state.sublimeFindFullWord == b.doc.sel;\n        if (0 == a.cmpPos(c, e)) {\n            var g = j(b, c);\n            if (!g.word) return;\n            b.setSelection(g.from, g.to), f = !0\n        } else {\n            var h = b.getRange(c, e),\n                i = f ? new RegExp(\"\\\\b\" + h + \"\\\\b\") : h,\n                k = b.getSearchCursor(i, e);\n            k.findNext() ? b.addSelection(k.from(), k.to()) : (k = b.getSearchCursor(i, d(b.firstLine(), 0)), k.findNext() && b.addSelection(k.from(), k.to()))\n        }\n        f && (b.state.sublimeFindFullWord = b.doc.sel)\n    };\n    var k = \"(){}[]\";\n    c[b[\"Shift-\" + f + \"Space\"] = \"selectScope\"] = function(a) {\n        l(a) || a.execCommand(\"selectAll\")\n    }, c[b[\"Shift-\" + f + \"M\"] = \"selectBetweenBrackets\"] = function(b) {\n        return l(b) ? void 0 : a.Pass\n    }, c[b[f + \"M\"] = \"goToBracket\"] = function(b) {\n        b.extendSelectionsBy(function(c) {\n            var e = b.scanForBracket(c.head, 1);\n            if (e && 0 != a.cmpPos(e.pos, c.head)) return e.pos;\n            var f = b.scanForBracket(c.head, -1);\n            return f && d(f.pos.line, f.pos.ch + 1) || c.head\n        })\n    };\n    var m = e ? \"Cmd-Ctrl-\" : \"Shift-Ctrl-\";\n    c[b[m + \"Up\"] = \"swapLineUp\"] = function(a) {\n        for (var b = a.listSelections(), c = [], e = a.firstLine() - 1, f = [], g = 0; g < b.length; g++) {\n            var h = b[g],\n                i = h.from().line - 1,\n                j = h.to().line;\n            f.push({\n                anchor: d(h.anchor.line - 1, h.anchor.ch),\n                head: d(h.head.line - 1, h.head.ch)\n            }), 0 != h.to().ch || h.empty() || --j, i > e ? c.push(i, j) : c.length && (c[c.length - 1] = j), e = j\n        }\n        a.operation(function() {\n            for (var b = 0; b < c.length; b += 2) {\n                var e = c[b],\n                    g = c[b + 1],\n                    h = a.getLine(e);\n                a.replaceRange(\"\", d(e, 0), d(e + 1, 0), \"+swapLine\"), g > a.lastLine() ? a.replaceRange(\"\\n\" + h, d(a.lastLine()), null, \"+swapLine\") : a.replaceRange(h + \"\\n\", d(g, 0), null, \"+swapLine\")\n            }\n            a.setSelections(f), a.scrollIntoView()\n        })\n    }, c[b[m + \"Down\"] = \"swapLineDown\"] = function(a) {\n        for (var b = a.listSelections(), c = [], e = a.lastLine() + 1, f = b.length - 1; f >= 0; f--) {\n            var g = b[f],\n                h = g.to().line + 1,\n                i = g.from().line;\n            0 != g.to().ch || g.empty() || h--, e > h ? c.push(h, i) : c.length && (c[c.length - 1] = i), e = i\n        }\n        a.operation(function() {\n            for (var b = c.length - 2; b >= 0; b -= 2) {\n                var e = c[b],\n                    f = c[b + 1],\n                    g = a.getLine(e);\n                e == a.lastLine() ? a.replaceRange(\"\", d(e - 1), d(e), \"+swapLine\") : a.replaceRange(\"\", d(e, 0), d(e + 1, 0), \"+swapLine\"), a.replaceRange(g + \"\\n\", d(f, 0), null, \"+swapLine\")\n            }\n            a.scrollIntoView()\n        })\n    }, b[f + \"/\"] = \"toggleComment\", c[b[f + \"J\"] = \"joinLines\"] = function(a) {\n        for (var b = a.listSelections(), c = [], e = 0; e < b.length; e++) {\n            for (var f = b[e], g = f.from(), h = g.line, i = f.to().line; e < b.length - 1 && b[e + 1].from().line == i;) i = b[++e].to().line;\n            c.push({\n                start: h,\n                end: i,\n                anchor: !f.empty() && g\n            })\n        }\n        a.operation(function() {\n            for (var b = 0, e = [], f = 0; f < c.length; f++) {\n                for (var i, g = c[f], h = g.anchor && d(g.anchor.line - b, g.anchor.ch), j = g.start; j <= g.end; j++) {\n                    var k = j - b;\n                    j == g.end && (i = d(k, a.getLine(k).length + 1)), k < a.lastLine() && (a.replaceRange(\" \", d(k), d(k + 1, /^\\s*/.exec(a.getLine(k + 1))[0].length)), ++b)\n                }\n                e.push({\n                    anchor: h || i,\n                    head: i\n                })\n            }\n            a.setSelections(e, 0)\n        })\n    }, c[b[\"Shift-\" + f + \"D\"] = \"duplicateLine\"] = function(a) {\n        a.operation(function() {\n            for (var b = a.listSelections().length, c = 0; b > c; c++) {\n                var e = a.listSelections()[c];\n                e.empty() ? a.replaceRange(a.getLine(e.head.line) + \"\\n\", d(e.head.line, 0)) : a.replaceRange(a.getRange(e.from(), e.to()), e.from())\n            }\n            a.scrollIntoView()\n        })\n    }, b[f + \"T\"] = \"transposeChars\", c[b.F9 = \"sortLines\"] = function(a) {\n        n(a, !0)\n    }, c[b[f + \"F9\"] = \"sortLinesInsensitive\"] = function(a) {\n        n(a, !1)\n    }, c[b.F2 = \"nextBookmark\"] = function(a) {\n        var b = a.state.sublimeBookmarks;\n        if (b)\n            for (; b.length;) {\n                var c = b.shift(),\n                    d = c.find();\n                if (d) return b.push(c), a.setSelection(d.from, d.to)\n            }\n    }, c[b[\"Shift-F2\"] = \"prevBookmark\"] = function(a) {\n        var b = a.state.sublimeBookmarks;\n        if (b)\n            for (; b.length;) {\n                b.unshift(b.pop());\n                var c = b[b.length - 1].find();\n                if (c) return a.setSelection(c.from, c.to);\n                b.pop()\n            }\n    }, c[b[f + \"F2\"] = \"toggleBookmark\"] = function(a) {\n        for (var b = a.listSelections(), c = a.state.sublimeBookmarks || (a.state.sublimeBookmarks = []), d = 0; d < b.length; d++) {\n            for (var e = b[d].from(), f = b[d].to(), g = a.findMarks(e, f), h = 0; h < g.length; h++)\n                if (g[h].sublimeBookmark) {\n                    g[h].clear();\n                    for (var i = 0; i < c.length; i++) c[i] == g[h] && c.splice(i--, 1);\n                    break\n                } h == g.length && c.push(a.markText(e, f, {\n                sublimeBookmark: !0,\n                clearWhenEmpty: !1\n            }))\n        }\n    }, c[b[\"Shift-\" + f + \"F2\"] = \"clearBookmarks\"] = function(a) {\n        var b = a.state.sublimeBookmarks;\n        if (b)\n            for (var c = 0; c < b.length; c++) b[c].clear();\n        b.length = 0\n    }, c[b[\"Alt-F2\"] = \"selectBookmarks\"] = function(a) {\n        var b = a.state.sublimeBookmarks,\n            c = [];\n        if (b)\n            for (var d = 0; d < b.length; d++) {\n                var e = b[d].find();\n                e ? c.push({\n                    anchor: e.from,\n                    head: e.to\n                }) : b.splice(d--, 0)\n            }\n        c.length && a.setSelections(c, 0)\n    }, b[\"Alt-Q\"] = \"wrapLines\";\n    var o = f + \"K \";\n    b[o + f + \"Backspace\"] = \"delLineLeft\", c[b.Backspace = \"smartBackspace\"] = function(b) {\n        if (b.somethingSelected()) return a.Pass;\n        var c = b.getCursor(),\n            d = b.getRange({\n                line: c.line,\n                ch: 0\n            }, c),\n            e = a.countColumn(d, null, b.getOption(\"tabSize\"));\n        return d && !/\\S/.test(d) && 0 == e % b.getOption(\"indentUnit\") ? b.indentSelection(\"subtract\") : a.Pass\n    }, c[b[o + f + \"K\"] = \"delLineRight\"] = function(a) {\n        a.operation(function() {\n            for (var b = a.listSelections(), c = b.length - 1; c >= 0; c--) a.replaceRange(\"\", b[c].anchor, d(b[c].to().line), \"+delete\");\n            a.scrollIntoView()\n        })\n    }, c[b[o + f + \"U\"] = \"upcaseAtCursor\"] = function(a) {\n        p(a, function(a) {\n            return a.toUpperCase()\n        })\n    }, c[b[o + f + \"L\"] = \"downcaseAtCursor\"] = function(a) {\n        p(a, function(a) {\n            return a.toLowerCase()\n        })\n    }, c[b[o + f + \"Space\"] = \"setSublimeMark\"] = function(a) {\n        a.state.sublimeMark && a.state.sublimeMark.clear(), a.state.sublimeMark = a.setBookmark(a.getCursor())\n    }, c[b[o + f + \"A\"] = \"selectToSublimeMark\"] = function(a) {\n        var b = a.state.sublimeMark && a.state.sublimeMark.find();\n        b && a.setSelection(a.getCursor(), b)\n    }, c[b[o + f + \"W\"] = \"deleteToSublimeMark\"] = function(b) {\n        var c = b.state.sublimeMark && b.state.sublimeMark.find();\n        if (c) {\n            var d = b.getCursor(),\n                e = c;\n            if (a.cmpPos(d, e) > 0) {\n                var f = e;\n                e = d, d = f\n            }\n            b.state.sublimeKilled = b.getRange(d, e), b.replaceRange(\"\", d, e)\n        }\n    }, c[b[o + f + \"X\"] = \"swapWithSublimeMark\"] = function(a) {\n        var b = a.state.sublimeMark && a.state.sublimeMark.find();\n        b && (a.state.sublimeMark.clear(), a.state.sublimeMark = a.setBookmark(a.getCursor()), a.setCursor(b))\n    }, c[b[o + f + \"Y\"] = \"sublimeYank\"] = function(a) {\n        null != a.state.sublimeKilled && a.replaceSelection(a.state.sublimeKilled, null, \"paste\")\n    }, b[o + f + \"G\"] = \"clearBookmarks\", c[b[o + f + \"C\"] = \"showInCenter\"] = function(a) {\n        var b = a.cursorCoords(null, \"local\");\n        a.scrollTo(null, (b.top + b.bottom) / 2 - a.getScrollInfo().clientHeight / 2)\n    }, c[b[\"Shift-Alt-Up\"] = \"selectLinesUpward\"] = function(a) {\n        a.operation(function() {\n            for (var b = a.listSelections(), c = 0; c < b.length; c++) {\n                var e = b[c];\n                e.head.line > a.firstLine() && a.addSelection(d(e.head.line - 1, e.head.ch))\n            }\n        })\n    }, c[b[\"Shift-Alt-Down\"] = \"selectLinesDownward\"] = function(a) {\n        a.operation(function() {\n            for (var b = a.listSelections(), c = 0; c < b.length; c++) {\n                var e = b[c];\n                e.head.line < a.lastLine() && a.addSelection(d(e.head.line + 1, e.head.ch))\n            }\n        })\n    }, c[b[f + \"F3\"] = \"findUnder\"] = function(a) {\n        r(a, !0)\n    }, c[b[\"Shift-\" + f + \"F3\"] = \"findUnderPrevious\"] = function(a) {\n        r(a, !1)\n    }, c[b[\"Alt-F3\"] = \"findAllUnder\"] = function(a) {\n        var b = q(a);\n        if (b) {\n            for (var c = a.getSearchCursor(b.query), d = [], e = -1; c.findNext();) d.push({\n                anchor: c.from(),\n                head: c.to()\n            }), c.from().line <= b.from.line && c.from().ch <= b.from.ch && e++;\n            a.setSelections(d, e)\n        }\n    }, b[\"Shift-\" + f + \"[\"] = \"fold\", b[\"Shift-\" + f + \"]\"] = \"unfold\", b[o + f + \"0\"] = b[o + f + \"j\"] = \"unfoldAll\", b[f + \"I\"] = \"findIncremental\", b[\"Shift-\" + f + \"I\"] = \"findIncrementalReverse\", b[f + \"H\"] = \"replace\", b.F3 = \"findNext\", b[\"Shift-F3\"] = \"findPrev\", a.normalizeKeyMap(b)\n});","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}